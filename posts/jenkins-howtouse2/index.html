<!doctype html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Jenkins 사용법 2 (React / Nginx)" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Jenkins 사용 방법 (React / Nginx)" /><meta property="og:description" content="Jenkins 사용 방법 (React / Nginx)" /><link rel="canonical" href="https://backnback.github.io/posts/jenkins-howtouse2/" /><meta property="og:url" content="https://backnback.github.io/posts/jenkins-howtouse2/" /><meta property="og:site_name" content="리버" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-11-28T22:00:00+09:00" /><meta property="og:image" content="https://backnback.github.io/assets/img/profile.jpg" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://backnback.github.io/assets/img/profile.jpg" /><meta property="twitter:title" content="Jenkins 사용법 2 (React / Nginx)" /><meta name="google-site-verification" content="googlea7baca2291ff3812.html" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-01-01T18:23:48+09:00","datePublished":"2024-11-28T22:00:00+09:00","description":"Jenkins 사용 방법 (React / Nginx)","headline":"Jenkins 사용법 2 (React / Nginx)","mainEntityOfPage":{"@type":"WebPage","@id":"https://backnback.github.io/posts/jenkins-howtouse2/"},"url":"https://backnback.github.io/posts/jenkins-howtouse2/"}</script><title>Jenkins 사용법 2 (React / Nginx) | 리버</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="리버"><meta name="application-name" content="리버"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/ko.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script async src="/assets/js/data/mathjax.js"></script> <script async src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script> <script> let pv = document.getElementById('pageviews'); if (pv !== null) { const uri = location.pathname.replace(/\/$/, ''); const url = `https://blogcounterbacknback.goatcounter.com/counter/${encodeURIComponent(uri)}.json`; fetch(url) .then((response) => response.json()) .then((data) => { const count = data.count.replace(/\s/g, ''); pv.innerText = new Intl.NumberFormat().format(count); }) .catch((error) => { pv.innerText = '1'; }); } </script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-9ZSXFFWEB4"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-9ZSXFFWEB4'); }); </script> <script async src="https://gc.zgo.at/count.js" data-goatcounter="https://blogcounterbacknback.goatcounter.com/count" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profile.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">리버</a><p class="site-subtitle fst-italic mb-0">Backend 개발자</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>홈</span> </a><li class="nav-item"> <a href="/posts/" class="nav-link"> <i class="fa-fw fas fa-feather-alt"></i> <span>게시글</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>정보</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/backnback" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['garam8796','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">홈</a> </span> <span>Jenkins 사용법 2 (React / Nginx)</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 포스트</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Jenkins 사용법 2 (React / Nginx)</h1><p class="post-desc fw-light mb-4">Jenkins 사용 방법 (React / Nginx)</p><div class="post-meta text-muted"> <span> 게시 <time data-ts="1732798800" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024/11/28 </time> </span> <span> 업데이트 <time data-ts="1735723428" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025/01/01 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/backnback">이가람</a> </em> </span><div> <span> <em id="pageviews"> <i class="fas fa-spinner fa-spin small"></i> </em> 조회 </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="4353 단어" > <em>24 분</em>읽는 시간</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Jenkins 사용법 2 (React / Nginx)</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">바로가기</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Jenkins 사용법 2 (React / Nginx)</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="6--jenkins를-사용하여-react-자동-배포하기"><span class="me-2">(6) Jenkins를 사용하여 React 자동 배포하기</span><a href="#6--jenkins를-사용하여-react-자동-배포하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p><strong>Dockerfile 생성</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Node.js 기반의 Alpine 이미지를 사용</span>
  FROM node:18-alpine
    
  <span class="c"># 2. 작업 디렉토리 설정</span>
  WORKDIR /app
    
  <span class="c"># 3. package.json과 package-lock.json을 먼저 복사</span>
  COPY package<span class="k">*</span>.json ./
    
  <span class="c"># 4. 의존성 설치 (npm 사용)</span>
  RUN npm <span class="nb">install</span>
    
  <span class="c"># 5. 애플리케이션 소스 코드 복사</span>
  COPY <span class="nb">.</span> <span class="nb">.</span>
    
  <span class="c"># 6. 포트 설정</span>
  EXPOSE 3000
    
  <span class="c"># 7. 앱 실행 (npm start)</span>
  CMD <span class="o">[</span><span class="s2">"npm"</span>, <span class="s2">"start"</span><span class="o">]</span>
    
</pre></table></code></div></div></ul><p><br /></p><ul><li><p><strong>Jenkins 설정</strong></p><p><a href="/assets/img/posts/jenkins-howtouse2/image.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 1.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 1.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 2.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 2.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 3.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 3.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p width="700" height="300" class="left"><br /></p><div class="clear"></div><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 5.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 5.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 6.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 6.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p><br /></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>docker build <span class="nt">-t</span> backtoback/bitcamp-final-front:1.0 <span class="nb">.</span> 
docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번! docker.io
docker push backtoback/bitcamp-final-front:1.0
</pre></table></code></div></div><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 7.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 7.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번! docker.io
docker pull backtoback/bitcamp-final-front:1.0 
docker ps <span class="nt">-aq</span> <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>bitcamp-front-final | <span class="nb">grep</span> <span class="nt">-q</span> <span class="nb">.</span> <span class="o">&amp;&amp;</span> docker <span class="nb">rm</span> <span class="nt">-f</span> <span class="si">$(</span>docker ps <span class="nt">-aq</span> <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>bitcamp-front-final<span class="si">)</span> <span class="o">||</span> <span class="nb">true
</span>docker run <span class="nt">-d</span>   <span class="nt">--name</span> bitcamp-front-final <span class="nt">-p</span> 3000:3000 backtoback/bitcamp-final-front:1.0
</pre></table></code></div></div><div class="table-wrapper"><table><tbody><tr><td>docker ps -aq –filter name=bitcamp-front-final<td>grep -q . &amp;&amp; docker rm -f $(docker ps -aq –filter name=bitcamp-front-final)<td> <td>true</table></div><div class="table-wrapper"><table><tbody><tr><td> <td>true 컨테이너 제거에 실패할 경우 빌드 실패 방지</table></div><p><br /></p><ul><li>Dashboard ⇒ bitcamp-final-front 아이템 클릭 ⇒ 지금 빌드 클릭<ul><li><p>빌드 전 상태</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>  <span class="o">[</span>student@bitcamp-svr-final ~]<span class="nv">$ </span><span class="nb">sudo </span>docker ps <span class="nt">-a</span>
  CONTAINER ID   IMAGE                          COMMAND                  CREATED        STATUS        PORTS                    NAMES
  58f547cfe445   backtoback/bitcamp-final:1.0   <span class="s2">"java -jar bitcamp-f…"</span>   8 hours ago    Up 8 hours    0.0.0.0:8080-&gt;8080/tcp   bitcamp-final
  5c1df2794973   bitcamp-final-front:first      <span class="s2">"docker-entrypoint.s…"</span>   12 hours ago   Up 12 hours   0.0.0.0:3000-&gt;3000/tcp   bitcamp-front-final
</pre></table></code></div></div></ul><p><br /></p><ul><li><p>Jenkins UI의 console output</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
</pre><td class="rouge-code"><pre>  Started by user admin
  Running as SYSTEM
  Building <span class="k">in </span>workspace /var/jenkins_home/workspace/bitcamp-final-front
  The recommended git tool is: NONE
  using credential 57dd14ae-bac2-4556-87ee-f49e178304ae
  Cloning the remote Git repository
  Cloning repository https://github.com/backnback/bitcamp-final-front.git
   <span class="o">&gt;</span> git init /var/jenkins_home/workspace/bitcamp-final-front <span class="c"># timeout=10</span>
  Fetching upstream changes from https://github.com/backnback/bitcamp-final-front.git
   <span class="o">&gt;</span> git <span class="nt">--version</span> <span class="c"># timeout=10</span>
   <span class="o">&gt;</span> git <span class="nt">--version</span> <span class="c"># 'git version 2.39.5'</span>
  using GIT_ASKPASS to <span class="nb">set </span>credentials 
   <span class="o">&gt;</span> git fetch <span class="nt">--tags</span> <span class="nt">--force</span> <span class="nt">--progress</span> <span class="nt">--</span> https://github.com/backnback/bitcamp-final-front.git +refs/heads/<span class="k">*</span>:refs/remotes/origin/<span class="k">*</span> <span class="c"># timeout=10</span>
   <span class="o">&gt;</span> git config remote.origin.url https://github.com/backnback/bitcamp-final-front.git <span class="c"># timeout=10</span>
   <span class="o">&gt;</span> git config <span class="nt">--add</span> remote.origin.fetch +refs/heads/<span class="k">*</span>:refs/remotes/origin/<span class="k">*</span> <span class="c"># timeout=10</span>
  Avoid second fetch
   <span class="o">&gt;</span> git rev-parse refs/remotes/origin/main^<span class="o">{</span>commit<span class="o">}</span> <span class="c"># timeout=10</span>
  Checking out Revision c964ea65d34d9754deda02263d0fbff39fe91565 <span class="o">(</span>refs/remotes/origin/main<span class="o">)</span>
   <span class="o">&gt;</span> git config core.sparsecheckout <span class="c"># timeout=10</span>
   <span class="o">&gt;</span> git checkout <span class="nt">-f</span> c964ea65d34d9754deda02263d0fbff39fe91565 <span class="c"># timeout=10</span>
  Commit message: <span class="s2">"Merge pull request #42 from backnback/cute-kkiri"</span>
  First <span class="nb">time </span>build. Skipping changelog.
  <span class="o">[</span>bitcamp-final-front] <span class="nv">$ </span>/bin/sh <span class="nt">-xe</span> /tmp/jenkins8977258763446046408.sh
  + docker build <span class="nt">-t</span> backtoback/bitcamp-final-front:1.0 <span class="nb">.</span>
  <span class="c">#0 building with "default" instance using docker driver</span>
        
  <span class="c">#1 [internal] load build definition from Dockerfile</span>
  <span class="c">#1 transferring dockerfile: 423B done</span>
  <span class="c">#1 DONE 0.0s</span>
        
  <span class="c">#2 [internal] load metadata for docker.io/library/node:18-alpine</span>
  <span class="c">#2 ...</span>
        
  <span class="c">#3 [auth] library/node:pull token for registry-1.docker.io</span>
  <span class="c">#3 DONE 0.0s</span>
        
  <span class="c">#2 [internal] load metadata for docker.io/library/node:18-alpine</span>
  <span class="c">#2 DONE 2.7s</span>
        
  <span class="c">#4 [internal] load .dockerignore</span>
  <span class="c">#4 transferring context: 2B done</span>
  <span class="c">#4 DONE 0.0s</span>
        
  <span class="c">#5 [1/5] FROM docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882</span>
  <span class="c">#5 resolve docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 0.0s done</span>
  <span class="c">#5 sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 7.67kB / 7.67kB done</span>
  <span class="c">#5 sha256:7000d2e73f938c4f62fdda6d398d7dffd50e6c129409ae2b1a36ccebf9289ffe 1.72kB / 1.72kB done</span>
  <span class="c">#5 sha256:870e987bd79332f29e9e21d7fa06ae028cfb507bb8bbca058f6eb60f7111cae9 6.20kB / 6.20kB done</span>
  <span class="c">#5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 0B / 3.62MB 0.1s</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 0B / 40.09MB 0.1s</span>
  <span class="c">#5 sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 0B / 1.39MB 0.1s</span>
  <span class="c">#5 ...</span>
        
  <span class="c">#6 [internal] load build context</span>
  <span class="c">#6 transferring context: 37.37MB 0.3s done</span>
  <span class="c">#6 DONE 0.4s</span>
        
  <span class="c">#5 [1/5] FROM docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882</span>
  <span class="c">#5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 1.05MB / 3.62MB 0.5s</span>
  <span class="c">#5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 3.62MB / 3.62MB 0.5s done</span>
  <span class="c">#5 extracting sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f</span>
  <span class="c">#5 sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 0B / 449B 0.6s</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 8.39MB / 40.09MB 0.7s</span>
  <span class="c">#5 extracting sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 0.2s done</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 23.07MB / 40.09MB 0.9s</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 30.41MB / 40.09MB 1.0s</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 37.75MB / 40.09MB 1.1s</span>
  <span class="c">#5 sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 1.39MB / 1.39MB 1.0s done</span>
  <span class="c">#5 sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 449B / 449B 1.1s done</span>
  <span class="c">#5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 40.09MB / 40.09MB 1.3s done</span>
  <span class="c">#5 extracting sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 0.1s</span>
  <span class="c">#5 extracting sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 2.0s done</span>
  <span class="c">#5 extracting sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 0.1s done</span>
  <span class="c">#5 extracting sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 0.0s done</span>
  <span class="c">#5 DONE 3.6s</span>
        
  <span class="c">#7 [2/5] WORKDIR /app</span>
  <span class="c">#7 DONE 0.7s</span>
        
  <span class="c">#8 [3/5] COPY package*.json ./</span>
  <span class="c">#8 DONE 0.0s</span>
        
  <span class="c">#9 [4/5] RUN npm install</span>
  <span class="c">#9 6.899 npm warn deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin.</span>
  <span class="c">#9 7.543 npm warn deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility</span>
  <span class="c">#9 7.582 npm warn deprecated workbox-cacheable-response@6.6.0: workbox-background-sync@6.6.0</span>
  <span class="c">#9 7.585 npm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead</span>
  <span class="c">#9 7.762 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported</span>
  <span class="c">#9 7.809 npm warn deprecated workbox-google-analytics@6.6.0: It is not compatible with newer versions of GA starting with v4, as long as you are using GAv3 it should be ok, but the package is not longer being maintained</span>
  <span class="c">#9 7.829 npm warn deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser</span>
  <span class="c">#9 8.209 npm warn deprecated q@1.5.1: You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other.</span>
  <span class="c">#9 8.209 npm warn deprecated</span>
  <span class="c">#9 8.209 npm warn deprecated (For a CapTP with native promises, see @endo/eventual-send and @endo/captp)</span>
  <span class="c">#9 9.931 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.</span>
  <span class="c">#9 10.19 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported</span>
  <span class="c">#9 10.76 npm warn deprecated domexception@2.0.1: Use your platform's native DOMException instead</span>
  <span class="c">#9 11.62 npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead</span>
  <span class="c">#9 14.07 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead</span>
  <span class="c">#9 14.09 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead</span>
  <span class="c">#9 14.10 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.</span>
  <span class="c">#9 16.51 npm warn deprecated @babel/plugin-proposal-optional-chaining@7.21.0: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-optional-chaining instead.</span>
  <span class="c">#9 16.52 npm warn deprecated @babel/plugin-proposal-class-properties@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-class-properties instead.</span>
  <span class="c">#9 16.52 npm warn deprecated @babel/plugin-proposal-private-methods@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-methods instead.</span>
  <span class="c">#9 16.57 npm warn deprecated @babel/plugin-proposal-nullish-coalescing-operator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-nullish-coalescing-operator instead.</span>
  <span class="c">#9 17.07 npm warn deprecated @babel/plugin-proposal-numeric-separator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-numeric-separator instead.</span>
  <span class="c">#9 18.60 npm warn deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x.</span>
  <span class="c">#9 22.63 </span>
  <span class="c">#9 22.63 added 1616 packages, and audited 1617 packages in 22s</span>
  <span class="c">#9 22.63 </span>
  <span class="c">#9 22.63 288 packages are looking for funding</span>
  <span class="c">#9 22.63   run `npm fund` for details</span>
  <span class="c">#9 22.65 </span>
  <span class="c">#9 22.65 10 vulnerabilities (1 low, 2 moderate, 7 high)</span>
  <span class="c">#9 22.65 </span>
  <span class="c">#9 22.65 To address issues that do not require attention, run:</span>
  <span class="c">#9 22.65   npm audit fix</span>
  <span class="c">#9 22.65 </span>
  <span class="c">#9 22.65 To address all issues (including breaking changes), run:</span>
  <span class="c">#9 22.65   npm audit fix --force</span>
  <span class="c">#9 22.65 </span>
  <span class="c">#9 22.65 Run `npm audit` for details.</span>
  <span class="c">#9 22.65 npm notice</span>
  <span class="c">#9 22.65 npm notice New minor version of npm available! 10.8.2 -&gt; 10.9.1</span>
  <span class="c">#9 22.65 npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.9.1</span>
  <span class="c">#9 22.65 npm notice To update run: npm install -g npm@10.9.1</span>
  <span class="c">#9 22.65 npm notice</span>
  <span class="c">#9 DONE 23.1s</span>
        
  <span class="c">#10 [5/5] COPY . .</span>
  <span class="c">#10 DONE 0.2s</span>
        
  <span class="c">#11 exporting to image</span>
  <span class="c">#11 exporting layers</span>
  <span class="c">#11 exporting layers 10.5s done</span>
  <span class="c">#11 writing image sha256:0199b008dcbb7e7110a8649496b384cc98df48311eb75feb69253ffe9e78e9a6 done</span>
  <span class="c">#11 naming to docker.io/backtoback/bitcamp-final-front:1.0 done</span>
  <span class="c">#11 DONE 10.5s</span>
  + docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번! docker.io
  WARNING! Using <span class="nt">--password</span> via the CLI is insecure. Use <span class="nt">--password-stdin</span><span class="nb">.</span>
  WARNING! Your password will be stored unencrypted <span class="k">in</span> /var/jenkins_home/.docker/config.json.
  Configure a credential helper to remove this warning. See
  https://docs.docker.com/engine/reference/commandline/login/#credential-stores
        
  Login Succeeded
  + docker push backtoback/bitcamp-final-front:1.0
  The push refers to repository <span class="o">[</span>docker.io/backtoback/bitcamp-final-front]
  a065f315c811: Preparing
  f0f82b32d205: Preparing
  1b3d1b2d7fb5: Preparing
  091187395501: Preparing
  aae2f82b308d: Preparing
  5003e477a3c5: Preparing
  83ada9b02fd6: Preparing
  75654b8eeebd: Preparing
  5003e477a3c5: Waiting
  83ada9b02fd6: Waiting
  75654b8eeebd: Waiting
  aae2f82b308d: Mounted from library/node
  091187395501: Pushed
  1b3d1b2d7fb5: Pushed
  5003e477a3c5: Mounted from library/node
  83ada9b02fd6: Mounted from library/node
  75654b8eeebd: Mounted from library/node
  a065f315c811: Pushed
  f0f82b32d205: Pushed
  1.0: digest: sha256:f1f19759f873c79a5488518efcb71f5be8f2dbd651a332e7315f45ed650f7e6f size: 2000
  SSH: Connecting from host <span class="o">[</span>a39e02fc8c88]
  SSH: Connecting with configuration <span class="o">[</span>bitcamp-final-server] ...
  SSH: EXEC: completed after 21,020 ms
  SSH: Disconnecting configuration <span class="o">[</span>bitcamp-final-server] ...
  SSH: Transferred 0 file<span class="o">(</span>s<span class="o">)</span>
  Finished: SUCCESS
</pre></table></code></div></div></ul><p><br /></p><ul><li><p>빌드 후 상태</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>  <span class="o">[</span>student@bitcamp-svr-final ~]<span class="nv">$ </span><span class="nb">sudo </span>docker ps <span class="nt">-a</span>
  CONTAINER ID   IMAGE                                COMMAND                  CREATED          STATUS          PORTS                    NAMES
  d684ad2e43f6   backtoback/bitcamp-final-front:1.0   <span class="s2">"docker-entrypoint.s…"</span>   23 seconds ago   Up 22 seconds   0.0.0.0:3000-&gt;3000/tcp   bitcamp-front-final
  58f547cfe445   backtoback/bitcamp-final:1.0         <span class="s2">"java -jar bitcamp-f…"</span>   8 hours ago      Up 8 hours      0.0.0.0:8080-&gt;8080/tcp   bitcamp-final
</pre></table></code></div></div><ul><li>빌드 시 새로운 컨테이너가 자동 생성된 것을 확인할 수 있다.</ul></ul></ul><p><br /></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 8.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 8.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><p><br /></p><ul><li><p>창을 열리는데 벡엔드 서버로의 요청이 제대로 가지 않는다.</p><p>⇒ 기존에는 react app의 .env 파일로 API 요청 URL을 조정해왔다. github에 아마 이것이 잘못된 상태로 가져와서 만들었기 때문에 그런듯하다.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>  <span class="c"># REACT_APP_API_URL.env 파일</span>
    
  <span class="c"># 개발 환경 API URL</span>
  <span class="nv">REACT_APP_API_URL</span><span class="o">=</span>http://localhost:8080
    
  <span class="c"># 배포 환경 API URL</span>
  <span class="c">#REACT_APP_API_URL=http://211.188.48.5:8080</span>
    
  <span class="c">#REACT_APP_API_URL=http://211.188.63.97:8080</span>
</pre></table></code></div></div><ul><li>예상한 대로 github에 localhost:8080으로 설정되어 있다.</ul></ul><p><br /></p><ul><li><p>이러한 개발 환경을 이렇게 .env 로 관리하는 것은 힘들다. jenkins의 환경 변수 설정 기능이 있다는 데 사용해보고자 한다.</p><p><code class="language-plaintext highlighter-rouge">.env</code> 파일보다 <strong>Jenkins에서 설정된 환경 변수</strong>가 더 높은 우선순위를 가진다.</p><p><code class="language-plaintext highlighter-rouge">process.env</code>에서 환경 변수를 읽을 때, Jenkins가 빌드 시 설정한 환경 변수가 <code class="language-plaintext highlighter-rouge">.env</code> 파일 값을 덮어쓴다.</p></ul><p><br /></p><ul><li><p><strong>Jenkins 환경 변수 적용 방법</strong></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 9.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 9.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul><p><br /></p><ul><li><p><strong>Dockerfile 변경</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Node.js 기반의 Alpine 이미지를 사용</span>
  FROM node:18-alpine
    
  <span class="c"># 2. 작업 디렉토리 설정</span>
  WORKDIR /app
    
  <span class="c"># 3. 빌드 시점에 사용할 환경 변수 설정</span>
  <span class="c"># ARG는 빌드 시점에만 사용할 수 있는 변수입니다.</span>
  ARG REACT_APP_API_URL
    
  <span class="c"># 4. 환경 변수 설정 (컨테이너 내에서 사용)</span>
  <span class="c"># ENV는 애플리케이션이 실행되는 동안 사용할 수 있는 변수입니다.</span>
  ENV <span class="nv">REACT_APP_API_URL</span><span class="o">=</span><span class="k">${</span><span class="nv">REACT_APP_API_URL</span><span class="k">}</span>
    
  <span class="c"># 5. package.json과 package-lock.json을 먼저 복사</span>
  COPY package<span class="k">*</span>.json ./
    
  <span class="c"># 6. 의존성 설치 (npm 사용)</span>
  RUN npm <span class="nb">install</span>
    
  <span class="c"># 7. 애플리케이션 소스 코드 복사</span>
  COPY <span class="nb">.</span> <span class="nb">.</span>
    
  <span class="c"># 8. 포트 설정</span>
  EXPOSE 3000
    
  <span class="c"># 9. 앱 실행 (npm start)</span>
  CMD <span class="o">[</span><span class="s2">"npm"</span>, <span class="s2">"start"</span><span class="o">]</span>
    
</pre></table></code></div></div><ul><li><strong>환경변수를 설정하고 사용할 수 있게 설정한다.</strong></ul></ul><p><br /></p><ul><li><p>현재 도메인을 신청하려고 했으나 React 앱 컨테이너의 접속 포트가 3000:3000으로 포트 포워딩 되어 있다.</p><p>그래서 컨테이너 생성 시 80:3000으로 생성했다.</p><p>⇒ WebSocket connection to ‘ws://211.188.48.5:3000/ws’ failed:</p><p>⇒ 이 오류는 Docker의 <strong>포트 매핑</strong>을 통해 외부에서 접근할 때는 <code class="language-plaintext highlighter-rouge">80</code> 포트로 요청을 받아 내부의 <code class="language-plaintext highlighter-rouge">3000</code> 포트로 전달합니다. 그런데 WebSocket 문제는 <strong>React 애플리케이션이 사용하는 WebSocket URL</strong>이 여전히 <code class="language-plaintext highlighter-rouge">ws://211.188.48.5:3000/ws</code>로 고정되어 있다는 점에서 발생. <strong>React 앱</strong>의 실행 포트(<code class="language-plaintext highlighter-rouge">npm start</code>로 설정된 포트)가 이미 3000번으로 고정되어 있기 때문에, 단순히 <code class="language-plaintext highlighter-rouge">EXPOSE</code>를 80으로 바꾼다고 해서 컨테이너 내부의 애플리케이션 포트가 변경되지는 않습니다</p></ul><p><br /></p><ul><li>그래서 Nginx를 사용하여 배포해보기로 결정했다.<ul><li>Nginx는 기본 포트가 80으로 쉽게 설정 가능하고 React 앱을 실제 배포할 때는 Nginx를 많이 쓴다고 했기 때문에 결정했다.<ul><li>Nginx를 사용하면 정적 파일을 제공하는 속도도 빠르고 메모리도 적게 사용한다고 한다.</ul></ul></ul><p><br /></p><p><br /></p><p><br /></p><h2 id="7-nginx로-전환하기"><span class="me-2">(7) Nginx로 전환하기</span><a href="#7-nginx로-전환하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p><strong>기존 Dockerfile</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Node.js 기반의 Alpine 이미지를 사용</span>
  FROM node:18-alpine
    
  <span class="c"># 2. 작업 디렉토리 설정</span>
  WORKDIR /app
    
  <span class="c"># 3. 빌드 시점에 사용할 환경 변수 설정</span>
  <span class="c"># ARG는 빌드 시점에만 사용할 수 있는 변수입니다.</span>
  ARG REACT_APP_API_URL
    
  <span class="c"># 4. 환경 변수 설정 (컨테이너 내에서 사용)</span>
  <span class="c"># ENV는 애플리케이션이 실행되는 동안 사용할 수 있는 변수입니다.</span>
  ENV <span class="nv">REACT_APP_API_URL</span><span class="o">=</span><span class="k">${</span><span class="nv">REACT_APP_API_URL</span><span class="k">}</span>
    
  <span class="c"># 5. package.json과 package-lock.json을 먼저 복사</span>
  COPY package<span class="k">*</span>.json ./
    
  <span class="c"># 6. 의존성 설치 (npm 사용)</span>
  RUN npm <span class="nb">install</span>
    
  <span class="c"># 7. 애플리케이션 소스 코드 복사</span>
  COPY <span class="nb">.</span> <span class="nb">.</span>
    
  <span class="c"># 8. 포트 설정</span>
  EXPOSE 3000
    
  <span class="c"># 9. 앱 실행 (npm start)</span>
  CMD <span class="o">[</span><span class="s2">"npm"</span>, <span class="s2">"start"</span><span class="o">]</span>
    
</pre></table></code></div></div></ul><p><br /></p><p><br /></p><h3 id="dockerfile-수정-및-nginxconf-파일-생성"><span class="me-2">Dockerfile 수정 및 nginx.conf 파일 생성</span><a href="#dockerfile-수정-및-nginxconf-파일-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><strong>Nginx로 전환하려면 Dockerfile을 수정하고 nginx.conf를 생성해야 한다고 한다.</strong><li><strong>프로젝트의 루트 디렉토리에 nignx.conf와 Dockerfile을 생성한다.<br /></strong></ul><p><br /></p><ul><li><p><strong>Dockerfile</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Nginx 기반 이미지 사용</span>
  FROM nginx:alpine
    
  <span class="c"># 2. 앱 빌드 결과물 디렉토리 생성</span>
  WORKDIR /usr/share/nginx/html
    
  <span class="c"># 3. 빌드 결과물 복사</span>
  <span class="c"># `build` 폴더의 파일을 Nginx가 서빙할 `/usr/share/nginx/html`에 복사</span>
  COPY ./build/ <span class="nb">.</span>
    
  <span class="c"># 4. 기존 Nginx의 기본 설정 파일을 제거</span>
  RUN <span class="nb">rm</span> /etc/nginx/conf.d/default.conf
    
  <span class="c"># 5. Nginx 설정 파일을 복사 (이 후 설명할 nginx.conf 사용)</span>
  COPY ./nginx.conf /etc/nginx/conf.d/
    
  <span class="c"># 6. Nginx가 기본적으로 사용하는 80번 포트를 오픈</span>
  EXPOSE 80
    
  <span class="c"># 7. Nginx 실행 명령</span>
  CMD <span class="o">[</span><span class="s2">"nginx"</span>, <span class="s2">"-g"</span>, <span class="s2">"daemon off;"</span><span class="o">]</span>
</pre></table></code></div></div><p>⇒ <span class="i2"><strong>Jenkins 빌드 시 오류 발생 !</strong></span></p><p>⇒ 3번의 COPY ./build/. 에서 build 폴더를 복사해오는데 <strong><code class="language-plaintext highlighter-rouge">npm run build</code></strong>를 실행하지 않으므로</p><p><span class="i3">해당 폴더 자체가 존재하지 않는다.</span></p></ul><p><br /></p><ul><li><p><strong>Dockerfile</strong> <span class="i2"><strong>수정 후</strong></span></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Node.js 기반 이미지 사용</span>
  FROM node:18-alpine AS build
    
  <span class="c"># 2. 앱 디렉토리 생성</span>
  WORKDIR /app
    
  <span class="c"># 3. 패키지 설치</span>
  COPY package<span class="k">*</span>.json ./
  RUN npm <span class="nb">install</span>
    
  <span class="c"># 4. 앱 빌드</span>
  COPY <span class="nb">.</span> ./
  RUN npm run build
    
  <span class="c"># 5. Nginx 기반 이미지 사용</span>
  FROM nginx:alpine
    
  <span class="c"># 6. 앱 빌드 결과물 복사</span>
  COPY <span class="nt">--from</span><span class="o">=</span>build /app/build /usr/share/nginx/html
    
  <span class="c"># 7. 기존 Nginx 설정 제거</span>
  RUN <span class="nb">rm</span> /etc/nginx/conf.d/default.conf
    
  <span class="c"># 8. Nginx 설정 파일 복사</span>
  COPY ./nginx.conf /etc/nginx/conf.d/
    
  <span class="c"># 9. Nginx 포트 오픈</span>
  EXPOSE 80
    
  <span class="c"># 10. Nginx 실행</span>
  CMD <span class="o">[</span><span class="s2">"nginx"</span>, <span class="s2">"-g"</span>, <span class="s2">"daemon off;"</span><span class="o">]</span>
</pre></table></code></div></div><ul><li><strong><code class="language-plaintext highlighter-rouge">npm run build</code></strong>를 하는 부분을 추가해줘야 한다. 그래야 build 폴더가 생긴다.</ul></ul><p><br /></p><ul><li><span class="i2"><strong>nginx.conf</strong></span><ul><li><strong><code class="language-plaintext highlighter-rouge">server_name http://211.188.48.5/;</code></strong><ul><li><strong>접속하는 주소 (도메인 설정 시 도메인 이름)</strong></ul><li><strong>location /api</strong><ul><li><strong>이것을 설정 안 하면 Spring Boot API로 요청을 보낼 수 없다.</strong></ul></ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>  server <span class="o">{</span>
      listen 80<span class="p">;</span>  <span class="c"># HTTP만 처리 (443번 포트는 사용하지 않음)</span>
      server_name http://211.188.48.5/<span class="p">;</span>  <span class="c"># 실제 도메인 이름</span>
    
      <span class="c"># React 앱을 서빙하는 위치</span>
      location / <span class="o">{</span>
          root /usr/share/nginx/html<span class="p">;</span>  <span class="c"># React 앱 빌드 폴더 위치</span>
          index index.html<span class="p">;</span>
          try_files <span class="nv">$uri</span> <span class="nv">$uri</span>/ /index.html<span class="p">;</span>  <span class="c"># SPA (Single Page Application) 설정</span>
      <span class="o">}</span>
    
      <span class="c"># /api 경로로 시작하는 요청을 Spring Boot 서버로 프록시</span>
      location /api <span class="o">{</span>
          proxy_pass http://211.188.48.5:8080<span class="p">;</span>  <span class="c"># Spring Boot API 서버 주소</span>
          proxy_set_header Host <span class="nv">$host</span><span class="p">;</span>  <span class="c"># 원본 요청의 호스트 헤더를 전달</span>
          proxy_set_header X-Real-IP <span class="nv">$remote_addr</span><span class="p">;</span>  <span class="c"># 실제 클라이언트 IP 전달</span>
          proxy_set_header X-Forwarded-For <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>  <span class="c"># X-Forwarded-For 헤더 전달</span>
          proxy_set_header X-Forwarded-Proto <span class="nv">$scheme</span><span class="p">;</span>  <span class="c"># 프로토콜 헤더 (http/https) 전달</span>
      <span class="o">}</span>
  <span class="o">}</span>
</pre></table></code></div></div></ul><p><br /></p><p><br /></p><h3 id="jenkins-설정-변경"><span class="me-2">Jenkins 설정 변경</span><a href="#jenkins-설정-변경" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p><span class="i3"><strong>execute shell</strong></span></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>  docker build <span class="nt">-t</span> backtoback/bitcamp-final-front:1.0 <span class="nb">.</span> 
  docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번! docker.io
  docker push backtoback/bitcamp-final-front:1.0
</pre></table></code></div></div><p><a href="/assets/img/posts/jenkins-howtouse2/image 10.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 10.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul><p><br /></p><ul><li><strong>Send files or execute commands over SSH after the build runs</strong><ul><li><p><span class="i3"><strong>Exec command</strong></span></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>  docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번! docker.io
  docker pull backtoback/bitcamp-final-front:1.0 
  docker ps <span class="nt">-aq</span> <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>bitcamp-front-final | <span class="nb">grep</span> <span class="nt">-q</span> <span class="nb">.</span> <span class="o">&amp;&amp;</span> docker <span class="nb">rm</span> <span class="nt">-f</span> <span class="si">$(</span>docker ps <span class="nt">-aq</span> <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>bitcamp-front-final<span class="si">)</span> <span class="o">||</span> <span class="nb">true
  </span>docker run <span class="nt">-d</span>   <span class="nt">--name</span> bitcamp-front-final <span class="nt">-p</span> 80:80 backtoback/bitcamp-final-front:1.0
</pre></table></code></div></div><p><a href="/assets/img/posts/jenkins-howtouse2/image 11.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 11.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul></ul><p><br /></p><ul><li><span class="i1"><strong>Jenkins 빌드 시작</strong></span></ul><h3 id="jenkins-환경-변수-이용하여-서버-url-처리하기"><span class="me-2">Jenkins 환경 변수 이용하여 서버 URL 처리하기</span><a href="#jenkins-환경-변수-이용하여-서버-url-처리하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p><strong>Dockerfile 수정</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre>  <span class="c"># 1. Node.js 기반 이미지 사용</span>
  FROM node:18-alpine AS build
    
  <span class="c"># 2. 앱 디렉토리 생성</span>
  WORKDIR /app
    
  <span class="c"># 3. 패키지 설치</span>
  COPY package<span class="k">*</span>.json ./
  RUN npm <span class="nb">install</span>
    
  <span class="c"># 4. 앱 빌드</span>
  COPY <span class="nb">.</span> ./
  RUN npm run build
    
  <span class="c"># 5. Nginx 기반 이미지 사용</span>
  FROM nginx:alpine
    
  <span class="c"># 6. 환경 변수 설정 (API URL 및 SERVER_NAME)</span>
  ARG API_URL
  ENV <span class="nv">API_URL</span><span class="o">=</span><span class="k">${</span><span class="nv">API_URL</span><span class="k">}</span>
    
  <span class="c"># 7. 앱 빌드 결과물 복사</span>
  COPY <span class="nt">--from</span><span class="o">=</span>build /app/build /usr/share/nginx/html
    
  <span class="c"># 8. 기존 Nginx 설정 파일 제거</span>
  RUN <span class="nb">rm</span> /etc/nginx/conf.d/default.conf
    
  <span class="c"># 9. Nginx 설정 파일 템플릿 복사</span>
  COPY ./nginx.conf.template /etc/nginx/conf.d/default.conf.template
    
  <span class="c"># 10. Nginx 설정 파일을 envsubst로 치환하여 기본 설정 파일로 복사</span>
  CMD envsubst <span class="s1">'${API_URL}'</span> &lt; /etc/nginx/conf.d/default.conf.template <span class="o">&gt;</span> /etc/nginx/conf.d/default.conf <span class="o">&amp;&amp;</span> nginx <span class="nt">-g</span> <span class="s1">'daemon off;'</span>
    
  <span class="c"># 11. Nginx 포트 오픈</span>
  EXPOSE 80
</pre></table></code></div></div></ul><p><br /></p><ul><li><p><strong>기존의 niginx.conf 파일</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>  server <span class="o">{</span>
      listen 80<span class="p">;</span>  <span class="c"># HTTP만 처리 (443번 포트는 사용하지 않음)</span>
      server_name http://211.188.48.5<span class="p">;</span>  <span class="c"># 실제 도메인 이름</span>
    
      <span class="c"># React 앱을 서빙하는 위치</span>
      location / <span class="o">{</span>
          root /usr/share/nginx/html<span class="p">;</span>  <span class="c"># React 앱 빌드 폴더 위치</span>
          index index.html<span class="p">;</span>
          try_files <span class="nv">$uri</span> <span class="nv">$uri</span>/ /index.html<span class="p">;</span>  <span class="c"># SPA (Single Page Application) 설정</span>
      <span class="o">}</span>
    
      <span class="c"># /api 경로로 시작하는 요청을 Spring Boot 서버로 프록시</span>
      location /api <span class="o">{</span>
          proxy_pass <span class="k">${</span><span class="nv">API_URL</span><span class="k">}</span><span class="p">;</span>  <span class="c"># Spring Boot API 서버 주소</span>
          proxy_set_header Host <span class="nv">$host</span><span class="p">;</span>  <span class="c"># 원본 요청의 호스트 헤더를 전달</span>
          proxy_set_header X-Real-IP <span class="nv">$remote_addr</span><span class="p">;</span>  <span class="c"># 실제 클라이언트 IP 전달</span>
          proxy_set_header X-Forwarded-For <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>  <span class="c"># X-Forwarded-For 헤더 전달</span>
          proxy_set_header X-Forwarded-Proto <span class="nv">$scheme</span><span class="p">;</span>  <span class="c"># 프로토콜 헤더 (http/https) 전달</span>
      <span class="o">}</span>
  <span class="o">}</span>
</pre></table></code></div></div></ul><p><br /></p><ul><li><p><strong>Jenkins 환경 변수 적용 방법</strong></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 12.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 12.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul><p><br /></p><ul><li><p><strong>Build Steps ⇒ Execute shell</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>  docker build <span class="nt">--build-arg</span> <span class="nv">API_URL</span><span class="o">=</span><span class="k">${</span><span class="nv">API_URL</span><span class="k">}</span> <span class="nt">-t</span> backtoback/bitcamp-final-front:1.0 <span class="nb">.</span>
  docker login <span class="nt">-u</span> backtoback <span class="nt">-p</span> 허브비번!! docker.io
  docker push backtoback/bitcamp-final-front:1.0
</pre></table></code></div></div><p><a href="/assets/img/posts/jenkins-howtouse2/image 13.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 13.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><li><p><strong>211.188.48.5 확인</strong></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 14.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 14.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div><li><p><strong>http://go.remapber.p-e.kr 확인</strong></p><p><a href="/assets/img/posts/jenkins-howtouse2/image 15.jpg" class="popup img-link left shimmer"><img src="/assets/img/posts/jenkins-howtouse2/image 15.jpg" alt="" width="700" height="300" loading="lazy"></a></p><div class="clear"></div></ul><ol><li><strong>서버</strong><ul><li><strong>Jenkins 서버</strong><ul><li>젠킨스 컨테이너가 실행되고 있는 서버<li>Jenkins 서버에서는 GitHub의 레포지토리 변경을 감지하여 (Github Webhook 사용) 빌드를 트리거한다. 즉, GitHub 푸시 이벤트 발생 시 Jenkins는 해당 Repo를 Clone하거나 Pull한다.</ul><li><strong>프로젝트 서버</strong></ul><li><strong>React 앱 빌드 및 배포</strong><ul><li>최신화된 Repo의 <strong><code class="language-plaintext highlighter-rouge">Dockerfile</code></strong>과 <code class="language-plaintext highlighter-rouge">nginx.conf</code>를 기준으로 컨테이너 빌드를 실행한다.<ul><li><strong><code class="language-plaintext highlighter-rouge">Dockerfile</code></strong>과 <code class="language-plaintext highlighter-rouge">nginx.conf</code>를 사용하여 React 앱의 정적 파일을 빌드(<code class="language-plaintext highlighter-rouge">npm run build</code>)한 후, 빌드된 정적 파일들을 Nginx로 <strong>배포</strong>한다.<ul><li>즉, <code class="language-plaintext highlighter-rouge">nginx.conf</code> 파일을 통해 Nginx를 설정하고 React 앱의 정적 파일을 제공한다<li><p>Nginx는 Docker 컨테이너로 실행되고, <code class="language-plaintext highlighter-rouge">Dockerfile</code>과 <code class="language-plaintext highlighter-rouge">nginx.conf</code> 설정에 따라</p><p>React 앱을 Nginx 컨테이너에서 서비스하도록 구성된다.</p></ul><li>빌드된 이미지는 Docker Hub에 Push된다.<li><p>Jenkins는 이후SSH 통신을 통해 <strong>프로젝트 서버</strong>에 접속하고, Docker Hub에서 이미지를 Pull하여,</p><p>React 앱을 실행하는 <strong>Nginx 컨테이너</strong>를 80:80 포트로 배포한다.</p><p>(<code class="language-plaintext highlighter-rouge">exec</code> 명령어를 통해 Docker 명령어를 실행)</p></ul></ul><li><strong>Spring Boot 앱 빌드 및 배포</strong><ul><li>최신화된 Repo에서 <code class="language-plaintext highlighter-rouge">gradle build</code>를 실행하여 <code class="language-plaintext highlighter-rouge">jar</code> 파일을 생성한다.<li><p>생성된 <code class="language-plaintext highlighter-rouge">jar</code> 파일을 포함하는 <strong>Docker 이미지</strong>를 만들고, 이 이미지를 Docker Hub에 푸시한다.</p><li><p>Jenkins는 이후SSH 통신을 통해 <strong>프로젝트 서버</strong>에 접속하고, Docker Hub에서 이미지를 Pull하여,</p><p>SpringBoot 앱을 실행하는 컨테이너를 8080:8080 포트로 배포한다.</p><p>(<code class="language-plaintext highlighter-rouge">exec</code> 명령어를 통해 Docker 명령어를 실행)</p></ul></ol></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a>, <a href="/categories/cicd/">CICD</a>, <a href="/categories/jenkins/">Jenkins</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/jenkins/" class="post-tag no-text-decoration" >Jenkins</a> <a href="/tags/docker/" class="post-tag no-text-decoration" >Docker</a> <a href="/tags/%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94/" class="post-tag no-text-decoration" >배포 자동화</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Jenkins%20%EC%82%AC%EC%9A%A9%EB%B2%95%202%20(React%20/%20Nginx)%20-%20%EB%A6%AC%EB%B2%84&url=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fjenkins-howtouse2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Jenkins%20%EC%82%AC%EC%9A%A9%EB%B2%95%202%20(React%20/%20Nginx)%20-%20%EB%A6%AC%EB%B2%84&u=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fjenkins-howtouse2%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fjenkins-howtouse2%2F&text=Jenkins%20%EC%82%AC%EC%9A%A9%EB%B2%95%202%20(React%20/%20Nginx)%20-%20%EB%A6%AC%EB%B2%84" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">최근 업데이트</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/member-module-1/">Member 모듈 리펙토링 - 개요 및 진행상황</a><li class="text-truncate lh-lg"> <a href="/posts/member-module-2/">Member 모듈 리펙토링 - 1단계</a><li class="text-truncate lh-lg"> <a href="/posts/spring-security2/">Spring Security 탐구 - 동작 원리</a><li class="text-truncate lh-lg"> <a href="/posts/spring-security/">Spring Security 탐구 - 개요</a><li class="text-truncate lh-lg"> <a href="/posts/jwt/">JWT 인증 / 인가</a></ul></section><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring-security/">Spring Security</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EB%A9%8B%EC%9F%81%EC%9D%B4-%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/">멋쟁이 사자처럼</a> <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">MySQL</a> <a class="post-tag btn btn-outline-primary" href="/tags/refactoring/">Refactoring</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a> <a class="post-tag btn btn-outline-primary" href="/tags/grasp/">GRASP</a> <a class="post-tag btn btn-outline-primary" href="/tags/ncp/">NCP</a> <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a> <a class="post-tag btn btn-outline-primary" href="/tags/springconfig/">SpringConfig</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 mb-2">바로가기</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">관련된 글</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/jenkins-howtouse/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732586400" data-df="YYYY/MM/DD" > 2024/11/26 </time><h4 class="pt-0 my-2">Jenkins 사용법</h4><div class="text-muted"><p>Jenkins 사용 방법</p></div></div></a></article><article class="col"> <a href="/posts/final-deploy-3/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732529280" data-df="YYYY/MM/DD" > 2024/11/25 </time><h4 class="pt-0 my-2">bitcamp-final 프로젝트 배포하기 3</h4><div class="text-muted"><p>리엑트 배포하기</p></div></div></a></article><article class="col"> <a href="/posts/final-deploy-2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732082880" data-df="YYYY/MM/DD" > 2024/11/20 </time><h4 class="pt-0 my-2">bitcamp-final 프로젝트 배포하기 2</h4><div class="text-muted"><p>최종 프로젝트를 리눅스 서버 생성 후 도커를 사용하여 배포하기</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/jenkins-howtouse/" class="btn btn-outline-primary" aria-label="이전 글" ><p>Jenkins 사용법</p></a> <a href="/posts/oop-class/" class="btn btn-outline-primary" aria-label="다음 글" ><p>클래스 정의 방법론 (GRASP / SOLID)</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/backnback">이가람</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다." >일부 권리 보유</span></p><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring-security/">Spring Security</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EB%A9%8B%EC%9F%81%EC%9D%B4-%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/">멋쟁이 사자처럼</a> <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">MySQL</a> <a class="post-tag btn btn-outline-primary" href="/tags/refactoring/">Refactoring</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a> <a class="post-tag btn btn-outline-primary" href="/tags/grasp/">GRASP</a> <a class="post-tag btn btn-outline-primary" href="/tags/ncp/">NCP</a> <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a> <a class="post-tag btn btn-outline-primary" href="/tags/springconfig/">SpringConfig</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></aside><script> (function () { const origin = 'https://utteranc.es'; const themeMapper = Theme.getThemeMapper('github-light', 'github-dark'); const initTheme = themeMapper[Theme.visualState]; let script = document.createElement('script'); script.src = 'https://utteranc.es/client.js'; script.setAttribute('repo', 'backnback/comments'); script.setAttribute('issue-term', 'pathname'); script.setAttribute('theme', initTheme); script.crossOrigin = 'anonymous'; script.async = true; const $footer = document.querySelector('footer'); $footer.insertAdjacentElement('beforebegin', script); addEventListener('message', (event) => { let newTheme;if (event.source === window && event.data && event.data.id === Theme.ID) { newTheme = themeMapper[Theme.visualState]; const message = { type: 'set-theme', theme: newTheme }; const utterances = document.querySelector('.utterances-frame').contentWindow; utterances.postMessage(message, origin); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
