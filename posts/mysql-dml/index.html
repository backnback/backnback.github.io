<!doctype html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="DML" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="DML" /><meta property="og:description" content="DML" /><link rel="canonical" href="https://backnback.github.io/posts/mysql-dml/" /><meta property="og:url" content="https://backnback.github.io/posts/mysql-dml/" /><meta property="og:site_name" content="리버" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-11-25T13:04:00+09:00" /><meta property="og:image" content="https://backnback.github.io/assets/img/profile.jpg" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://backnback.github.io/assets/img/profile.jpg" /><meta property="twitter:title" content="DML" /><meta name="google-site-verification" content="googlea7baca2291ff3812.html" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-01-05T03:46:53+09:00","datePublished":"2024-11-25T13:04:00+09:00","description":"DML","headline":"DML","mainEntityOfPage":{"@type":"WebPage","@id":"https://backnback.github.io/posts/mysql-dml/"},"url":"https://backnback.github.io/posts/mysql-dml/"}</script><title>DML | 리버</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="리버"><meta name="application-name" content="리버"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/ko.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script async src="/assets/js/data/mathjax.js"></script> <script async src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script> <script> let pv = document.getElementById('pageviews'); if (pv !== null) { const uri = location.pathname.replace(/\/$/, ''); const url = `https://blogcounterbacknback.goatcounter.com/counter/${encodeURIComponent(uri)}.json`; fetch(url) .then((response) => response.json()) .then((data) => { const count = data.count.replace(/\s/g, ''); pv.innerText = new Intl.NumberFormat().format(count); }) .catch((error) => { pv.innerText = '1'; }); } </script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-9ZSXFFWEB4"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-9ZSXFFWEB4'); }); </script> <script async src="https://gc.zgo.at/count.js" data-goatcounter="https://blogcounterbacknback.goatcounter.com/count" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profile.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">리버</a><p class="site-subtitle fst-italic mb-0">Backend 개발자</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>홈</span> </a><li class="nav-item"> <a href="/posts/" class="nav-link"> <i class="fa-fw fas fa-feather-alt"></i> <span>게시글</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>정보</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/backnback" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['garam8796','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">홈</a> </span> <span>DML</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 포스트</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">취소</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>DML</h1><p class="post-desc fw-light mb-4">DML</p><div class="post-meta text-muted"> <span> 게시 <time data-ts="1732507440" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2024/11/25 </time> </span> <span> 업데이트 <time data-ts="1736016413" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2025/01/05 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/backnback">이가람</a> </em> </span><div> <span> <em id="pageviews"> <i class="fas fa-spinner fa-spin small"></i> </em> 조회 </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="4868 단어" > <em>27 분</em>읽는 시간</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">DML</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">바로가기</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">DML</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="dml"><span class="me-2">DML</span><a href="#dml" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>eomcs-docs → sql 폴더 → exam02</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
</pre><td class="rouge-code"><pre>  <span class="c"># DML(Data Manipulation Language)</span>
  데이터 등록, 변경, 삭제를 다루는 SQL 문법
    
  <span class="c">## insert</span>
  - 데이터를 입력할 때 사용하는 문법이다.
    
  /<span class="k">*</span> 연락처 테이블 생성 <span class="k">*</span>/
  create table test1 <span class="o">(</span>
    no int not null,
    name varchar<span class="o">(</span>20<span class="o">)</span> not null,
    tel varchar<span class="o">(</span>20<span class="o">)</span> not null,
    fax varchar<span class="o">(</span>20<span class="o">)</span>,
    pstno varchar<span class="o">(</span>5<span class="o">)</span>,
    addr varchar<span class="o">(</span>200<span class="o">)</span>
  <span class="o">)</span><span class="p">;</span>
    
  /<span class="k">*</span> PK 컬럼 지정 <span class="k">*</span>/
  alter table test1
    add constraint test1_pk primary key <span class="o">(</span>no<span class="o">)</span><span class="p">;</span>
    
  /<span class="k">*</span> 자동 증가 컬럼 지정 <span class="k">*</span>/
  alter table test1
    modify column no int not null auto_increment<span class="p">;</span>
    
  - 전체 컬럼 값 입력하기
    
  /<span class="k">*</span> 컬럼을 지정하지 않으면
   <span class="k">*</span> 테이블을 생성할 때 선언한 컬럼 순서대로
   <span class="k">*</span> 값을 지정해야 한다.<span class="k">*</span>/
  insert into 테이블명 values<span class="o">(</span>값,....<span class="o">)</span><span class="p">;</span>
  insert into test1 values<span class="o">(</span>null,<span class="s1">'aaa'</span>,<span class="s1">'111'</span>,<span class="s1">'222'</span>,<span class="s1">'10101'</span>,<span class="s1">'seoul'</span><span class="o">)</span><span class="p">;</span>
    
  /<span class="k">*</span> 컬럼을 명시할 수 있다. 이때 값을 입력하는 컬럼의 순서를 바꿀 수 있다. <span class="k">*</span>/
  insert into 테이블명<span class="o">(</span>컬럼,컬럼,...<span class="o">)</span> values<span class="o">(</span>값,값,...<span class="o">)</span><span class="p">;</span>
  insert into test1<span class="o">(</span>name,fax,tel,no,pstno,addr<span class="o">)</span>
      values<span class="o">(</span><span class="s1">'bbb'</span>,<span class="s1">'222'</span>,<span class="s1">'111'</span>,null,<span class="s1">'10101'</span>,<span class="s1">'seoul'</span><span class="o">)</span><span class="p">;</span>
    
  - 값을 입력할 컬럼을 선택하기. 단 필수 입력 컬럼은 반드시 선택해야 한다.
    
  /<span class="k">*</span> no 컬럼은 필수 입력 컬럼이지만,
    자동 증가 컬럼이기 때문에 값을 입력하지 않아도 된다.<span class="k">*</span>/
  insert into test1<span class="o">(</span>name,tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'ccc'</span>,<span class="s1">'333'</span><span class="o">)</span><span class="p">;</span>
    
  <span class="c">### 여러 개의 값을 한 번에 insert 하기</span>
    
  insert into test1<span class="o">(</span>name,tel<span class="o">)</span> values
  <span class="o">(</span><span class="s1">'aaa'</span>, <span class="s1">'1111'</span><span class="o">)</span>,
  <span class="o">(</span><span class="s1">'bbb'</span>, <span class="s1">'2222'</span><span class="o">)</span>,
  <span class="o">(</span><span class="s1">'ccc'</span>, <span class="s1">'3333'</span><span class="o">)</span><span class="p">;</span>
    
  <span class="c">### select 결과를 테이블에 insert하기</span>
    
  create table test2 <span class="o">(</span>
    no int primary key auto_increment,
    fullname varchar<span class="o">(</span>20<span class="o">)</span> not null,
    phone varchar<span class="o">(</span>20<span class="o">)</span> not null,
    kor int,
    eng int,
    math int
  <span class="o">)</span><span class="p">;</span>
    
  /<span class="k">*</span>
    <span class="k">select </span>결과를 테이블에 바로 입력하기
    <span class="o">=&gt;</span> <span class="k">select </span>결과의 컬럼명과 insert 테이블의 컬럼명이 같을 필요는 없다.
    <span class="o">=&gt;</span> 그러나 결과의 컬럼 개수와 insert 하려는 컬럼 개수가 같아야 한다.
    <span class="o">=&gt;</span> 결과의 컬럼 타입과 insert 하려는 컬럼의 타입이 같거나 입력 할 수 있는 타입이어야 한다.
  <span class="k">*</span>/
  insert into test2<span class="o">(</span>fullname,phone<span class="o">)</span>
    <span class="k">select </span>name, tel from test1 where <span class="nv">addr</span><span class="o">=</span><span class="s1">'seoul'</span><span class="p">;</span>
    
  <span class="c">## update</span>
  - 등록된 데이터를 변경할 때 사용하는 명령이다.
    
  update 테이블명 <span class="nb">set </span>컬럼명<span class="o">=</span>값, 컬럼명<span class="o">=</span>값, ... where 조건...<span class="p">;</span>
  update test1 <span class="nb">set </span><span class="nv">pstno</span><span class="o">=</span><span class="s1">'11111'</span>, <span class="nv">fax</span><span class="o">=</span><span class="s1">'222'</span> where <span class="nv">no</span><span class="o">=</span>3<span class="p">;</span>
  update test1 <span class="nb">set </span><span class="nv">tel</span><span class="o">=</span><span class="s1">'3030'</span>, <span class="nv">fax</span><span class="o">=</span><span class="s1">'1212'</span> where <span class="nv">no</span><span class="o">=</span>2<span class="p">;</span>
    
  /<span class="k">*</span> 조건을 지정하지 않으면, 모든 데이터에 대해 변경한다.<span class="k">*</span>/
  update test1 <span class="nb">set </span><span class="nv">fax</span><span class="o">=</span><span class="s1">'333'</span><span class="p">;</span>
    
  <span class="c">## delete</span>
  - 데이터를 삭제할 때 사용하는 명령이다.
    
  delete from 테이블명 where 조건<span class="p">;</span>
  delete from test1 where <span class="nv">no</span><span class="o">=</span>2 or <span class="nv">no</span><span class="o">=</span>3<span class="p">;</span>
    
  /<span class="k">*</span> 조건을 지정하지 않으면 모든 데이터가 삭제된다. 주의!<span class="k">*</span>/
  delete from test1<span class="p">;</span>
    
  <span class="c">## autocommit</span>
  mysql은 autocommit의 기본 값이 true이다.
  따라서 명령창에서 SQL을 실행하면 바로 실제 테이블에 적용된다.
  수동으로 처리하고 싶다면 autocommit을 false로 설정하라!
    
  <span class="o">&gt;</span> <span class="nb">set </span><span class="nv">autocommit</span><span class="o">=</span><span class="nb">false</span><span class="p">;</span>
    
  insert/update/delete을 수행한 후 승인을 해야만 실제 테이블에 적용된다.
    
  <span class="o">&gt;</span> commmit<span class="p">;</span>
    
  마지막 commit 상태로 되돌리고 싶다면,
    
  <span class="o">&gt;</span> rollback<span class="p">;</span>
    
  연습1:
    
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'xxx'</span>, <span class="s1">'1111'</span><span class="o">)</span><span class="p">;</span>
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'yyy'</span>, <span class="s1">'2222'</span><span class="o">)</span><span class="p">;</span>
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'zzz'</span>, <span class="s1">'2222'</span><span class="o">)</span><span class="p">;</span>
    
  update test1 <span class="nb">set </span><span class="nv">fax</span><span class="o">=</span><span class="s1">'1212'</span> where <span class="nv">name</span><span class="o">=</span><span class="s1">'xxx'</span><span class="p">;</span>
    
  delete from test1 where <span class="nv">no</span><span class="o">=</span>1<span class="p">;</span>
    
  rollback<span class="p">;</span> /<span class="k">*</span> 지금까지 작업한 insert, update, delete은 최소된다.<span class="k">*</span>/
    
  연습2:
    
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'xxx'</span>, <span class="s1">'1111'</span><span class="o">)</span><span class="p">;</span>
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'yyy'</span>, <span class="s1">'2222'</span><span class="o">)</span><span class="p">;</span>
  insert into test1<span class="o">(</span>name, tel<span class="o">)</span> values<span class="o">(</span><span class="s1">'zzz'</span>, <span class="s1">'2222'</span><span class="o">)</span><span class="p">;</span>
    
  commit<span class="p">;</span> /<span class="k">*</span> 지금까지 한 작업을 테이블에 적용한다.<span class="k">*</span>/
    
  update test1 <span class="nb">set </span><span class="nv">fax</span><span class="o">=</span><span class="s1">'1212'</span> where <span class="nv">name</span><span class="o">=</span><span class="s1">'xxx'</span><span class="p">;</span>
    
  delete from test1 where <span class="nv">no</span><span class="o">=</span>1<span class="p">;</span>
    
  rollback<span class="p">;</span> /<span class="k">*</span> 막지막 commit 이후에 수행한 insert, update, delete은 최소된다.<span class="k">*</span>/
    
</pre></table></code></div></div></ul><h3 id="dml---data-manipulation-language"><span class="me-2">DML (Data Manipulation Language)</span><a href="#dml---data-manipulation-language" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>데이터 등록, 변경, 삭제를 다루는 SQL 문법<li><strong>insert</strong>, <strong>update</strong>, <strong>delete</strong></ul><h3 id="insert"><span class="me-2">insert</span><a href="#insert" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p>데이터를 입력할 때 사용하는 문법이다.</p><li><p><strong>테이블 생성</strong> (연락처)</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>  <span class="n">create</span> <span class="n">table</span> <span class="nf">test1</span> <span class="o">(</span>
    <span class="n">no</span> <span class="kt">int</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span>
    <span class="n">name</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">20</span><span class="o">)</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span>
    <span class="n">tel</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">20</span><span class="o">)</span> <span class="n">not</span> <span class="kc">null</span><span class="o">,</span>
    <span class="n">fax</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">20</span><span class="o">),</span>
    <span class="n">pstno</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">5</span><span class="o">),</span>
    <span class="n">addr</span> <span class="nf">varchar</span><span class="o">(</span><span class="mi">200</span><span class="o">)</span>
  <span class="o">);</span>
</pre></table></code></div></div><li><p><strong>PK 컬럼 &amp; 자동 증가 컬럼 지정</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">alter</span> <span class="n">table</span> <span class="n">test1</span>
    <span class="n">add</span> <span class="n">constraint</span> <span class="n">test1_pk</span> <span class="n">primary</span> <span class="nf">key</span> <span class="o">(</span><span class="n">no</span><span class="o">);</span>
    
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">alter</span> <span class="n">table</span> <span class="n">test1</span>
    <span class="n">modify</span> <span class="n">column</span> <span class="n">no</span> <span class="kt">int</span> <span class="n">not</span> <span class="kc">null</span> <span class="n">auto_increment</span><span class="o">;</span>
</pre></table></code></div></div><li><p><strong>전체 컬럼 값 입력하기</strong></p><p><a href="/assets/img/posts/mysql-dml/image.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image.jpg" alt="" loading="lazy"></a></p><ul><li><p>컬럼을 지정하지 않으면, 테이블을 생성할 때 선언한 컬럼 순서대로 값을 지정해야 한다.</p><li><p><strong><code class="language-plaintext highlighter-rouge">insert into 테이블명 values('aaa', 20, null, ....);</code></strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="n">test1</span> <span class="nf">values</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span><span class="err">'</span><span class="n">aaa</span><span class="sc">','</span><span class="mi">111</span><span class="sc">','</span><span class="mi">222</span><span class="sc">','</span><span class="mi">10101</span><span class="sc">','</span><span class="n">seoul</span><span class="err">'</span><span class="o">);</span>
        
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">test1</span><span class="o">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
  <span class="o">|</span> <span class="n">no</span> <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">tel</span> <span class="o">|</span> <span class="n">fax</span>  <span class="o">|</span> <span class="n">pstno</span> <span class="o">|</span> <span class="n">addr</span>  <span class="o">|</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
  <span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">aaa</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
</pre></table></code></div></div><ul><li>no는 PK &amp; 자동 증가 컬럼으로 지정되어서 null 입력 시 자동으로 입력한다.</ul></ul><li><p><strong>컬럼을 명시할 수 있다</strong>. ⇒ 이때 값을 입력하는 컬럼의 순서를 바꿀 수 있다.</p><p><a href="/assets/img/posts/mysql-dml/image 1.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 1.jpg" alt="" loading="lazy"></a></p><ul><li><p><strong><code class="language-plaintext highlighter-rouge">insert into 테이블명(name, age, tel, ....) values('aaa', 20, null, ....);</code></strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="n">fax</span><span class="o">,</span><span class="n">tel</span><span class="o">,</span><span class="n">no</span><span class="o">,</span><span class="n">pstno</span><span class="o">,</span><span class="n">addr</span><span class="o">)</span>
      <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">bbb</span><span class="sc">','</span><span class="mi">222</span><span class="sc">','</span><span class="mi">111</span><span class="err">'</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="err">'</span><span class="mi">10101</span><span class="sc">','</span><span class="n">seoul</span><span class="err">'</span><span class="o">);</span>
        
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">test1</span><span class="o">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
  <span class="o">|</span> <span class="n">no</span> <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">tel</span> <span class="o">|</span> <span class="n">fax</span>  <span class="o">|</span> <span class="n">pstno</span> <span class="o">|</span> <span class="n">addr</span>  <span class="o">|</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
  <span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="n">aaa</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">+----+------+-----+------+-------+-------+</span>
</pre></table></code></div></div></ul><li><p>MySQL에서는 <strong>숫자</strong>가 들어갈 자리에 <strong>문자열</strong>을 넣으면 <strong>자동 형변환</strong>한다.</p><p>⇒ 그러나 이렇게 쓰지 마라 !</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="n">fax</span><span class="o">,</span><span class="n">tel</span><span class="o">,</span><span class="n">no</span><span class="o">,</span><span class="n">pstno</span><span class="o">,</span><span class="n">addr</span><span class="o">)</span>
      <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">bbb</span><span class="sc">','</span><span class="mi">222</span><span class="sc">','</span><span class="mi">111</span><span class="sc">','</span><span class="mi">200</span><span class="sc">','</span><span class="mi">10101</span><span class="sc">','</span><span class="n">seoul</span><span class="err">'</span><span class="o">);</span>
    
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">test1</span><span class="o">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+-----+------+-------+-------+</span>
  <span class="o">|</span> <span class="n">no</span>  <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">tel</span> <span class="o">|</span> <span class="n">fax</span>  <span class="o">|</span> <span class="n">pstno</span> <span class="o">|</span> <span class="n">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+-----+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="n">aaa</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">111</span> <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">+-----+------+-----+------+-------+-------+</span>
</pre></table></code></div></div><li><strong>필수 컬럼만 지정하기</strong><ul><li>값을 입력할 컬럼을 선택하기. (단, <strong>필수 입력 컬럼</strong>은 반드시 선택해야 한다)</ul><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="o">**</span><span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="n">tel</span><span class="o">)</span> <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">ccc</span><span class="sc">','</span><span class="mi">333</span><span class="err">'</span><span class="o">);**</span>
</pre></table></code></div></div><ul><li>no 컬럼은 필수 입력 컬럼이지만, 자동 증가 컬럼이기 때문에 값을 입력하지 않아도 된다</ul><li><p><strong>여러 개의 값을 한 번에 insert 하기</strong></p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="n">tel</span><span class="o">)</span> <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">ccc</span><span class="sc">','</span><span class="mi">333</span><span class="err">'</span><span class="o">);</span>
    
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span><span class="n">tel</span><span class="o">)</span> <span class="n">values</span>
      <span class="o">-&gt;</span> <span class="o">(</span><span class="err">'</span><span class="n">aaa</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">1111</span><span class="err">'</span><span class="o">),</span>
      <span class="o">-&gt;</span> <span class="o">(</span><span class="err">'</span><span class="n">bbb</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">2222</span><span class="err">'</span><span class="o">),</span>
      <span class="o">-&gt;</span> <span class="o">(</span><span class="err">'</span><span class="n">ccc</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">3333</span><span class="err">'</span><span class="o">);</span>
    
  <span class="n">mysql</span><span class="o">&gt;</span> <span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">test1</span><span class="o">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="n">no</span>  <span class="o">|</span> <span class="n">name</span> <span class="o">|</span> <span class="n">tel</span>  <span class="o">|</span> <span class="n">fax</span>  <span class="o">|</span> <span class="n">pstno</span> <span class="o">|</span> <span class="n">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="n">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="n">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="n">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="n">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="n">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="n">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="no">NULL</span> <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span> <span class="no">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
</pre></table></code></div></div><li><strong>select 결과를 테이블에 insert하기</strong> (select 결과를 테이블에 바로 입력하기)<ul><li>select 결과의 컬럼명과 insert 테이블의 컬럼명이 같을 필요는 없다.<li><strong>그러나 결과의 컬럼 개수와 insert 하려는 컬럼 개수가 같아야 한다.</strong><li>결과의 컬럼 타입과 insert 하려는 컬럼의 타입이 같거나 입력 할 수 있는 타입이어야 한다.</ul><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre>  <span class="nx">create</span> <span class="nx">table</span> <span class="nf">test2 </span><span class="p">(</span>
    <span class="nx">no</span> <span class="nx">int</span> <span class="nx">primary</span> <span class="nx">key</span> <span class="nx">auto_increment</span><span class="p">,</span>
    <span class="nx">fullname</span> <span class="nf">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="nx">not</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">phone</span> <span class="nf">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="nx">not</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">kor</span> <span class="nx">int</span><span class="p">,</span>
    <span class="nx">eng</span> <span class="nx">int</span><span class="p">,</span>
    <span class="nx">math</span> <span class="nx">int</span>
  <span class="p">);</span>
    
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test2</span><span class="p">(</span><span class="nx">fullname</span><span class="p">,</span> <span class="nx">phone</span><span class="p">)</span>
    <span class="nx">select</span> <span class="nx">no</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span> <span class="k">from</span> <span class="nx">test1</span> <span class="nx">where</span> <span class="nx">addr</span><span class="o">=</span><span class="dl">'</span><span class="s1">seoul</span><span class="dl">'</span><span class="p">;</span>
    
  <span class="o">=&gt;</span>  <span class="nx">꺼낸</span> <span class="nx">컬럼은</span> <span class="mi">3</span><span class="nx">개인데</span> <span class="nx">지정된</span> <span class="nx">컬럼은</span> <span class="mi">2</span><span class="nx">개</span> <span class="nx">뿐이라서</span>
      
    
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test2</span><span class="p">(</span><span class="nx">fullname</span><span class="p">,</span> <span class="nx">phone</span><span class="p">)</span>
    <span class="nx">select</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span> <span class="k">from</span> <span class="nx">test1</span> <span class="nx">where</span> <span class="nx">addr</span><span class="o">=</span><span class="dl">'</span><span class="s1">seoul</span><span class="dl">'</span><span class="p">;</span>
    
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test2</span><span class="p">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+----+----------+-------+------+------+------+</span>
  <span class="o">|</span> <span class="nx">no</span> <span class="o">|</span> <span class="nx">fullname</span> <span class="o">|</span> <span class="nx">phone</span> <span class="o">|</span> <span class="nx">kor</span>  <span class="o">|</span> <span class="nx">eng</span>  <span class="o">|</span> <span class="nx">math</span> <span class="o">|</span>
  <span class="o">+----+----------+-------+------+------+------+</span>
  <span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="mi">1</span>        <span class="o">|</span> <span class="nx">aaa</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="mi">2</span>        <span class="o">|</span> <span class="nx">bbb</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="mi">200</span>      <span class="o">|</span> <span class="nx">bbb</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="nx">aaa</span>      <span class="o">|</span> <span class="mi">111</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="nx">bbb</span>      <span class="o">|</span> <span class="mi">111</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="nx">bbb</span>      <span class="o">|</span> <span class="mi">111</span>   <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
  <span class="o">+----+----------+-------+------+------+------+</span>
</pre></table></code></div></div></ul><h3 id="update"><span class="me-2">update</span><a href="#update" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/img/posts/mysql-dml/image 2.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 2.jpg" alt="" loading="lazy"></a></p><ul><li><strong>등록된 데이터</strong>를 <strong>변경</strong>할 때 사용하는 명령<ul><li><p><strong><code class="language-plaintext highlighter-rouge">update 테이블명 set 컬럼명=값, 컬럼명=값, … where 조건 … ;</code></strong></p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre>  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
        
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">update</span> <span class="nx">test1</span> <span class="kd">set</span> <span class="nx">pstno</span><span class="o">=</span><span class="dl">'</span><span class="s1">11111</span><span class="dl">'</span><span class="p">,</span> <span class="nx">fax</span><span class="o">=</span><span class="dl">'</span><span class="s1">222</span><span class="dl">'</span> <span class="nx">where</span> <span class="nx">no</span><span class="o">=</span><span class="mi">200</span><span class="p">;</span>
        
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">11111</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
        
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">update</span> <span class="nx">test1</span> <span class="kd">set</span> <span class="nx">tel</span><span class="o">=</span><span class="dl">'</span><span class="s1">3030</span><span class="dl">'</span><span class="p">,</span> <span class="nx">fax</span><span class="o">=</span><span class="dl">'</span><span class="s1">1212</span><span class="dl">'</span> <span class="nx">where</span> <span class="nx">no</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
        
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">3030</span> <span class="o">|</span> <span class="mi">1212</span> <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">222</span>  <span class="o">|</span> <span class="mi">11111</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
</pre></table></code></div></div></ul><li><p><strong>조건을 지정하지 않으면</strong>, 모든 데이터에 대해 변경한다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">update</span> <span class="nx">test1</span> <span class="kd">set</span> <span class="nx">fax</span><span class="o">=</span><span class="dl">'</span><span class="s1">333</span><span class="dl">'</span><span class="p">;</span>
    
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span>   <span class="mi">2</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">3030</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">11111</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
</pre></table></code></div></div><ul><li>모든 데이터가 의미 없어질 수 있다.</ul></ul><h3 id="delete"><span class="me-2">delete</span><a href="#delete" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/img/posts/mysql-dml/image 3.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 3.jpg" alt="" loading="lazy"></a></p><ul><li>데이터를 삭제할 때 사용하는 명령이다.<ul><li><p><strong><code class="language-plaintext highlighter-rouge">delete 테이블명 where 조건 … ;</code></strong></p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="k">delete</span> <span class="k">from</span> <span class="nx">test1</span> <span class="nx">where</span> <span class="nx">no</span><span class="o">=</span><span class="mi">2</span> <span class="nx">or</span> <span class="nx">no</span><span class="o">=</span><span class="mi">200</span><span class="p">;</span>
        
  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
  <span class="err">━━━━━━━━━━━━━━━━━━━━━━━━━</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
  <span class="o">|</span>   <span class="mi">1</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">111</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">10101</span> <span class="o">|</span> <span class="nx">seoul</span> <span class="o">|</span>
  <span class="o">|</span> <span class="mi">201</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">202</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">203</span> <span class="o">|</span> <span class="nx">bbb</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">|</span> <span class="mi">204</span> <span class="o">|</span> <span class="nx">ccc</span>  <span class="o">|</span> <span class="mi">3333</span> <span class="o">|</span> <span class="mi">333</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span>
  <span class="o">+-----+------+------+------+-------+-------+</span>
</pre></table></code></div></div></ul><li><p><strong>조건을 지정하지 않으면</strong>, 모든 데이터가 삭제된다. 주의!!</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="k">delete</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
</pre></table></code></div></div><ul><li>삭제된 데이터는 복구가 되지 않는다. ★</ul></ul><h3 id="파일과-변경삭제"><span class="me-2">파일과 변경/삭제</span><a href="#파일과-변경삭제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><hr /><ul><li><strong>파일 데이터 변경</strong><ul><li><p>기존 값을 저장한 부분을 변경</p><p><a href="/assets/img/posts/mysql-dml/image 4.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 4.jpg" alt="" loading="lazy"></a></p></ul><li><strong>파일 데이터 삭제</strong><ul><li><p>기존 값을 저장한 부분을 초기화</p><p><a href="/assets/img/posts/mysql-dml/image 5.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 5.jpg" alt="" loading="lazy"></a></p><li>지우려는 기존 값을 0으로 초기화 시킨다.<li><p>★ 데이터를 제거하려면 뒤의 데이터를 앞으로 당겨야 한다. (⇒ 즉, 복사해야 한다)</p><p>⇒ 이 과정에서 시간이 많이 소요된다.</p><p>⇒ 그래서 그냥 데이터가 저장된 부분을 0으로 덮어쓰는 것이다.</p></ul><li><p><strong>파일의 특정 부분을 잘라낼 수 없다.</strong></p><p>⇒ (1) 잘라낼 부분을 뺀 데이터를 새 파일에 쓰거나</p><p>⇒ (2) 또는 뒤의 데이터를 삭제할 부분으로 당겨야 한다.</p><p>★ 즉, 삽입이라는 것은 실제로는 맨 뒤에 데이터를 넣고 별도 데이터로 위치 데이터를 관리한다.</p></ul><h3 id="autocommit----수동-커밋--"><span class="me-2">autocommit / 수동 커밋 ★</span><a href="#autocommit----수동-커밋--" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li><p><strong>autocommit</strong></p><p><a href="/assets/img/posts/mysql-dml/image 6.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 6.jpg" alt="" loading="lazy"></a></p><ul><li><p>MySQL은 autocommit의 기본 값이 true이다.</p><p>따라서 명령창에서 SQL을 실행하면 바로 실제 테이블에 적용된다.</p><p>수동으로 처리하고 싶다면 autocommit을 false로 설정하라!</p></ul><li><p><strong>수동 커밋 - commit</strong></p><p><a href="/assets/img/posts/mysql-dml/image 7.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 7.jpg" alt="" loading="lazy"></a></p><ul><li><p>autocommit을 false로 설정하면</p><p>insert / update / delete을 수행한 후 승인(commit)을 해야만 실제 테이블에 적용된다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="o">&gt;</span> <span class="nx">commmit</span><span class="p">;</span>
</pre></table></code></div></div><li><p>commit 전에는 버퍼(cache)라고 하는 임시 저장소에 실행 결과가 보관되고</p><p>commit 명령을 하는 경우 실제 테이블에 적용되고 버퍼는 비워진다.</p></ul><li><p><strong>수동 커밋 - rollback</strong></p><p><a href="/assets/img/posts/mysql-dml/image 8.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 8.jpg" alt="" loading="lazy"></a></p><ul><li><p>commit을 하기 전 실행 결과가 버퍼에 임시 보관되어 있을 때 select을 하는 경우,</p><p>DBMS의 table 데이터와 버퍼에 있는 임시 데이터를 종합하여 select 결과를 보여준다.</p><li><p>이때, 다시 되돌리고 싶다면 버퍼를 rollback 명령으로 비워주면 된다.</p><li><p>즉, 마지막 commit 상태로 되돌리고 싶다면,</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="o">&gt;</span> <span class="nx">rollback</span><span class="p">;</span>
</pre></table></code></div></div><p>⇒ 이렇게 하면 버퍼의 데이터가 싹 날아감 (commit 해봤자 의미 없음)</p></ul></ol><h3 id="client와--commit-"><span class="me-2">client와 commit ★★</span><a href="#client와--commit-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/img/posts/mysql-dml/image 9.jpg" class="popup img-link shimmer"><img src="/assets/img/posts/mysql-dml/image 9.jpg" alt="" loading="lazy"></a></p><ul><li><p><strong>Client1 : autocommit = false 인 경우</strong></p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="nx">mysql</span><span class="o">&gt;</span> <span class="kd">set</span> <span class="nx">autocommit</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</pre></table></code></div></div><ol><li><p>insert / update / delete 명령을 실행하면</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre> <span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">xxx</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1111</span><span class="dl">'</span><span class="p">);</span>
 <span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">yyy</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">2222</span><span class="dl">'</span><span class="p">);</span>
 <span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">zzz</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">2222</span><span class="dl">'</span><span class="p">);</span>
</pre></table></code></div></div><li>Thread는 명령 실행 결과를 버퍼(chache)에 임시 보관한다.<li><p>이후 select 명령 시</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span>
</pre></table></code></div></div><li>Thread는 DMBS에서 테이블 데이터를 조회하고<li>버퍼에서 임시 데이터를 조회한다.<li><p>테이블 데이터와 임시 데이터를 종합하여 select한 결과를 리턴한다.</p><p>(select한 결과를 버퍼에 임시 보관한다)</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre> <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="mi">205</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">206</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">207</span> <span class="o">|</span> <span class="nx">zzz</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
</pre></table></code></div></div></ol><p>⇒ 현재 상태는 명령 실행 결과를 실제 테이블에 반영을 하지 않는 상태이다.</p><p>⇒ 한 번 select 결과를 cache하면 원본 테이블이 바뀌던 안 바뀐던 상관안한다. ★</p><p>⇒ 보관은 언제까지? commit/rollback해서 버퍼를 비울 때까지 보관해둔다.</p><p>(보관이라는 의미는 데이터 위치 정보만)</p><p>⇒ select 할 때는 이 보관소에 있는 데이터를 조회한다. ★</p><li><strong>Client2 : autocommit = true 인 또 다른 Client 추가</strong><ol><li>select 문을 실행한다.<li>Thread가 DBMS에서 실제 테이블 데이터를 조회한다.<li><p>조회한 결과를 리턴한다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
 <span class="nx">Empty</span> <span class="nf">set </span><span class="p">(</span><span class="mf">0.00</span> <span class="nx">sec</span><span class="p">)</span>   <span class="p">(</span><span class="nx">테이블에는</span> <span class="nx">데이터</span> <span class="nx">없음</span> <span class="nx">증명</span><span class="p">)</span>
</pre></table></code></div></div></ol><p>⇒ Client1에서 commit을 하지 않은 상태로 insert 실행 결과가 반영되지 않았다.</p><p>따라서 현재 테이블엔 아무 데이터가 없는 상태이다. (0개)</p><li><strong>Client1 &amp; Client2</strong><ol><li><p>Client1에서 commit 명령을 실행하여 결과를 반영시키고 다시 select 명령 실행한다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="mi">205</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">206</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">207</span> <span class="o">|</span> <span class="nx">zzz</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
</pre></table></code></div></div><li><p>Client2에서 insert로 새로운 데이터를 추가한 후 select 명령 실행한다.</p><p>(Client1에서 추가한 데이터 3개와 Client2에서 추가한 데이터가 잘 나타난다)</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="mi">205</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">206</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">207</span> <span class="o">|</span> <span class="nx">zzz</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">208</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
</pre></table></code></div></div><li><p>다시 Client1에서 select 명령을 실행한다.</p><p>⇒ Client2에서 추가한 데이터가 보이지 않는다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="mi">205</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">206</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">207</span> <span class="o">|</span> <span class="nx">zzz</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
</pre></table></code></div></div><li>Client2에서 추가로 데이터 3개를 insert 한다.<li><p>Client1에서 commit 명령을 실행하고 select 명령을 실행한다.</p><p>(이 순간 Client2에서 추가했던 데이터들을 가져온다)</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre> <span class="nx">mysql</span><span class="o">&gt;</span> <span class="nx">select</span> <span class="o">*</span> <span class="k">from</span> <span class="nx">test1</span><span class="p">;</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="nx">no</span>  <span class="o">|</span> <span class="nx">name</span> <span class="o">|</span> <span class="nx">tel</span>  <span class="o">|</span> <span class="nx">fax</span>  <span class="o">|</span> <span class="nx">pstno</span> <span class="o">|</span> <span class="nx">addr</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
 <span class="o">|</span> <span class="mi">205</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">206</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">207</span> <span class="o">|</span> <span class="nx">zzz</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">208</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">209</span> <span class="o">|</span> <span class="nx">xxx</span>  <span class="o">|</span> <span class="mi">1111</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">210</span> <span class="o">|</span> <span class="nx">yyy</span>  <span class="o">|</span> <span class="mi">2222</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">|</span> <span class="mi">211</span> <span class="o">|</span> <span class="nx">aaa</span>  <span class="o">|</span> <span class="mi">0000</span> <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span> <span class="nx">NULL</span>  <span class="o">|</span> <span class="nx">NULL</span> <span class="o">|</span>
 <span class="o">+-----+------+------+------+-------+------+</span>
</pre></table></code></div></div></ol><li><p>조심해야 할 것은 DBMS 마다 이러한 작동 방식이 살짝 다르다는 것이다.</p><li><p>중요한 것은 insert / update / delete하게 되면 그 결과는 임시 버퍼에 보관된다.</p><p>select를 하게 되면 테이블의 값과 임시 버퍼에 보관된 값을 조합하여 return하는데,</p><p>중요한 것은 테이블의 값이 실시간으로 반영된 것이 아니라는 것이다. ★</p><p>그러므로 commit을 먼저 하고 select 해야 한다</p><p>즉, autocommit이 false인 상태일 때 select를 하게 되면 실제 테이블의 값과 다를 수 있음을 감안해야 한다.</p><li><p>또, 다른 client에서는 임시 버퍼에 있는 결과는 가져오지 못한다. ★</p><p>commit을 통해 반영시켜야만 다른 client에서도 그 결과를 알 수 있다.</p></ul><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="nx">연습1</span><span class="p">:</span>

<span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">xxx</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1111</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">yyy</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">2222</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">insert</span> <span class="nx">into</span> <span class="nf">test1</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">tel</span><span class="p">)</span> <span class="nf">values</span><span class="p">(</span><span class="dl">'</span><span class="s1">zzz</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">2222</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">update</span> <span class="nx">test1</span> <span class="kd">set</span> <span class="nx">fax</span><span class="o">=</span><span class="dl">'</span><span class="s1">1212</span><span class="dl">'</span> <span class="nx">where</span> <span class="nx">name</span><span class="o">=</span><span class="dl">'</span><span class="s1">xxx</span><span class="dl">'</span><span class="p">;</span>

<span class="k">delete</span> <span class="k">from</span> <span class="nx">test1</span> <span class="nx">where</span> <span class="nx">no</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>

<span class="nx">rollback</span><span class="p">;</span> <span class="cm">/* 지금까지 작업한 insert, update, delete은 최소된다.*/</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nl">연습2:</span>

<span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">tel</span><span class="o">)</span> <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">xxx</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">1111</span><span class="err">'</span><span class="o">);</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">tel</span><span class="o">)</span> <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">yyy</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">2222</span><span class="err">'</span><span class="o">);</span>
<span class="n">insert</span> <span class="n">into</span> <span class="nf">test1</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">tel</span><span class="o">)</span> <span class="n">values</span><span class="o">(</span><span class="err">'</span><span class="n">zzz</span><span class="err">'</span><span class="o">,</span> <span class="err">'</span><span class="mi">2222</span><span class="err">'</span><span class="o">);</span>

<span class="n">commit</span><span class="o">;</span> <span class="cm">/* 지금까지 한 작업을 테이블에 적용한다.*/</span>

<span class="n">update</span> <span class="n">test1</span> <span class="n">set</span> <span class="n">fax</span><span class="o">=</span><span class="err">'</span><span class="mi">1212</span><span class="err">'</span> <span class="n">where</span> <span class="n">name</span><span class="o">=</span><span class="err">'</span><span class="n">xxx</span><span class="err">'</span><span class="o">;</span>

<span class="n">delete</span> <span class="n">from</span> <span class="n">test1</span> <span class="n">where</span> <span class="n">no</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span>

<span class="n">rollback</span><span class="o">;</span> <span class="cm">/* 막지막 commit 이후에 수행한 insert, update, delete은 최소된다.*/</span>
</pre></table></code></div></div><h3 id="트랜잭션--transaction"><span class="me-2">트랜잭션 (transaction)</span><a href="#트랜잭션--transaction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><strong>트랜잭션 (transaction)</strong><ul><li><p>여러 개의 작업을 한 단위로 묶은 것 (작업 : insert / update / delete)</p><p>⇒ 수동 커밋을 설정하는 경우 ⇒ “commit / rollback”으로 제어</p></ul><li><strong>예시</strong><ul><li>“퇴사”라는 트랜잭션<ul><li>회사 대출 완납 + 월급 미정산분 정산 + 대여 물품 반납 등</ul><li>“계좌이체”라는 트랜잭션<ul><li><p>나의 계좌(-) ⇒ 상대편 계좌(+) ⇒ 완료 전달 받으면 commit 완료 처리 ⇒ 완료 전달</p><p>⇒ 상대방 쪽에서 commit 완료 처리</p></ul></ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%EC%BD%94%EB%94%A9-%EC%A7%80%EC%8B%9D/">코딩 지식</a>, <a href="/categories/mysql/">MySQL</a>, <a href="/categories/sql/">SQL</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/mysql/" class="post-tag no-text-decoration" >MySQL</a> <a href="/tags/dml/" class="post-tag no-text-decoration" >DML</a> <a href="/tags/%EB%AC%B8%EB%B2%95/" class="post-tag no-text-decoration" >문법</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DML%20-%20%EB%A6%AC%EB%B2%84&url=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fmysql-dml%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DML%20-%20%EB%A6%AC%EB%B2%84&u=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fmysql-dml%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fbacknback.github.io%2Fposts%2Fmysql-dml%2F&text=DML%20-%20%EB%A6%AC%EB%B2%84" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">최근 업데이트</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/member-module-1/">Member 모듈 리펙토링 - 개요 및 진행상황</a><li class="text-truncate lh-lg"> <a href="/posts/member-module-2/">Member 모듈 리펙토링 - 1단계</a><li class="text-truncate lh-lg"> <a href="/posts/spring-security2/">Spring Security 탐구 - 동작 원리</a><li class="text-truncate lh-lg"> <a href="/posts/spring-security/">Spring Security 탐구 - 개요</a><li class="text-truncate lh-lg"> <a href="/posts/jwt/">JWT 인증 / 인가</a></ul></section><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring-security/">Spring Security</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EB%A9%8B%EC%9F%81%EC%9D%B4-%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/">멋쟁이 사자처럼</a> <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">MySQL</a> <a class="post-tag btn btn-outline-primary" href="/tags/refactoring/">Refactoring</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a> <a class="post-tag btn btn-outline-primary" href="/tags/grasp/">GRASP</a> <a class="post-tag btn btn-outline-primary" href="/tags/ncp/">NCP</a> <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a> <a class="post-tag btn btn-outline-primary" href="/tags/springconfig/">SpringConfig</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 mb-2">바로가기</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">관련된 글</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/mysql-dql/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732413840" data-df="YYYY/MM/DD" > 2024/11/24 </time><h4 class="pt-0 my-2">DQL</h4><div class="text-muted"><p>DQL</p></div></div></a></article><article class="col"> <a href="/posts/mysql-howtouse/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732338480" data-df="YYYY/MM/DD" > 2024/11/23 </time><h4 class="pt-0 my-2">MySQL 사용 방법</h4><div class="text-muted"><p>MySQL을 사용하는 방법</p></div></div></a></article><article class="col"> <a href="/posts/mysql-install/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1732316880" data-df="YYYY/MM/DD" > 2024/11/23 </time><h4 class="pt-0 my-2">MySQL 설치 및 설정</h4><div class="text-muted"><p>MySQL을 로컬에서 설치하고 설정하는 방법</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/mysql-dql/" class="btn btn-outline-primary" aria-label="이전 글" ><p>DQL</p></a> <a href="/posts/final-deploy-3/" class="btn btn-outline-primary" aria-label="다음 글" ><p>bitcamp-final 프로젝트 배포하기 3</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/backnback">이가람</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다." >일부 권리 보유</span></p><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">인기 태그</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/spring-security/">Spring Security</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EB%A9%8B%EC%9F%81%EC%9D%B4-%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/">멋쟁이 사자처럼</a> <a class="post-tag btn btn-outline-primary" href="/tags/mysql/">MySQL</a> <a class="post-tag btn btn-outline-primary" href="/tags/refactoring/">Refactoring</a> <a class="post-tag btn btn-outline-primary" href="/tags/%EC%9D%B8%EC%A6%9D-%EC%9D%B8%EA%B0%80/">인증/인가</a> <a class="post-tag btn btn-outline-primary" href="/tags/grasp/">GRASP</a> <a class="post-tag btn btn-outline-primary" href="/tags/ncp/">NCP</a> <a class="post-tag btn btn-outline-primary" href="/tags/server/">Server</a> <a class="post-tag btn btn-outline-primary" href="/tags/springconfig/">SpringConfig</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></aside><script> (function () { const origin = 'https://utteranc.es'; const themeMapper = Theme.getThemeMapper('github-light', 'github-dark'); const initTheme = themeMapper[Theme.visualState]; let script = document.createElement('script'); script.src = 'https://utteranc.es/client.js'; script.setAttribute('repo', 'backnback/comments'); script.setAttribute('issue-term', 'pathname'); script.setAttribute('theme', initTheme); script.crossOrigin = 'anonymous'; script.async = true; const $footer = document.querySelector('footer'); $footer.insertAdjacentElement('beforebegin', script); addEventListener('message', (event) => { let newTheme;if (event.source === window && event.data && event.data.id === Theme.ID) { newTheme = themeMapper[Theme.visualState]; const message = { type: 'set-theme', theme: newTheme }; const utterances = document.querySelector('.utterances-frame').contentWindow; utterances.postMessage(message, origin); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
