[ { "title": "Member ëª¨ë“ˆ ë¦¬í™í† ë§ - 1ë‹¨ê³„", "url": "/posts/member-module-2/", "categories": "Member Module, Refactoring, ê²°ê³¼", "tags": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Security, Member, ì¸ì¦/ì¸ê°€, Refactoring", "date": "2025-02-17 14:00:00 +0900", "snippet": "ë¦¬í™í† ë§ 1ë‹¨ê³„ Â  : Â  -ë¦¬í™í† ë§ 2ë‹¨ê³„ Â  : Â  SocialAccount Entity ë³€ê²½â­• SocialAccount â‡¨ OAuthProviderë¡œ Entity ë³€ê²½ SocialAccount Code ë³´ê¸° package com.msa.member.domain.member.auth.entity; im...", "content": "ë¦¬í™í† ë§ 1ë‹¨ê³„ Â  : Â  -ë¦¬í™í† ë§ 2ë‹¨ê³„ Â  : Â  SocialAccount Entity ë³€ê²½â­• SocialAccount â‡¨ OAuthProviderë¡œ Entity ë³€ê²½ SocialAccount Code ë³´ê¸° package com.msa.member.domain.member.auth.entity; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; import jakarta.persistence.*; import lombok.*; import java.time.LocalDateTime; @Entity @Setter @Getter @AllArgsConstructor @NoArgsConstructor @Builder @EqualsAndHashCode(onlyExplicitlyIncluded = true) public class SocialAccount { @Id private Long id; @MapsId @OneToOne @JoinColumn(name = \"id\") @EqualsAndHashCode.Include private Member member; // Kakao @Column(unique = true, length = 50) private String kakaoProviderId; @Column(unique = true, length = 50) private String kakaoEmail; @Column(nullable = false) @Builder.Default private boolean kakaoActive = false; @Setter(AccessLevel.PRIVATE) private LocalDateTime kakaoCreateDate; @Setter(AccessLevel.PRIVATE) private LocalDateTime kakaoModifyDate; // Google @Column(length = 50, unique = true) private String googleProviderId; @Column(unique = true, length = 50) private String googleEmail; @Column(nullable = false) @Builder.Default private boolean googleActive = false; @Setter(AccessLevel.PRIVATE) private LocalDateTime googleCreateDate; @Setter(AccessLevel.PRIVATE) private LocalDateTime googleModifyDate; // Github @Column(length = 50, unique = true) private String githubProviderId; @Column(unique = true, length = 50) private String githubEmail; @Column(nullable = false) @Builder.Default private boolean githubActive = false; @Setter(AccessLevel.PRIVATE) private LocalDateTime githubCreateDate; @Setter(AccessLevel.PRIVATE) private LocalDateTime githubModifyDate; // Naver @Column(length = 150, unique = true) private String naverProviderId; @Column(unique = true, length = 50) private String naverEmail; @Column(nullable = false) @Builder.Default private boolean naverActive = false; @Setter(AccessLevel.PRIVATE) private LocalDateTime naverCreateDate; @Setter(AccessLevel.PRIVATE) private LocalDateTime naverModifyDate; // ê³µí†µ public boolean hasSocialAccount(ProviderType provider) { if (provider == null) { return false; } return switch (provider) { case ProviderType.KAKAO -&gt; kakaoActive; case ProviderType.GOOGLE -&gt; googleActive; case ProviderType.GITHUB -&gt; githubActive; case ProviderType.NAVER -&gt; naverActive; default -&gt; false; }; } // Kakao public void updateKakaoInfo(String providerId, String email, boolean active) { kakaoProviderId = providerId; kakaoEmail = email; kakaoActive = active; kakaoModifyDate = LocalDateTime.now(); } public void connectKakao(String providerId, String email) { if (kakaoCreateDate == null) { kakaoCreateDate = LocalDateTime.now(); } updateKakaoInfo(providerId, email, true); } public void disconnectKakao() { updateKakaoInfo(null, null, false); } // Google public void updateGoogleInfo(String providerId, String email, boolean active) { googleProviderId = providerId; googleEmail = email; googleActive = active; googleModifyDate = LocalDateTime.now(); } public void connectGoogle(String providerId, String email) { if (googleCreateDate == null) { googleCreateDate = LocalDateTime.now(); } updateGoogleInfo(providerId, email, true); } public void disconnectGoogle() { updateGoogleInfo(null, null, false); } // Github public void updateGithubInfo(String providerId, String email, boolean active) { githubProviderId = providerId; githubEmail = email; githubActive = active; githubModifyDate = LocalDateTime.now(); } public void connectGithub(String providerId, String email) { if (githubCreateDate == null) { githubCreateDate = LocalDateTime.now(); } updateGithubInfo(providerId, email, true); } public void disconnectGithub() { updateGithubInfo(null, null, false); } // Naver public void updateNaverInfo(String providerId, String email, boolean active) { naverProviderId = providerId; naverEmail = email; naverActive = active; naverModifyDate = LocalDateTime.now(); } public void connectNaver(String providerId, String email) { if (naverCreateDate == null) { naverCreateDate = LocalDateTime.now(); } updateNaverInfo(providerId, email, true); } public void disconnectNaver() { updateNaverInfo(null, null, false); } } ğŸ‘‰ Entity LayerğŸ”† BaseEntity BaseEntity ë‹¤ë¥¸ ëª¨ë“  Entityì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” í•„ë“œë¥¼ ë½‘ì•„ ë†“ì€ ì¶”ìƒí´ë˜ìŠ¤ Code ë³´ê¸° import jakarta.persistence.*; import lombok.*; import lombok.experimental.SuperBuilder; import org.springframework.data.annotation.CreatedDate; import org.springframework.data.annotation.LastModifiedDate; import org.springframework.data.jpa.domain.support.AuditingEntityListener; import java.time.LocalDateTime; import static jakarta.persistence.GenerationType.IDENTITY; import static lombok.AccessLevel.PROTECTED; @MappedSuperclass // ìƒì† ê´€ê³„ ë§¤í•‘ìš© ë¶€ëª¨ í´ë˜ìŠ¤ @NoArgsConstructor(access = PROTECTED) // ì™¸ë¶€ì—ì„œ ìƒì„± ì œí•œ @AllArgsConstructor(access = PROTECTED) // ìì‹ í´ë˜ìŠ¤ì—ì„œë§Œ ëª¨ë“  í•„ë“œ ìƒì„±ì ì‚¬ìš© ê°€ëŠ¥ @Getter @SuperBuilder // ìì‹ í´ë˜ìŠ¤ì—ì„œ ë¹Œë” íŒ¨í„´ ì‚¬ìš© ê°€ëŠ¥ @EntityListeners(AuditingEntityListener.class) // JPA Auditing ê¸°ëŠ¥ í™œì„±í™” @EqualsAndHashCode(onlyExplicitlyIncluded = true) // ID í•„ë“œë§Œ equals, hashCode ë¹„êµ public abstract class BaseEntity { // abstractë¡œ ì„ ì–¸í•˜ì—¬ ì§ì ‘ ìƒì„± ë°©ì§€ @Id @GeneratedValue(strategy = IDENTITY) @EqualsAndHashCode.Include // equals, hashCodeì— ì´ í•„ë“œë§Œ í¬í•¨ private Long id; @CreatedDate @Column(updatable = false) // ìƒì„±ì¼ì€ ìˆ˜ì • ë¶ˆê°€ private LocalDateTime createDate; @LastModifiedDate // ì—”í‹°í‹° ìˆ˜ì •ì‹œ ìë™ ì—…ë°ì´íŠ¸ private LocalDateTime modifiedDate; } ID ìƒì„±, ì‹œê°„ ê´€ë¦¬ ë“± ê³µí†µ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ JPA ìµœì í™” (ID í•„ë“œë§Œ ë¹„êµ) ë¶ˆë³€ì„± ë³´ì¥ (Setter ì—†ìŒ) ìƒì„±ì ì œí•œìœ¼ë¡œ ì•ˆì „ì„± ë³´ì¥ ìë™ ê°ì‚¬(Audit) ê¸°ëŠ¥ ğŸ”† BaseOAuthProvider BaseOAuthProvider OAuth2 Providerë“¤ì˜ ê³µí†µ ë™ì‘ ì •ì˜ (ì¶”ìƒ í´ë˜ìŠ¤) ì¦‰, ì•„ë˜ì˜ ì†Œì…œ ë¡œê·¸ì¸ ì œê³µìë³„ Embedded í´ë˜ìŠ¤ì˜ ê³µí†µ ë¡œì§ì„ ì¶”ì¶œí•œ ì¶”ìƒ í´ë˜ìŠ¤ì´ë‹¤. connect(), disconnect() ë“± ê³µí†µ ë¡œì§ ì œê³µ [GoF] Template Method ìì‹í´ë˜ìŠ¤ì—ì„œ ì¶”ìƒ ë©”ì„œë“œë¥¼ ê° ì†Œì…œ ë¡œê·¸ì¸ ì œê³µìë³„ë¡œ ê°ê° êµ¬í˜„í•œë‹¤. Code ë³´ê¸° package com.msa.member.domain.member.auth.entity; import jakarta.persistence.MappedSuperclass; import lombok.AccessLevel; import lombok.Getter; import lombok.NoArgsConstructor; import lombok.experimental.SuperBuilder; import java.time.LocalDateTime; @MappedSuperclass @Getter @SuperBuilder @NoArgsConstructor(access = AccessLevel.PROTECTED) public abstract class BaseOAuthProvider { protected abstract String getProviderId(); protected abstract void setConnected(boolean connected); protected abstract void setConnectedDate(LocalDateTime connectedDate); protected abstract void setModifiedDate(LocalDateTime modifiedDate); protected void connect() { setConnected(true); setConnectedDate(LocalDateTime.now()); setModifiedDate(LocalDateTime.now()); } protected void disconnect() { setConnected(false); setModifiedDate(LocalDateTime.now()); } protected void validate() { if (getProviderId() == null || getProviderId().isBlank()) { throw new IllegalArgumentException(\"Provider IDê°€ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"); } } } ğŸ”† KakaoProvider, GoogleProvider, NaverProvider, GithubProvider KakaoProvider ê°ê°ì˜ í´ë˜ìŠ¤ëŠ” OAuthProviderì˜ Embedded í´ë˜ìŠ¤ì´ë‹¤. ì¦‰, DBì—ì„œ ê° í´ë˜ìŠ¤ì˜ í•„ë“œë“¤ì€ OAuthProviderì˜ ì†ì„±ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤. setConnected(), setConnectedDate(), setModifiedDate() ì¶”ìƒë©”ì„œë“œ êµ¬í˜„ [GoF] Template Method íŒ¨í„´ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ëª¨ë“  ì œê³µìì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” connect(), disconnect(), validate()ë¥¼ ê³µí†µ ë¡œì§ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. í•„ìš”í•œ ìš”ì†Œë“¤ì„ ë¯¸ë¦¬ ê°€ì ¸ë‹¤ ì“°ê³  ë©”ì„œë“œ ë‚´ë¶€ êµ¬í˜„ì€ ìì‹ í´ë˜ìŠ¤ì—ê²Œ ë§¡ê¸°ëŠ” ê²ƒì´ë‹¤. Code ë³´ê¸° package com.msa.member.domain.member.auth.entity; import jakarta.persistence.Column; import jakarta.persistence.Embeddable; import lombok.*; import lombok.experimental.SuperBuilder; import java.time.LocalDateTime; @Embeddable @Getter @SuperBuilder @AllArgsConstructor(access = AccessLevel.PROTECTED) @NoArgsConstructor(access = AccessLevel.PROTECTED) @EqualsAndHashCode(of = \"providerId\", callSuper = false) public class KakaoProvider extends BaseOAuthProvider { @Column(name = \"kakao_provider_id\", length = 50) private String providerId; @Column(name = \"kakao_email\", length = 50) private String email; @Column(name = \"kakao_connected\") private boolean connected = false; @Column(name = \"kakao_connected_date\") private LocalDateTime connectedDate; @Column(name = \"kakao_modified_date\") private LocalDateTime modifiedDate; public void connect(String providerId, String email) { this.providerId = providerId; this.email = email; super.connect(); } @Override protected void setConnected(boolean connected) { this.connected = connected; } @Override protected void setConnectedDate(LocalDateTime connectedDate) { this.connectedDate = connectedDate; } @Override protected void setModifiedDate(LocalDateTime modifiedDate) { this.modifiedDate = modifiedDate; } } ì´ í´ë˜ìŠ¤ë“¤ì˜ ëª©ì ì€ ì†Œì…œ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê²ƒì´ë‹¤. ğŸ”† OAuthProvider OAuthProvider ëª¨ë“  ì†Œì…œ ë¡œê·¸ì¸ ì œê³µìë“¤ì„ í†µí•© ê´€ë¦¬í•˜ëŠ” Entityì´ë‹¤. ì¦‰, ìœ„ì˜ ê° ì œê³µìë³„ Embedded í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ ê´€ë¦¬í•œë‹¤. Embeddedëœ Providerë“¤ì˜ ì¶”ê°€/ì œê±°ëŠ” ì—¬ê¸°ì„œ ëª¨ë‘ ì²˜ë¦¬í•˜ì—¬ í†µí•© ê´€ë¦¬í•œë‹¤. Member ì—”í‹°í‹°ì™€ëŠ” 1ëŒ€1 ê´€ê³„ì´ë‹¤. Embedded í´ë˜ìŠ¤ì—ì„œ ì§ì ‘ Unique Keyë¥¼ ì§€ì •í•  ìˆ˜ ì—†ë‹¤. ë°”ê¹¥ í´ë˜ìŠ¤ì—ì„œ ì§€ì • ì§€ì •í–ˆë‹¤. Code ë³´ê¸° package com.msa.member.domain.member.auth.entity; import com.msa.member.domain.member.member.dto.OAuthProviderStatus; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; import com.msa.member.global.jpa.BaseEntity; import jakarta.persistence.*; import lombok.*; import lombok.experimental.SuperBuilder; import java.util.HashMap; import java.util.Map; @Entity @Getter @NoArgsConstructor(access = AccessLevel.PROTECTED) @AllArgsConstructor(access = AccessLevel.PROTECTED) @SuperBuilder @EqualsAndHashCode(onlyExplicitlyIncluded = true) @Table(name = \"oauth_providers\", uniqueConstraints = { @UniqueConstraint(columnNames = \"kakao_provider_id\"), @UniqueConstraint(columnNames = \"google_provider_id\"), @UniqueConstraint(columnNames = \"naver_provider_id\"), @UniqueConstraint(columnNames = \"github_provider_id\") }) public class OAuthProvider extends BaseEntity { @MapsId @OneToOne @JoinColumn(name = \"member_id\") @EqualsAndHashCode.Include private Member member; // ì†Œì…œ ê³„ì • ì •ë³´ @Embedded private KakaoProvider kakao; public void addKakaoProvider(String providerId, String email) { KakaoProvider kakaoProvider = KakaoProvider.builder() .providerId(providerId) .email(email) .build(); kakaoProvider.connect(); kakao = kakaoProvider; } public void removeKakaoProvider() { if (kakao != null) { kakao.disconnect(); kakao = null; } } @Embedded private GoogleProvider google; public void addGoogleProvider(String providerId, String email) { GoogleProvider googleProvider = GoogleProvider.builder() .providerId(providerId) .email(email) .build(); googleProvider.connect(); google = googleProvider; } public void removeGoogleProvider() { if (google != null) { google.disconnect(); google = null; } } @Embedded private NaverProvider naver; public void addNaverProvider(String providerId, String email) { NaverProvider naverProvider = NaverProvider.builder() .providerId(providerId) .email(email) .build(); naverProvider.connect(); naver = naverProvider; } public void removeNaverProvider() { if (naver != null) { naver.disconnect(); naver = null; } } @Embedded private GithubProvider github; public void addGithubProvider(String providerId, String email) { GithubProvider githubProvider = GithubProvider.builder() .providerId(providerId) .email(email) .build(); githubProvider.connect(); github = githubProvider; } public void removeGithubProvider() { if (github != null) { github.disconnect(); github = null; } } @Builder private OAuthProvider(Member member) { this.member = member; } public boolean isConnected(ProviderType type) { return switch (type) { case KAKAO -&gt; kakao != null &amp;&amp; kakao.isConnected(); case GOOGLE -&gt; google != null &amp;&amp; google.isConnected(); case NAVER -&gt; naver != null &amp;&amp; naver.isConnected(); case GITHUB -&gt; github != null &amp;&amp; github.isConnected(); case SELF -&gt; false; }; } public Map&lt;ProviderType, OAuthProviderStatus&gt; getOAuthProviderStatuses() { Map&lt;ProviderType, OAuthProviderStatus&gt; statuses = new HashMap&lt;&gt;(); statuses.put(ProviderType.KAKAO, OAuthProviderStatus.builder() .createDate(kakao.getConnectedDate()) .email(kakao.getEmail()) .active(kakao.isConnected()) .build()); statuses.put(ProviderType.GOOGLE, OAuthProviderStatus.builder() .createDate(google.getConnectedDate()) .email(google.getEmail()) .active(google.isConnected()) .build()); statuses.put(ProviderType.GITHUB, OAuthProviderStatus.builder() .createDate(github.getConnectedDate()) .email(github.getEmail()) .active(github.isConnected()) .build()); statuses.put(ProviderType.NAVER, OAuthProviderStatus.builder() .createDate(naver.getConnectedDate()) .email(naver.getEmail()) .active(naver.isConnected()) .build()); return statuses; } } ğŸ”† Member Member ê° Code ë³´ê¸° package com.msa.member.domain.member.member.entity; import com.fasterxml.jackson.annotation.JsonIgnore; import com.msa.member.domain.member.auth.entity.OAuthProvider; import com.msa.member.domain.member.auth.entity.SocialAccount; import com.msa.member.domain.member.member.dto.MemberUpdateRequest; import com.msa.member.domain.member.member.dto.OAuthProviderStatus; import com.msa.member.domain.member.member.enums.Gender; import com.msa.member.domain.member.member.enums.ProviderType; import com.msa.member.domain.member.member.enums.MemberRole; import com.msa.member.domain.member.member.enums.MemberStatus; import com.msa.member.global.exceptions.ErrorCode; import com.msa.member.global.exceptions.ServiceException; import com.msa.member.global.jpa.BaseEntity; import jakarta.persistence.*; import lombok.*; import lombok.experimental.SuperBuilder; import org.hibernate.annotations.DynamicInsert; import org.springframework.security.core.GrantedAuthority; import org.springframework.security.core.authority.SimpleGrantedAuthority; import java.time.LocalDate; import java.util.*; import static jakarta.persistence.CascadeType.ALL; @Entity @Setter @Getter @AllArgsConstructor @NoArgsConstructor @SuperBuilder @DynamicInsert public class Member extends BaseEntity { @Column(unique = true, nullable = false, length = 30) private String email; @JsonIgnore private String password; public boolean hasPassword() { return password != null &amp;&amp; !password.isEmpty(); } @Column(nullable = false) private String nickname; // ë‹‰ë„¤ì„ private LocalDate birthDate; private String address; // ì£¼ì†Œ @Enumerated(EnumType.STRING) @Column(length = 1) private Gender gender; // ì„±ë³„ @Column(length = 20) private String phoneNumber; // ì „í™”ë²ˆí˜¸ @Column(columnDefinition = \"VARCHAR(255) DEFAULT 'default.png'\") private String profileImageUrl = \"default.png\"; // í”„ë¡œí•„ ì‚¬ì§„ ê²½ë¡œ @Column(nullable = false, columnDefinition = \"BOOLEAN DEFAULT TRUE\") private boolean marketingAgree; // ë§ˆì¼€íŒ… ìˆ˜ì‹ ì—¬ë¶€ @Enumerated(EnumType.STRING) @Column(nullable = false, columnDefinition = \"ENUM('ACTIVE', 'INACTIVE', 'BANNED', 'WITHDRAWN') DEFAULT 'ACTIVE'\") private MemberStatus status; // íšŒì› ìƒíƒœ public void deactivate() { status = MemberStatus.WITHDRAWN; } public void restore() { status = MemberStatus.ACTIVE; } @Enumerated(EnumType.STRING) @Column(nullable = false, columnDefinition = \"ENUM('ROLE_USER', 'ROLE_ADMIN') DEFAULT 'ROLE_USER'\") private MemberRole role = MemberRole.ROLE_USER; // ê¶Œí•œ (ê´€ë¦¬ì, ì‚¬ìš©ì) public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() { if (this.role != null) { return Collections.singletonList(new SimpleGrantedAuthority(this.role.name())); } else { return Collections.singletonList(new SimpleGrantedAuthority(MemberRole.ROLE_USER.name())); } } @JsonIgnore @Column(unique = true, length = 50) private String apiKey; @Enumerated(EnumType.STRING) @Column(nullable = false, columnDefinition = \"VARCHAR(50) DEFAULT 'SELF'\") private ProviderType loginType = ProviderType.SELF; // í˜„ì¬ ë¡œê·¸ì¸ ë°©ì‹ // 1ëŒ€1 ê´€ê³„ ì„¤ì • @JsonIgnore @OneToOne(mappedBy = \"member\", cascade = ALL, orphanRemoval = true) private OAuthProvider oauthProvider; public OAuthProvider getOAuthProviderOrCreate() { if (oauthProvider == null) { oauthProvider = OAuthProvider.builder() .member(this) .build(); } return oauthProvider; } public boolean hasOAuthProvider(ProviderType type) { return oauthProvider != null &amp;&amp; oauthProvider.isConnected(type); } public int getConnectedOAuthCount() { if (oauthProvider == null) return 0; int count = 0; if (oauthProvider.isConnected(ProviderType.KAKAO)) count++; if (oauthProvider.isConnected(ProviderType.GOOGLE)) count++; if (oauthProvider.isConnected(ProviderType.NAVER)) count++; if (oauthProvider.isConnected(ProviderType.GITHUB)) count++; return count; } public Map&lt;ProviderType, OAuthProviderStatus&gt; getOAuthProviderStatuses() { if (oauthProvider == null) { return new HashMap&lt;&gt;(); } return oauthProvider.getOAuthProviderStatuses(); } @JsonIgnore @OneToOne(mappedBy = \"member\", cascade = ALL, orphanRemoval = true) private SocialAccount socialAccount; public SocialAccount getSocialAccountOrCreate() { if (socialAccount == null) { socialAccount = SocialAccount.builder() .member(this) .build(); } return socialAccount; } public boolean hasSocialAccount(ProviderType provider) { return socialAccount != null &amp;&amp; socialAccount.hasSocialAccount(provider); } public int getConnectedSocialCount() { if (socialAccount == null) return 0; int count = 0; if (socialAccount.isKakaoActive()) count++; if (socialAccount.isGoogleActive()) count++; if (socialAccount.isNaverActive()) count++; if (socialAccount.isGithubActive()) count++; return count; } public void disconnectSocialAccount(ProviderType provider) { if (socialAccount == null) { throw new ServiceException(ErrorCode.NOT_CONNECTED_SOCIAL_ACCOUNT); } switch (provider) { case ProviderType.KAKAO -&gt; socialAccount.disconnectKakao(); case ProviderType.GOOGLE -&gt; socialAccount.disconnectGoogle(); case ProviderType.GITHUB -&gt; socialAccount.disconnectGithub(); case ProviderType.NAVER -&gt; socialAccount.disconnectNaver(); default -&gt; throw new ServiceException(ErrorCode.DISCONNECT_FAIL); } } public Map&lt;ProviderType, OAuthProviderStatus&gt; getSocialAccountStatuses() { Map&lt;ProviderType, OAuthProviderStatus&gt; statuses = new HashMap&lt;&gt;(); if (socialAccount != null) { // Kakao statuses.put(ProviderType.KAKAO, OAuthProviderStatus.builder() .createDate(socialAccount.getKakaoCreateDate()) .email(socialAccount.getKakaoEmail()) .active(socialAccount.isKakaoActive()) .build()); // Google statuses.put(ProviderType.GOOGLE, OAuthProviderStatus.builder() .createDate(socialAccount.getGoogleCreateDate()) .email(socialAccount.getGoogleEmail()) .active(socialAccount.isGoogleActive()) .build()); // Github statuses.put(ProviderType.GITHUB, OAuthProviderStatus.builder() .createDate(socialAccount.getGithubCreateDate()) .email(socialAccount.getGithubEmail()) .active(socialAccount.isGithubActive()) .build()); // Naver statuses.put(ProviderType.NAVER, OAuthProviderStatus.builder() .createDate(socialAccount.getNaverCreateDate()) .email(socialAccount.getNaverEmail()) .active(socialAccount.isNaverActive()) .build()); } return statuses; } // 1:N ê´€ê³„ ì„¤ì • // Entity ë©”ì„œë“œ public Member(String email, String nickname, String profileImageUrl, MemberRole role) { this.email = email; this.nickname = nickname; this.profileImageUrl = profileImageUrl; this.role = role; } public void updateInfo(MemberUpdateRequest request) { gender = request.getGender(); nickname = request.getNickname(); marketingAgree = request.isMkAlarm(); birthDate = request.getBirthday(); address = request.getLocation(); phoneNumber = request.getPhoneNumber(); } } s ğŸ‘‰ Strategy LayerğŸ”† OAuthProviderStrategy OAuthProviderStrategy ê°ê°ì˜ ì†Œì…œ ë¡œê·¸ì¸ ì œê³µìë³„ ë™ì‘ì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ProviderTypeì„ ë°˜í™˜ í•´ë‹¹ ProviderTypeê³¼ ProviderIdì— í•´ë‹¹í•˜ëŠ” íšŒì› ì°¾ê¸° OAuthProviderì˜ ê°ê°ì˜ Providerì˜ ì—°ê²°/í•´ì œë¥¼ ë™ì‘?? Code ë³´ê¸° package com.msa.member.domain.member.auth.strategy; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; public interface OAuthProviderStrategy { ProviderType getProviderType(); Member findByProviderId(String providerId); void connect(Member member, String providerId, String email); void disconnect(Member member); } ğŸ”† KakaoProviderStrategy, GoogleProviderStrategy ë“± KakaoProviderStrategy ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì‹¤ì§ˆì ì¸ ì—°ê²°/í•´ì œë¥¼ êµ¬í˜„í•œë‹¤. MemberRepositoryë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹í•˜ëŠ” Member ì—”í‹°í‹°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. Code ë³´ê¸° package com.msa.member.domain.member.auth.strategy; import com.msa.member.domain.member.auth.entity.OAuthProvider; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; import com.msa.member.domain.member.member.repository.MemberRepository; import lombok.RequiredArgsConstructor; import org.springframework.stereotype.Component; @Component @RequiredArgsConstructor public class KakaoProviderStrategy implements OAuthProviderStrategy { private final MemberRepository memberRepository; @Override public ProviderType getProviderType() { return ProviderType.KAKAO; } @Override public Member findByProviderId(String providerId) { return memberRepository.findByKakaoProviderId(providerId).orElse(null); } @Override public void connect(Member member, String providerId, String email) { OAuthProvider oAuthProvider = member.getOAuthProviderOrCreate(); oAuthProvider.addKakaoProvider(providerId, email); } @Override public void disconnect(Member member) { OAuthProvider oAuthProvider = member.getOAuthProviderOrCreate(); oAuthProvider.removeKakaoProvider(); } } ğŸ‘‰ Service LayerğŸ”† OAuthService OAuthService Strategy íŒ¨í„´ì„ í™œìš©í•œ OAuth ì²˜ë¦¬ ì„œë¹„ìŠ¤ ProviderTypeì— ë”°ë¼ ì ì ˆí•œ Strategyë¥¼ ì„ íƒí•˜ì—¬ ì²˜ë¦¬í•œë‹¤. Code ë³´ê¸° package com.msa.member.domain.member.auth.service; import com.msa.member.domain.member.auth.entity.SocialAccount; import com.msa.member.domain.member.auth.strategy.*; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; import com.msa.member.global.exceptions.ErrorCode; import com.msa.member.global.exceptions.ServiceException; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Transactional; import java.util.List; import java.util.Map; import java.util.stream.Collectors; @Service @Transactional(readOnly = true) public class OAuthService { private final Map&lt;ProviderType, OAuthProviderStrategy&gt; strategies; public OAuthService(List&lt;OAuthProviderStrategy&gt; providerStrategies) { this.strategies = providerStrategies.stream() .collect(Collectors.toMap( OAuthProviderStrategy::getProviderType, strategy -&gt; strategy )); } public void connectProvider(Member member, ProviderType type, String providerId, String email) { OAuthProviderStrategy strategy = strategies.get(type); if (strategy == null) { throw new ServiceException(ErrorCode.INVALID_LOGIN_TYPE); } strategy.connect(member, providerId, email); } public void disconnectProvider(Member member, ProviderType type) { OAuthProviderStrategy strategy = strategies.get(type); if (strategy == null) { throw new ServiceException(ErrorCode.INVALID_LOGIN_TYPE); } strategy.disconnect(member); } public Member findByProviderId(ProviderType type, String providerId) { OAuthProviderStrategy strategy = strategies.get(type); if (strategy == null) { throw new ServiceException(ErrorCode.INVALID_LOGIN_TYPE); } return strategy.findByProviderId(providerId); } } s ğŸ”† AuthService AuthService OAuthServiceì˜ ìƒìœ„ ì„œë¹„ìŠ¤ë¡œ ì¸ì¦ ê´€ë ¨ ë¡œì§ì„ ì²˜ë¦¬í•œë‹¤. íšŒì›ê°€ì…, ì†Œì…œ ë¡œê·¸ì¸, Token ìƒì„± ë“± Code ë³´ê¸° package com.msa.member.domain.member.auth.service; import com.msa.member.domain.member.auth.dto.EmailInfo; import com.msa.member.domain.member.auth.dto.FindEmailsResponse; import com.msa.member.domain.member.auth.entity.SocialAccount; import com.msa.member.domain.member.member.entity.Member; import com.msa.member.domain.member.member.enums.ProviderType; import com.msa.member.domain.member.member.enums.MemberRole; import com.msa.member.domain.member.member.enums.MemberStatus; import com.msa.member.domain.member.member.repository.MemberRepository; import com.msa.member.global.exceptions.ErrorCode; import com.msa.member.global.exceptions.ServiceException; import com.msa.member.standard.util.Ut; import lombok.RequiredArgsConstructor; import org.springframework.security.crypto.password.PasswordEncoder; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Transactional; import java.util.List; import java.util.Map; import java.util.Optional; import java.util.UUID; @Transactional(readOnly = true) @Service @RequiredArgsConstructor public class AuthService { private final AuthTokenService authTokenService; private final OAuthService oAuthService; private final PasswordEncoder passwordEncoder; private final MemberRepository memberRepository; @Transactional public Member signup( String email, String password, String nickname, ProviderType loginType, String providerId, String providerEmail, String profileImageUrl ) { _validateEmailAndPassword(email, password, loginType); Optional&lt;Member&gt; existingMember = memberRepository.findByEmail(email); if (existingMember.isPresent()) { throw new ServiceException(ErrorCode.DUPLICATE_EMAIL); } Member member = Member.builder() .email(email) .password( loginType.equals(ProviderType.SELF) ? passwordEncoder.encode(password) : null ) .nickname(nickname) .loginType(loginType) .profileImageUrl(profileImageUrl) .apiKey(UUID.randomUUID().toString()) .role(MemberRole.ROLE_USER) .status(MemberStatus.ACTIVE) .build(); if (providerId != null) { oAuthService.connectProvider(member, loginType, providerId, providerEmail); } return memberRepository.save(member); } // @Transactional // public Member signup( // String email, String password, String nickname, // ProviderType loginType, String providerId, String providerEmail, String profileImageUrl // ) { // _validateEmailAndPassword(email, password, loginType); // // Optional&lt;Member&gt; existingMember = memberRepository.findByEmail(email); // if (existingMember.isPresent()) { // throw new ServiceException(ErrorCode.DUPLICATE_EMAIL); // } // // Member member = Member.builder() // .email(email) // .password( // loginType.equals(ProviderType.SELF) ? passwordEncoder.encode(password) : null // ) // .nickname(nickname) // .loginType(loginType) // .profileImageUrl(profileImageUrl) // .apiKey(UUID.randomUUID().toString()) // .role(MemberRole.ROLE_USER) // .status(MemberStatus.ACTIVE) // .build(); // // if (providerId != null) { // _connectProviderToMember(member, loginType, providerId, providerEmail); // } // // return memberRepository.save(member); // } public Optional&lt;Member&gt; findByEmail(String email) { return memberRepository.findByEmail(email); } public Optional&lt;Member&gt; findByApiKey(String apiKey) { return memberRepository.findByApiKey(apiKey); } public String genAccessToken(Member member) { return authTokenService.genAccessToken(member); } public String genAuthToken(Member member) { return member.getApiKey() + \" \" + genAccessToken(member); } public Member getMemberFromAccessToken(String accessToken) { Map&lt;String, Object&gt; payload = authTokenService.payload(accessToken); if (payload == null) { return null; } long id = (long) payload.get(\"id\"); String email = (String) payload.get(\"email\"); String nickname = (String) payload.get(\"nickname\"); String profileImageUrl = (String) payload.get(\"profileImageUrl\"); String role = (String) payload.get(\"role\"); return new Member(id, email, nickname, profileImageUrl, MemberRole.valueOf(role)); } public FindEmailsResponse findEmailsByPhoneNumber(String phoneNumber) { List&lt;Member&gt; members = memberRepository.findAllByPhoneNumber(phoneNumber); if (members.isEmpty()) { throw new ServiceException(ErrorCode.INVALID_PHONE_NUMBER); } List&lt;EmailInfo&gt; emailInfos = members.stream() .map(member -&gt; new EmailInfo( Ut.str.maskEmail(member.getEmail()), member.getCreateDate() )) .toList(); return new FindEmailsResponse(emailInfos); } @Transactional public Member handleSocialLogin( String email, String nickname, ProviderType loginType, String profilePath, String providerId ) { Member connectedMember = oAuthService.findByProviderId(loginType, providerId); if (connectedMember != null) { connectedMember.setLoginType(loginType); return connectedMember; // ì—°ê²°ëœ ê³„ì •ì´ ìˆë‹¤ë©´ ê·¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ } Optional&lt;Member&gt; existingMember = findByEmail(email); // ì´ë©”ì¼ì´ ì‚¬ìš©ì¤‘ì¸ì§€ í™•ì¸ if (existingMember.isPresent()) { Member member = existingMember.get(); oAuthService.connectProvider(member, loginType, providerId, email); // ê¸°ì¡´ ê³„ì •ì— ì†Œì…œ ê³„ì • ì—°ê²° return member; } return signup(email, null, nickname, loginType, providerId, email, profilePath); } // @Transactional // public Member handleSocialLogin( // String email, String nickname, // ProviderType loginType, String profilePath, String providerId // ) { // Member connectedMember = _findMemberByProviderId(loginType, providerId); // if (connectedMember != null) { // connectedMember.setLoginType(loginType); // return connectedMember; // ì—°ê²°ëœ ê³„ì •ì´ ìˆë‹¤ë©´ ê·¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ // } // // Optional&lt;Member&gt; existingMember = findByEmail(email); // ì´ë©”ì¼ì´ ì‚¬ìš©ì¤‘ì¸ì§€ í™•ì¸ // if (existingMember.isPresent()) { // Member member = existingMember.get(); // _connectProviderToMember(member, loginType, providerId, email); // ê¸°ì¡´ ê³„ì •ì— ì†Œì…œ ê³„ì • ì—°ê²° // return member; // } // // return signup(email, null, nickname, loginType, providerId, email, profilePath); // } // @Transactional // public void connectOAuthProvider2( // Member loginUser, ProviderType loginType, String providerId, String providerEmail // ) { // Member connectedMember = _findMemberByProviderId(loginType, providerId); // if (connectedMember != null) { // throw new ServiceException(ErrorCode.SOCIAL_ACCOUNT_ALREADY_IN_USE); // } // _connectProviderToMember(loginUser, loginType, providerId, providerEmail); // } @Transactional public void connectOAuthProvider( Member loginUser, ProviderType loginType, String providerId, String providerEmail ) { Member connectedMember = oAuthService.findByProviderId(loginType, providerId); if (connectedMember != null) { throw new ServiceException(ErrorCode.SOCIAL_ACCOUNT_ALREADY_IN_USE); } oAuthService.connectProvider(loginUser, loginType, providerId, providerEmail); } private void _validateEmailAndPassword(String email, String password, ProviderType loginType) { if (email == null || email.trim().isEmpty()) { throw new ServiceException(ErrorCode.EMAIL_REQUIRED); } if (ProviderType.SELF.equals(loginType) &amp;&amp; (password == null || password.trim().isEmpty())) { throw new ServiceException(ErrorCode.PASSWORD_REQUIRED); } } private void _connectProviderToMember( Member member, ProviderType loginType, String providerId, String providerEmail ) { SocialAccount socialAccount = member.getSocialAccountOrCreate(); switch (loginType) { case ProviderType.KAKAO -&gt; socialAccount.connectKakao(providerId, providerEmail); case ProviderType.GOOGLE -&gt; socialAccount.connectGoogle(providerId, providerEmail); case ProviderType.GITHUB -&gt; socialAccount.connectGithub(providerId, providerEmail); case ProviderType.NAVER -&gt; socialAccount.connectNaver(providerId, providerEmail); } } private Member _findMemberByProviderId(ProviderType loginType, String providerId) { return switch (loginType) { case ProviderType.KAKAO -&gt; memberRepository.findByKakaoProviderId(providerId).orElse(null); case ProviderType.GOOGLE -&gt; memberRepository.findByGoogleProviderId(providerId).orElse(null); case ProviderType.GITHUB -&gt; memberRepository.findByGithubProviderId(providerId).orElse(null); case ProviderType.NAVER -&gt; memberRepository.findByNaverProviderId(providerId).orElse(null); default -&gt; null; }; } } s ğŸ”† BaseOAuthProvider s ğŸ”† BaseOAuthProvider s ğŸ”† BaseOAuthProvider s package com.msa.member.domain.member.member.enums;import lombok.Getter;import lombok.RequiredArgsConstructor;@Getter@RequiredArgsConstructorpublic enum MemberStatus { ACTIVE(\"ì •ìƒ\"), INACTIVE(\"íœ´ë©´\"), BANNED(\"ì •ì§€\"), WITHDRAWN(\"íƒˆí‡´\"); private final String description; public boolean canLogin() { return this == ACTIVE; }}package com.msa.member.domain.member.member.enums;import lombok.Getter;import lombok.RequiredArgsConstructor;@Getter@RequiredArgsConstructorpublic enum ProviderType { SELF(\"ì¼ë°˜\"), KAKAO(\"ì¹´ì¹´ì˜¤\"), GOOGLE(\"êµ¬ê¸€\"), NAVER(\"ë„¤ì´ë²„\"), GITHUB(\"ê¹ƒí—ˆë¸Œ\"); private final String displayName;}" }, { "title": "Member ëª¨ë“ˆ ë¦¬í™í† ë§ - ê°œìš” ë° ì§„í–‰ìƒí™©", "url": "/posts/member-module-1/", "categories": "Member Module, Refactoring, ê°œìš”", "tags": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Security, Member, ì¸ì¦/ì¸ê°€, Refactoring", "date": "2025-02-17 14:00:00 +0900", "snippet": "ë¦¬í™í† ë§ ì§„í–‰ ë‹¨ê³„ Â  (í˜„ì¬ : 3ë‹¨ê³„)â­• ì´ˆê¸° íë¦„ë„â­• íë¦„ë„ (3ë‹¨ê³„) AuthService íšŒì›ê°€ì…/ë¡œê·¸ì¸/ì¸ì¦ ì´ê´„ OAuthServiceì— ì†Œì…œ ì—°ë™ ì²˜ë¦¬ ìœ„ì„ Member ì •ë³´ ê´€ë¦¬ OAuthService ì†Œì…œ ì—°ë™ ê´€ë¦¬ ì „ëµ íŒ¨í„´ìœ¼ë¡œ ê° ì†Œì…œ ë¡œê·¸ì¸ ì²˜ë¦¬ ...", "content": "ë¦¬í™í† ë§ ì§„í–‰ ë‹¨ê³„ Â  (í˜„ì¬ : 3ë‹¨ê³„)â­• ì´ˆê¸° íë¦„ë„â­• íë¦„ë„ (3ë‹¨ê³„) AuthService íšŒì›ê°€ì…/ë¡œê·¸ì¸/ì¸ì¦ ì´ê´„ OAuthServiceì— ì†Œì…œ ì—°ë™ ì²˜ë¦¬ ìœ„ì„ Member ì •ë³´ ê´€ë¦¬ OAuthService ì†Œì…œ ì—°ë™ ê´€ë¦¬ ì „ëµ íŒ¨í„´ìœ¼ë¡œ ê° ì†Œì…œ ë¡œê·¸ì¸ ì²˜ë¦¬ Memberì™€ OAuthProvider ì—°ê²° ê´€ë¦¬ Strategy Layer ê° ì†Œì…œ ë¡œê·¸ì¸ë³„ êµ¬ì²´ì ì¸ ì²˜ë¦¬ Member ì°¾ê¸°, ì—°ê²°, í•´ì œ ë“± êµ¬í˜„ ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰ Member íšŒì› ì •ë³´ OAuthProviderì™€ 1:1 ê´€ê³„ ì†Œì…œ ì—°ë™ ìƒíƒœ ê´€ë¦¬ OAuthProvider ì†Œì…œ ì—°ë™ ì •ë³´ ê° ì†Œì…œ ë¡œê·¸ì¸ ì œê³µìë³„ ìƒíƒœ ê´€ë¦¬ Memberì— ì¢…ì† s s" }, { "title": "Spring Security íƒêµ¬ - ë™ì‘ ì›ë¦¬", "url": "/posts/spring-security2/", "categories": "Spring Boot, Spring Security, ë™ì‘ ì›ë¦¬", "tags": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Security, Spring Boot, SpringConfig, ì¸ì¦/ì¸ê°€", "date": "2025-02-15 13:00:00 +0900", "snippet": "Spring Security íƒêµ¬ - ë™ì‘ ì›ë¦¬1. ì°¸ê³  ìë£Œ ê°œë°œì ìœ ë¯¸ Â  (Youtube) ìŠ¤í”„ë§ ì‹œíë¦¬í‹° êµ¬ì¡° Â  : Â  ìŠ¤í”„ë§ ê³µì‹ ë¬¸ì„œ Spring Security ì˜ì¡´ì„± ë‚´ë¶€ ì‹¤ì œ í´ë˜ìŠ¤ Chat GPT, Claude AI ë‚´ê°€ Spring Securityë¥¼ ì ìš©í•˜ê³  ì»¤ìŠ¤í…€í•œ í”„ë¡œì íŠ¸2. Security ì˜ì¡´ì„±ì´ ì—†ëŠ” ìƒíƒœ ...", "content": "Spring Security íƒêµ¬ - ë™ì‘ ì›ë¦¬1. ì°¸ê³  ìë£Œ ê°œë°œì ìœ ë¯¸ Â  (Youtube) ìŠ¤í”„ë§ ì‹œíë¦¬í‹° êµ¬ì¡° Â  : Â  ìŠ¤í”„ë§ ê³µì‹ ë¬¸ì„œ Spring Security ì˜ì¡´ì„± ë‚´ë¶€ ì‹¤ì œ í´ë˜ìŠ¤ Chat GPT, Claude AI ë‚´ê°€ Spring Securityë¥¼ ì ìš©í•˜ê³  ì»¤ìŠ¤í…€í•œ í”„ë¡œì íŠ¸2. Security ì˜ì¡´ì„±ì´ ì—†ëŠ” ìƒíƒœ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ Â  Â  â‡’ Â  Â  Controller í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì€ ì„œë²„ ì»´í“¨í„°ì˜ WAS(í†°ìº£)ì˜ í•„í„°ë“¤ì„ í†µê³¼í•œ ë’¤ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë„ë‹¬í•œë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ ì„œë²„ì— ë„ì°©í•˜ê²Œ ë˜ë©´ íŠ¹ì • URLì„ ë§¤í•‘í•˜ì—¬ í˜ì´ì§€ë‚˜ ë°ì´í„°ë¥¼ ì‘ë‹µí•´ì¤€ë‹¤. 3. Security ì˜ì¡´ì„±ì„ ì¶”ê°€í•œ ìƒíƒœ Spring Securityê°€ WASì˜ í•„í„°ë‹¨ìœ¼ë¡œë¶€í„° í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ê°€ë¡œì±ˆ í›„ FilterChainProxyì—ê²Œ ìš”ì²­ì„ ì „ë‹¬í•œë‹¤. WASì˜ í•„í„°ë‹¨ì— í•˜ë‚˜ì˜ í•„í„°ë¥¼ ë§Œë“¤ì–´ì„œ ë„£ì–´ì„œ í•´ë‹¹ í•„í„°ì—ì„œ ìš”ì²­ì„ ê°€ë¡œì±ˆë‹¤. ì´ë ‡ê²Œ ê°€ë¡œì±ˆ ìš”ì²­ì€ Spring Container ë‚´ë¶€ì— êµ¬í˜„ë˜ì–´ ìˆëŠ” Spring Security ê°ì‹œ ë¡œì§ì„ ê±°ì¹˜ê²Œ ëœë‹¤. Spring Security ê°ì‹œ ë¡œì§ì„ ë§ˆì¹œ í›„ ë‹¤ì‹œ WASì˜ ë‹¤ìŒ í•„í„°ë¡œ ë³µê·€í•œë‹¤ ìƒì„¸ ê³¼ì • Security ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ë©´ WASì˜ í•„í„° ì²´ì¸ì— DelegatingFilterProxyë¼ëŠ” í•„í„°ê°€ ì¶”ê°€ëœë‹¤. SecurityAutoConfiguration í´ë˜ìŠ¤ì— ì˜í•´ DelegatingFilterProxy ê°ì²´ê°€ ìƒì„±ë˜ê³  WASì˜ í•„í„° ì²´ì¸ì— ë“±ë¡ëœë‹¤. DelegatingFilterProxy ê°ì²´ê°€ ìƒì„±ë  ë•Œ FilterChainProxyì˜ Bean ì´ë¦„ì„ ì „ë‹¬í•´ Beanì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ í•œë‹¤. DelegatingFilterProxy í•„í„°ê°€ ìš”ì²­ì„ ê°€ë¡œì±„ì„œ Spring Container ë‚´ë¶€ì— êµ¬í˜„ëœ Spring Security í•„í„° ì²´ì¸ì„ ê±°ì¹˜ê²Œ í•œë‹¤. ì´ëŸ¬í•œ Spring Security í•„í„° ì²´ì¸ì„ ë‹¤ ë§ˆì¹˜ë©´ ë‹¤ì‹œ WASì˜ í•„í„° ì²´ì¸ìœ¼ë¡œ ëŒì•„ê°„ ë’¤ Spring Containerë¡œ ë“¤ì–´ê°„ë‹¤. 4. Springì˜ SecurityFilterChain Spring Securityì˜ ë¡œì§ì€ ì—¬ëŸ¬ ê°œì˜ í•„í„°ë“¤ì´ ë‚˜ì—´ëœ í•„í„° ì²´ì¸ í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤. ê°ê°ì˜ í•„í„°ì—ì„œ CSRF, ë¡œê·¸ì•„ì›ƒ, ë¡œê·¸ì¸, ì¸ê°€ ë“± ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰ SecurityFilterChain ì¼ë ¨ì˜ ê³¼ì •ë“¤ì„ ìˆ˜í–‰í•˜ëŠ” í•„í„°ë“¤ì˜ ë¬¶ìŒ ì—¬ëŸ¬ ê°œì˜ SecurityFilterChain SecurityFilterChainì€ í•˜ë‚˜ë§Œ ë‘˜ ìˆ˜ë„ ìˆì§€ë§Œ ì—¬ëŸ¬ ê°œë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. httpSecurity.securityMatcher(url) @Bean SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception { http .securityMatcher(\"/api/**\", \"/oauth2/**\", \"/login/oauth2/**\", \"/login/**\") .authorizeHttpRequests( í•´ë‹¹ SecurityFilterChainì€ ì´ ê²½ë¡œì— ìœ íš¨í•˜ë‹¤ê³  ì •í•˜ëŠ” ê²ƒ ë‹¤ë§Œ ì´ë ‡ê²Œ ê²½ë¡œë¥¼ ë‚˜ëˆ„ì–´ ì§€ì •í•˜ê±°ë‚˜ ìˆœì„œë¥¼ ì§€ì •í•´ì¤˜ì•¼ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ğŸ”† ìš©ì–´ ì •ë¦¬ DelegatingFilterProxy FilterChainProxy Spring Beanì„ ì°¾ì•„ ìš”ì²­ì„ ë„˜ê²¨ì£¼ëŠ” ì„œë¸”ë¦¿ í•„í„° FilterChainProxy Spring Security ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ë©´ DelegatingFilterProxyì— ì˜í•´ í˜¸ì¶œë˜ëŠ” í´ë˜ìŠ¤ SecurityFilterChainë“¤ì„ ë“¤ê³  ìˆëŠ” Beanì´ë‹¤. DelegatingFilterProxyê°€ ìš”ì²­ì„ ê°€ë¡œì±„ì„œ ì „ë‹¬í•  ëª©ì ì§€ SecurityFilterChain ìŠ¤í”„ë§ ì‹œíë¦¬í‹° í•„í„°ë“¤ì˜ ë¬¶ìŒìœ¼ë¡œ ì‹¤ì œ ì‹œíë¦¬í‹° ë¡œì§ì´ ì²˜ë¦¬ë˜ëŠ” ë¶€ë¶„ FilterChainProxyê°€ SecurityFilterChainì„ ë“¤ê³  ìˆë‹¤. " }, { "title": "Spring Security íƒêµ¬ - ê°œìš”", "url": "/posts/spring-security/", "categories": "Spring Boot, Spring Security, ë™ì‘ ì›ë¦¬", "tags": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Security, Spring Boot, SpringConfig, ì¸ì¦/ì¸ê°€", "date": "2025-02-14 13:00:00 +0900", "snippet": "Spring Security íƒêµ¬ - ê°œìš”1. ì°¸ê³  ìë£Œ ê°œë°œì ìœ ë¯¸ Â  (Youtube) Chat GPT, Claude AI ìŠ¤í”„ë§ ì‹œíë¦¬í‹° êµ¬ì¡° : ìŠ¤í”„ë§ ê³µì‹ ë¬¸ì„œ Spring Security ì˜ì¡´ì„± ë‚´ë¶€ ì‹¤ì œ í´ë˜ìŠ¤ Spring Securityë¥¼ ë‚´ê°€ ì ìš©í•˜ê³  ì»¤ìŠ¤í…€í•œ í”„ë¡œì íŠ¸2. íƒêµ¬ ë²„ì „ Java 23 Spring Boot ...", "content": "Spring Security íƒêµ¬ - ê°œìš”1. ì°¸ê³  ìë£Œ ê°œë°œì ìœ ë¯¸ Â  (Youtube) Chat GPT, Claude AI ìŠ¤í”„ë§ ì‹œíë¦¬í‹° êµ¬ì¡° : ìŠ¤í”„ë§ ê³µì‹ ë¬¸ì„œ Spring Security ì˜ì¡´ì„± ë‚´ë¶€ ì‹¤ì œ í´ë˜ìŠ¤ Spring Securityë¥¼ ë‚´ê°€ ì ìš©í•˜ê³  ì»¤ìŠ¤í…€í•œ í”„ë¡œì íŠ¸2. íƒêµ¬ ë²„ì „ Java 23 Spring Boot 3.4.13. íƒêµ¬ ëª©í‘œ Spring Security Frameworkì˜ êµ¬ì¡°ì™€ ë‚´ë¶€ ë™ì‘ ì›ë¦¬ íŒŒì•…í•˜ê¸° ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì»¤ìŠ¤í…€í•œ í´ë˜ìŠ¤ê°€ ì–´ë–»ê²Œ ì ìš©ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì ìš©í•œ ê²ƒì„ íšŒê³ í•´ë³´ê³  ë³´ì™„í•  ì  íƒêµ¬í•˜ê¸°" }, { "title": "JWT ì¸ì¦ / ì¸ê°€", "url": "/posts/jwt/", "categories": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Boot, Spring Security", "tags": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼, Spring Security, JWT, SpringConfig, ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ", "date": "2025-01-26 11:00:00 +0900", "snippet": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼ ìˆ˜ì—… ë§í¬ ë£¨í”„ì½”ë”© ì—°êµ¬ì†Œ ì¬ìƒëª©ë¡1. article ë©”ì¸ ëª¨ë“ˆ êµ¬í˜„ğŸ”† article ë©”ì¸ ëª¨ë“ˆì˜ article ì„œë¸Œ ëª¨ë“ˆ êµ¬í˜„ ApiV1ArticleController REST API Methodì— ë”°ë¼ ìƒì„± ì½”ë“œ ë³´ê¸° package com.ll.chatAp...", "content": "ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼ ìˆ˜ì—… ë§í¬ ë£¨í”„ì½”ë”© ì—°êµ¬ì†Œ ì¬ìƒëª©ë¡1. article ë©”ì¸ ëª¨ë“ˆ êµ¬í˜„ğŸ”† article ë©”ì¸ ëª¨ë“ˆì˜ article ì„œë¸Œ ëª¨ë“ˆ êµ¬í˜„ ApiV1ArticleController REST API Methodì— ë”°ë¼ ìƒì„± ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.article.article.controller; import ... @RestController @RequestMapping(\"/api/v1/articles\") @RequiredArgsConstructor public class ApiV1ArticleController { private final ArticleService articleService; @GetMapping public List&lt;ArticleDto&gt; getArticles() { List&lt;Article&gt; articles = articleService.findAll(); List&lt;ArticleDto&gt; articleDtoList = articles.stream().map(ArticleDto::new).toList(); return articleDtoList; } @GetMapping({\"/{id}\"}) private ArticleDto getArticle(@PathVariable(\"id\") Long id) { Article article = articleService.findById(id).orElse(null); return new ArticleDto(article); } @PostMapping public RsData&lt;ArticleDto&gt; writeArticle( @Valid @RequestBody ArticleWriteRequest articleWriteRequest) { Article article = articleService.write(articleWriteRequest.getTitle(), articleWriteRequest.getContent()); return new RsData&lt;&gt;(\"200\", \"ê²Œì‹œê¸€ì´ ì‘ì„±ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", new ArticleDto(article)); } @PatchMapping({\"/{id}\"}) public RsData&lt;ArticleDto&gt; updateArticle(@PathVariable(\"id\") Long id, @Valid @RequestBody ArticleModifyRequest articleModifyRequest) { Article article = this.articleService.findById(id).orElse(null); Article modifiedArticle = this.articleService.modify(article, articleModifyRequest.getTitle(), articleModifyRequest.getContent()); return new RsData&lt;&gt;(\"200\", \"ê²Œì‹œê¸€ì´ ìˆ˜ì •ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", new ArticleDto(modifiedArticle)); } @DeleteMapping({\"/{id}\"}) public RsData&lt;Void&gt; deleteArticle(@PathVariable(\"id\") Long id) { this.articleService.delete(id); return new RsData&lt;&gt;(\"200\", \"ê²Œì‹œê¸€ì´ ì‚­ì œì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } } REST API ë©”ì„œë“œ CREATE POST Â  - Â  ìƒì„± READ GET Â  - Â  ë‹¨ê±´, ë‹¤ê±´ ì¡°íšŒ UPDATE PUT/FATCH Â  - Â  ì—…ë°ì´íŠ¸ DELETE DELETET Â  - Â  ì‚­ì œ ApiV1ArticleService ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.article.article.service; import ... @Transactional(readOnly = true) @RequiredArgsConstructor @Service public class ArticleService { private final ArticleRepository articleRepository; @Transactional public Article write(String title, String content) { Article article = Article.builder() .author(Member.builder().id(1L).build()) .title(title) .content(content) .build(); return articleRepository.save(article); } public Optional&lt;Article&gt; findById(Long id) { return articleRepository.findById(id); } @Transactional public Article modify(Article article, String title, String content) { article.setTitle(title); article.setContent(content); return article; } @Transactional public void modifyComment(ArticleComment comment, String commentBody) { comment.setBody(commentBody); } public List&lt;Article&gt; findAll() { return articleRepository.findAll(); } @Transactional public void delete(Long id) { this.articleRepository.deleteById(id); } } ArticleRepository ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.article.article.repository; import com.ll.chatApp.domain.article.article.entity.Article; import org.springframework.data.jpa.repository.JpaRepository; public interface ArticleRepository extends JpaRepository&lt;Article, Long&gt; { } Article ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.article.article.entity; import ... @Entity @Setter @Getter @AllArgsConstructor @NoArgsConstructor @SuperBuilder @ToString(callSuper = true) public class Article extends BaseEntity { private String title; private String content; @JsonIgnore @ManyToOne(fetch = FetchType.LAZY) private Member author; @JsonIgnore @OneToMany(mappedBy = \"article\", cascade = ALL, orphanRemoval = true) // fetch = FetchType.LAZY @Builder.Default @ToString.Exclude private List&lt;ArticleComment&gt; comments = new ArrayList&lt;&gt;(); public void addComment(Member memberAuthor, String commentBody) { ArticleComment comment = ArticleComment.builder() .article(this) .author(memberAuthor) .body(commentBody) .build(); comments.add(comment); } public void removeComment(ArticleComment articleComment) { comments.remove(articleComment); } @JsonIgnore @OneToMany(mappedBy = \"article\", cascade = ALL, orphanRemoval = true) @Builder.Default @ToString.Exclude private List&lt;ArticleTag&gt; tags = new ArrayList&lt;&gt;(); public void addTag(String tagContent) { ArticleTag tag = ArticleTag.builder() .article(this) .content(tagContent) .build(); tags.add(tag); } public void addTags(String... tagContents) { for (String tagContent : tagContents) { addTag(tagContent); } } public String getTagsStr() { String tagsStr = tags .stream() .map(ArticleTag::getContent) .collect(Collectors.joining(\" #\")); if (tagsStr.isBlank()) { return \"\"; } return \"#\" + tagsStr; } } ğŸ”† @Valid ì• á„‚á…©á„á…¦á„‹á…µá„‰á…§á†« á„á…®á„€á…¡ Validation ì˜ì¡´ì„± ì¶”ê°€ ë°ì´í„° ê²€ì¦í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ build.gradle implementation 'org.springframework.boot:spring-boot-starter-validation' í•„ìš”í•œ ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ì§€ ì•Šìœ¼ë©´ ì‚¬ì „ì— ì²˜ë¦¬í•œë‹¤. @NotBlank @Valid @NotBlankë¥¼ ê°œë³„ DTO í•„ë“œ(í•„ìˆ˜ í•­ëª©)ì— ì¶”ê°€í•˜ê³  í•´ë‹¹ DTOë¥¼ Controller í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì—ì„œ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ë•Œ @Validë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ğŸ”† ArticleService á„‰á…¡á†¨á„Œá…¦ @Transactional ì• ë…¸á„á…¦á„‹á…µá„‰á…§á†« á„á…®á„€á…¡ @Transactional(readOnly = true) í´ë˜ìŠ¤ì— readOnlyë¥¼ ì‚¬ìš©í•˜ê³  ìƒì„±, ìˆ˜ì •, ì‚­ì œ ë©”ì„œë“œì— @Transactional ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ ì¡°íšŒë§Œ í•  ìˆ˜ ìˆë‹¤. ì¦‰, ìƒì„±, ìˆ˜ì •, ì‚­ì œì˜ ê²½ìš° @Transactional ì„¤ì • í•„ìš” Â  (ë°ì´í„° ë³€ê²½ì´ ê°€ëŠ¥í•´ì§„ë‹¤) ArticleService @Transactional(readOnly = true) @RequiredArgsConstructor @Service public class ArticleService { private final ArticleRepository articleRepository; \t@Transactional public Article write(String title, String content) { Article article = Article.builder() .author(Member.builder().id(1L).build()) .title(title) .content(content) .build(); return articleRepository.save(article); } ... ì´ë ‡ê²Œ ìƒì„± ë©”ì„œë“œëŠ” @Transactional ì• ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤. 2. íšŒì›ê°€ì… êµ¬í˜„ğŸ”† ì „ì²´ ìµœì¢… ì½”ë“œ ApiV1MemberController ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.controller; import com.ll.chatApp.domain.member.member.dto.MemberDto; import com.ll.chatApp.domain.member.member.dto.MemberRequest; import com.ll.chatApp.domain.member.member.entity.Member; import com.ll.chatApp.domain.member.member.service.MemberService; import com.ll.chatApp.global.jwt.JwtProvider; import com.ll.chatApp.global.rsData.RsData; import jakarta.servlet.http.Cookie; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse; import jakarta.validation.Valid; import lombok.RequiredArgsConstructor; import org.springframework.web.bind.annotation.*; import java.util.Map; @RestController @RequestMapping(\"/api/v1/members\") @RequiredArgsConstructor public class ApiV1MemberController { private final MemberService memberService; private final JwtProvider jwtProvider; @PostMapping(\"/signup\") public RsData&lt;MemberDto&gt; signup(@Valid @RequestBody MemberRequest memberRequest) { Member member = memberService.join(memberRequest.getUsername(), memberRequest.getPassword()); return new RsData&lt;&gt;(\"200\", \"íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", new MemberDto(member)); } @PostMapping(\"/login\") public RsData&lt;Void&gt; login(@Valid @RequestBody MemberRequest memberRequest, HttpServletResponse response) { Member member = memberService.getMember(memberRequest.getUsername()); // í† í° ìƒì„± String token = jwtProvider.genAccessToken(member); // ì‘ë‹µ ë°ì´í„°ì— accessToken ì´ë¦„ìœ¼ë¡œ í† í°ì„ ë°œê¸‰ Cookie cookie = new Cookie(\"accessToken\", token); cookie.setHttpOnly(true); cookie.setSecure(true); cookie.setPath(\"/\"); cookie.setMaxAge(60 * 60); response.addCookie(cookie); String refreshToken = member.getRefreshToken(); Cookie refreshTokenCookie = new Cookie(\"refreshToken\", refreshToken); refreshTokenCookie.setHttpOnly(true); refreshTokenCookie.setSecure(true); refreshTokenCookie.setPath(\"/\"); refreshTokenCookie.setMaxAge(60 * 60); response.addCookie(refreshTokenCookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } @GetMapping(\"/logout\") public RsData&lt;Void&gt; logout(HttpServletResponse response) { Cookie cookie = new Cookie(\"accessToken\", null); cookie.setPath(\"/\"); cookie.setMaxAge(0); response.addCookie(cookie); Cookie refreshTokenCookie = new Cookie(\"refreshToken\", null); refreshTokenCookie.setPath(\"/\"); refreshTokenCookie.setMaxAge(0); response.addCookie(refreshTokenCookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì•„ì›ƒì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } @GetMapping(\"/me\") public RsData&lt;MemberDto&gt; me(HttpServletRequest request) { Cookie[] cookies = request.getCookies(); String accessToken = \"\"; for (Cookie cookie : cookies) { if (cookie.getName().equals(\"accessToken\")) { accessToken = cookie.getValue(); } } Map&lt;String, Object&gt; claims = jwtProvider.getClaims(accessToken); String username = (String) claims.get(\"username\"); Member member = this.memberService.getMember(username); return new RsData(\"200\", \"íšŒì›ì •ë³´ ì¡°íšŒ ì„±ê³µ\", new MemberDto(member)); } } MemberService ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.service; import com.ll.chatApp.domain.member.member.entity.Member; import com.ll.chatApp.domain.member.member.repository.MemberRepository; import com.ll.chatApp.global.jwt.JwtProvider; import com.ll.chatApp.global.rsData.RsData; import com.ll.chatApp.global.security.SecurityUser; import lombok.RequiredArgsConstructor; import org.springframework.security.core.GrantedAuthority; import org.springframework.security.crypto.password.PasswordEncoder; import org.springframework.stereotype.Service; import java.util.ArrayList; import java.util.List; import java.util.Map; import java.util.Optional; @Service @RequiredArgsConstructor public class MemberService { private final MemberRepository memberRepository; private final PasswordEncoder passwordEncoder; private final JwtProvider jwtProvider; public Member join(String username, String password) { Member CheckedSignUpMember = memberRepository.findByUsername(username); if (CheckedSignUpMember != null) { throw new IllegalArgumentException(\"ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } Member member = Member.builder().username(username).password(passwordEncoder.encode(password)).build(); String refreshToken = jwtProvider.genRefreshToken(member); member.setRefreshToken(refreshToken); return memberRepository.save(member); } public Optional&lt;Member&gt; findById(Long id) { return memberRepository.findById(id); } public Member getMember(String username) { return memberRepository.findByUsername(username); } // í† í° ìœ íš¨ì„± ê²€ì¦ public boolean validateToken(String token) { return jwtProvider.verify(token); } // í† í°ê°±ì‹  public RsData&lt;String&gt; refreshAccessToken(String refreshToken) { Member member = memberRepository.findByRefreshToken(refreshToken) .orElseThrow(() -&gt; new IllegalArgumentException(\"ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤.\")); String accessToken = jwtProvider.genAccessToken(member); return new RsData&lt;&gt;(\"200\", \"í† í° ê°±ì‹ ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", accessToken); } // í† í°ìœ¼ë¡œ User ì •ë³´ ê°€ì ¸ì˜¤ê¸° public SecurityUser getUserFromAccessToken(String accessToken) { Map&lt;String, Object&gt; payloadBody = jwtProvider.getClaims(accessToken); long id = (int) payloadBody.get(\"id\"); String username = (String) payloadBody.get(\"username\"); List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); return new SecurityUser(id, username, \"\", authorities); } } Member ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.entity; import com.fasterxml.jackson.annotation.JsonIgnore; import com.ll.chatApp.global.jpa.BaseEntity; import jakarta.persistence.Column; import jakarta.persistence.Entity; import lombok.AllArgsConstructor; import lombok.Getter; import lombok.NoArgsConstructor; import lombok.Setter; import lombok.experimental.SuperBuilder; @Entity @Setter @Getter @AllArgsConstructor @NoArgsConstructor @SuperBuilder public class Member extends BaseEntity { @Column(unique = true) private String username; @JsonIgnore private String password; @JsonIgnore private String refreshToken; } MemberRepository ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.repository; import com.ll.chatApp.domain.member.member.entity.Member; import org.springframework.data.jpa.repository.JpaRepository; import org.springframework.stereotype.Repository; import java.util.Optional; @Repository public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { Member findByUsername(String username); Optional&lt;Member&gt; findByRefreshToken(String refreshToken); } MemberDto ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.dto; import com.ll.chatApp.domain.member.member.entity.Member; import lombok.Getter; @Getter public class MemberDto { private String username; public MemberDto(Member member) { this.username = member.getUsername(); } } MemberRequest ì½”ë“œ ë³´ê¸° package com.ll.chatApp.domain.member.member.dto; import jakarta.validation.constraints.NotBlank; import lombok.Data; @Data public class MemberRequest { @NotBlank private String username; @NotBlank private String password; } JwtProvider ì½”ë“œ ë³´ê¸° package com.ll.chatApp.global.jwt; import com.ll.chatApp.domain.member.member.entity.Member; import com.ll.chatApp.global.util.Ut; import io.jsonwebtoken.Jwts; import io.jsonwebtoken.SignatureAlgorithm; import io.jsonwebtoken.security.Keys; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Component; import javax.crypto.SecretKey; import java.util.Base64; import java.util.Date; import java.util.HashMap; import java.util.Map; @Component public class JwtProvider { @Value(\"${custom.jwt.secretKey}\") private String secretKeyOrigin; @Value(\"${custom.accessToken.expirationSeconds}\") private int accessTokenExpirationSeconds; private SecretKey cachedSecretKey; public SecretKey getSecretKey() { if (cachedSecretKey == null) { cachedSecretKey = _getSecretKey(); } return cachedSecretKey; } private SecretKey _getSecretKey() { String keyBase64Encoded = Base64.getEncoder().encodeToString(secretKeyOrigin.getBytes()); return Keys.hmacShaKeyFor(keyBase64Encoded.getBytes()); } public String genAccessToken(Member member) { return genToken(member, accessTokenExpirationSeconds); } public String genRefreshToken(Member member) { return genToken(member, 60 * 60 * 24 * 365 * 1); } public String genToken(Member member, int seconds) { Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;(); claims.put(\"id\", member.getId()); claims.put(\"username\", member.getUsername()); long now = new Date().getTime(); Date accessTokenExpiresIn = new Date(now + 1000L * seconds); return Jwts.builder().claim(\"body\", Ut.json.toStr(claims)).setExpiration(accessTokenExpiresIn) .signWith(getSecretKey(), SignatureAlgorithm.HS512).compact(); } // í´ë ˆì„ ì •ë³´ ë°›ì•„ì˜¤ê¸° public Map getClaims(String token) { String body = Jwts.parserBuilder().setSigningKey(getSecretKey()).build().parseClaimsJws(token).getBody() .get(\"body\", String.class); return Ut.toMap(body); } // ìœ íš¨ì„± ê²€ì¦ public boolean verify(String token) { try { Jwts.parserBuilder().setSigningKey(getSecretKey()).build().parseClaimsJws(token); return true; } catch (Exception e) { return false; } } } SecurityConfig ì½”ë“œ ë³´ê¸° package com.ll.chatApp.global.security; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder; import org.springframework.security.crypto.password.PasswordEncoder; import org.springframework.security.web.SecurityFilterChain; import org.springframework.security.web.util.matcher.AntPathRequestMatcher; @Configuration @EnableWebSecurity public class SecurityConfig { @Bean SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http.csrf(csrf -&gt; csrf.disable()).authorizeHttpRequests( (authorizeHttpRequests) -&gt; authorizeHttpRequests.requestMatchers( new AntPathRequestMatcher(\"/**\")).permitAll()); return http.build(); } @Bean PasswordEncoder passwordEncoder() { return new BCryptPasswordEncoder(); } } ApiSecurityConfig ì½”ë“œ ë³´ê¸° package com.ll.chatApp.global.security; import lombok.RequiredArgsConstructor; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.http.HttpMethod; import org.springframework.security.config.annotation.web.builders.HttpSecurity; import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity; import org.springframework.security.config.http.SessionCreationPolicy; import org.springframework.security.web.SecurityFilterChain; import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter; @Configuration @EnableWebSecurity @RequiredArgsConstructor public class ApiSecurityConfig { private final JwtAuthorizationFilter jwtAuthorizationFilter; @Bean SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception { http.securityMatcher(\"/api/**\").authorizeHttpRequests( authorizeRequests -&gt; authorizeRequests.requestMatchers(HttpMethod.GET, \"/api/*/articles\") .permitAll().requestMatchers(HttpMethod.GET, \"/api/*/articles/*\").permitAll() .requestMatchers(HttpMethod.POST, \"/api/*/members/login\") .permitAll() // ë¡œê·¸ì¸ì€ ëˆ„êµ¬ë‚˜ ê°€ëŠ¥, post ìš”ì²­ë§Œ í—ˆìš© .requestMatchers(HttpMethod.GET, \"/api/*/members/logout\") .permitAll() // ë¡œê·¸ì¸ì€ ëˆ„êµ¬ë‚˜ ê°€ëŠ¥, post ìš”ì²­ë§Œ í—ˆìš© .anyRequest().authenticated()).csrf(csrf -&gt; csrf.disable()) // csrf í† í° ë„ê¸° .httpBasic(httpBasic -&gt; httpBasic.disable()) // httpBasic ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .formLogin(formLogin -&gt; formLogin.disable()) // í¼ ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy( SessionCreationPolicy.STATELESS)) .addFilterBefore(jwtAuthorizationFilter, //ì—‘ì„¸ìŠ¤ í† í°ì„ ì´ìš©í•œ ë¡œê·¸ì¸ ì²˜ë¦¬ UsernamePasswordAuthenticationFilter.class); return http.build(); } } JwtAuthorizationFilter ì½”ë“œ ë³´ê¸° package com.ll.chatApp.global.security; import com.ll.chatApp.domain.member.member.service.MemberService; import com.ll.chatApp.global.rsData.RsData; import jakarta.servlet.FilterChain; import jakarta.servlet.http.Cookie; import jakarta.servlet.http.HttpServletRequest; import jakarta.servlet.http.HttpServletResponse; import lombok.RequiredArgsConstructor; import lombok.SneakyThrows; import org.springframework.http.ResponseCookie; import org.springframework.security.core.context.SecurityContextHolder; import org.springframework.stereotype.Component; import org.springframework.web.filter.OncePerRequestFilter; import java.util.Arrays; @Component @RequiredArgsConstructor public class JwtAuthorizationFilter extends OncePerRequestFilter { private final HttpServletRequest req; private final HttpServletResponse resp; private final MemberService memberService; @Override @SneakyThrows protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) { if (request.getRequestURI().equals(\"/api/v1/members/login\") || request.getRequestURI() .equals(\"/api/v1/members/logout\")) { filterChain.doFilter(request, response); return; } String accessToken = _getCookie(\"accessToken\"); // accessToken ê²€ì¦ or refreshToken ë°œê¸‰ if (!accessToken.isBlank()) { // í† í° ìœ íš¨ê¸°ê°„ ê²€ì¦ if (!memberService.validateToken(accessToken)) { String refreshToken = _getCookie(\"refreshToken\"); RsData&lt;String&gt; rs = memberService.refreshAccessToken(refreshToken); _addHeaderCookie(\"accessToken\", rs.getData()); } // securityUser ê°€ì ¸ì˜¤ê¸° SecurityUser securityUser = memberService.getUserFromAccessToken(accessToken); // ì¸ê°€ ì²˜ë¦¬ SecurityContextHolder.getContext().setAuthentication(securityUser.genAuthentication()); } filterChain.doFilter(request, response); } private String _getCookie(String name) { Cookie[] cookies = req.getCookies(); return Arrays.stream(cookies).filter(cookie -&gt; cookie.getName().equals(name)).findFirst() .map(Cookie::getValue).orElse(\"\"); } private void _addHeaderCookie(String tokenName, String token) { ResponseCookie cookie = ResponseCookie.from(tokenName, token).path(\"/\").sameSite(\"None\").secure(true).httpOnly(true) .build(); resp.addHeader(\"Set-Cookie\", cookie.toString()); } } SecurityUser ì½”ë“œ ë³´ê¸° package com.ll.chatApp.global.security; import lombok.Getter; import org.springframework.security.authentication.UsernamePasswordAuthenticationToken; import org.springframework.security.core.Authentication; import org.springframework.security.core.GrantedAuthority; import org.springframework.security.core.userdetails.User; import java.util.Collection; public class SecurityUser extends User { @Getter private long id; public SecurityUser(long id, String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) { super(username, password, authorities); this.id = id; } public Authentication genAuthentication() { Authentication auth = new UsernamePasswordAuthenticationToken(this, this.getPassword(), this.getAuthorities()); return auth; } } ğŸ”† á„‰á…³á„‘á…³á„…á…µá†¼ á„‰á…µá„á…²á„…á…µá„á…µ á„ƒá…©á„‹á…µá†¸, á„á…©á„€á…µ á„€á…¯á†«á„’á…¡á†«á„‰á…¥á†¯á„Œá…¥á†¼ Spring Security ì˜ì¡´ì„± ì¶”ê°€ build.gradle implementation 'org.springframework.boot:spring-boot-starter-security' ì„¤ì •í•˜ë©´ ìë™ìœ¼ë¡œ ê¸°ë³¸ ë¡œê·¸ì¸ í™”ë©´ì´ ì¶”ê°€ëœë‹¤. ê¸°ì¡´ì˜ ë¡œê·¸ì¸ì„ ìš”ì²­í•œë‹¤ë©´ 401 Unauthorized ì—ëŸ¬ ë°œìƒ Â  â‡’ Â  ì •ìƒ Security ì„¤ì •ì„ ìœ„í•œ í´ë˜ìŠ¤ ìƒì„± SecurityConfig @Configuration @EnableWebSecurity public class SecurityConfig { @Bean SecurityFilterChain filterChain(HttpSecurity http) throws Exception { http .csrf(csrf -&gt; csrf.disable()) .authorizeHttpRequests((authorizeHttpRequests) -&gt; authorizeHttpRequests .requestMatchers(new AntPathRequestMatcher(\"/**\")).permitAll()) ; return http.build(); } @Bean PasswordEncoder passwordEncoder() { return new BCryptPasswordEncoder(); } } .csrf(csrf -&gt; csrf.disable()) csrf í† í° ì¸ì¦ ë„ê¸° csrf(AbstractHttpConfigurer::disable)ëŠ” ê²°ê³¼ëŠ” ê°™ì§€ë§Œ ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨íˆ í‘œí˜„í•œ ê²ƒ .authorizeHttpRequests((authorizeHttpRequests) -&gt; authorizeHttpRequests.requestMatchers(new AntPathRequestMatcher(\"/**\")).permitAll()) .authorizeHttpRequests(*auth* -&gt; *auth*.anyRequest().permitAll()) ë‘ ì½”ë“œëŠ” ë™ì¼í•˜ë‹¤. (\"/**\") ëª¨ë“  End Pointë¥¼ ëœ»í•œë‹¤. permitAll() ëª¨ë‘ í—ˆìš© passwordEncoder()ëŠ” ë¹„ë°€ë²ˆí˜¸ ì¸ì½”ë”©í•˜ë ¤ê³  ë“±ë¡í•œ íŒ©í† ë¦¬ ë©”ì„œë“œì´ë‹¤. @EnableWebSecurity Spring Securityì˜ ê¸°ë³¸ ì„¤ì •ì„ ë¹„í™œì„±í™”í•˜ê³ , ê°œë°œìê°€ ì œê³µí•œ ì»¤ìŠ¤í…€ ì„¤ì •(SecurityFilterChain ë“±)ì„ ì ìš©í•˜ë„ë¡ Spring Security í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ê²ƒ ì—†ì–´ë„ Spring Boot 2.7 ì´ìƒê³¼ Spring Security 5.7 ì´ìƒ ë²„ì „ì—ì„œëŠ” SecurityFilterChainë¥¼ ì •ì˜í•˜ê³  Beanìœ¼ë¡œ ë“±ë¡í•˜ë©´ ìë™ ì¸ì‹í•œë‹¤. ğŸ”† á„’á…¬á„‹á…¯á†«á„€á…¡á„‹á…µá†¸ á„€á…®á„’á…§á†« ApiV1MemberController @RestController @RequestMapping(\"/api/v1/members\") @RequiredArgsConstructor public class ApiV1MemberController { private final MemberService memberService; private final JwtProvider jwtProvider; @PostMapping(\"/signup\") public RsData&lt;MemberDto&gt; signup(@Valid @RequestBody MemberRequest memberRequest) { Member member = memberService.join(memberRequest.getUsername(), memberRequest.getPassword()); return new RsData&lt;&gt;(\"200\", \"íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", new MemberDto(member)); } íšŒì› ê°€ì…ìš© Request DTOë¥¼ ì‚¬ìš©í•˜ê³  @Validë¡œ ê²€ì¦í•œë‹¤. MemberService @Service @RequiredArgsConstructor public class MemberService { private final MemberRepository memberRepository; private final PasswordEncoder passwordEncoder; private final JwtProvider jwtProvider; public Member join(String username, String password) { Member CheckedSignUpMember = memberRepository.findByUsername(username); if (CheckedSignUpMember != null) { throw new IllegalArgumentException(\"ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } Member member = Member.builder().username(username).password(passwordEncoder.encode(password)).build(); return memberRepository.save(member); } ê¸°ì¡´ DBì—ì„œ íšŒì› ê°€ì… ì „ ì¡´ì¬ ì—¬ë¶€ë¥¼ íŒŒì•…í•œë‹¤. MemberRequest ìƒì„± package com.ll.chatApp.domain.member.member.dto; import jakarta.validation.constraints.NotBlank; import lombok.Data; @Data public class MemberRequest { @NotBlank private String username; @NotBlank private String password; } DTO í´ë˜ìŠ¤ ğŸ”† RsData í´ë˜ìŠ¤ ìˆ˜ì • RsData @JsonInclude(JsonInclude.Include.NON_NULL) @AllArgsConstructor @Getter public class RsData&lt;T&gt; { private String resultCode; private String msg; private T data; public RsData(String resultCode, String msg) { this(resultCode, msg, null); } @JsonIgnore public int getStatusCode() { return Integer.parseInt(resultCode.split(\"-\")[0]); } } ğŸ”† JWT í† í° ë°œê¸‰ì„ ìœ„í•œ ì‘ì—… JWT ê´€ë ¨ ì˜ì¡´ì„± ì¶”ê°€í•˜ê¸° build.gradle implementation 'io.jsonwebtoken:jjwt-api:0.11.5' runtimeOnly 'io.jsonwebtoken:jjwt-impl:0.11.5' runtimeOnly 'io.jsonwebtoken:jjwt-jackson:0.11.5' JWT Secret í‚¤ ë° AccessToken ìœ íš¨ ì‹œê°„ì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ê¸° application-secret.yml custom: jwt: secretKey: 12314124124dfsdf9sdfa8f89asd8f9sdaf8t238f9safsdf98sadfsdafasd2342dsgrer2 accessToken: expirationSeconds: \"#{60 * 10}\" ë‚˜ì¤‘ì— ì´ë ‡ê²Œ ì„¤ì •í•œ ì •ë³´ë¡œ JwtProviderë¡œ ê°’ì„ êº¼ë‚´ì„œ ì‚¬ìš©í•œë‹¤. Ut.java JwtProviderì—ì„œ í† í° ìƒì„± ì‹œ Mapìœ¼ë¡œ ë§Œë“  claims ë°ì´í„°ë¥¼ jsonìœ¼ë¡œ ì „í™˜í•œë‹¤. public class Ut { public static class json { public static Object toStr(Map&lt;String, Object&gt; map) { try { return new ObjectMapper().writeValueAsString(map); } catch (JsonProcessingException e) { return null; } } } public static Map&lt;String, Object&gt; toMap(String jsonStr) { try { return new ObjectMapper().readValue(jsonStr, LinkedHashMap.class); } catch (JsonProcessingException e) { return null; } } } global/jwt/JwtProvider @Component public class JwtProvider { @Value(\"${custom.jwt.secretKey}\") private String secretKeyOrigin; @Value(\"${custom.accessToken.expirationSeconds}\") private int accessTokenExpirationSeconds; private SecretKey cachedSecretKey; public SecretKey getSecretKey() { if (cachedSecretKey == null) { cachedSecretKey = _getSecretKey(); } return cachedSecretKey; } application-secret.ymlì—ì„œ ì„¤ì •í•œ secretKeyì™€ expirationSecondsë¥¼ @Value ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ í•„ë“œì— ì£¼ì…í•œë‹¤. cachedSecretKeyëŠ” secretKeyë¡œ ë¶€í„° ìƒì„±ëœ SecretKey ê°ì²´ì´ë‹¤. ì¦‰ SecretKeyë¥¼ ìƒì„±í•˜ëŠ” ì‘ì—…ì€ ìƒëŒ€ì ìœ¼ë¡œ Base64 ì¸ì½”ë”© ë° HMAC í‚¤ ìƒì„±ìœ¼ë¡œ ë¹„ìš©ì´ ë†’ì€ ì‘ì—…ì´ë‹¤. ë”°ë¼ì„œ ìºì‹±ê³¼ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ë¹„ìš©ì„ ì¤„ì¸ë‹¤. ìºì‹± Â  (Caching) ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ì— ì„ì‹œë¡œ ì €ì¥í•˜ëŠ” ê¸°ìˆ  getSecretKey()ëŠ” ìºì‹±ê³¼ ì‹±ê¸€í†¤ íŒ¨í„´ì„ í†µí•´ ë°˜ë³µì ìœ¼ë¡œ ë™ì¼í•œ í‚¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , ì´ë¯¸ ìƒì„±ëœ ê°ì²´ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë©”ì„œë“œì´ë‹¤. private SecretKey _getSecretKey() { String keyBase64Encoded = Base64.getEncoder().encodeToString(secretKeyOrigin.getBytes()); return Keys.hmacShaKeyFor(keyBase64Encoded.getBytes()); } public String genAccessToken(Member member) { return genToken(member, accessTokenExpirationSeconds); } public String genRefreshToken(Member member) { return genToken(member, 60 * 60 * 24 * 365 * 1); } public String genToken(Member member, int seconds) { Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;(); claims.put(\"id\", member.getId()); claims.put(\"username\", member.getUsername()); long now = new Date().getTime(); Date accessTokenExpiresIn = new Date(now + 1000L * seconds); return Jwts.builder().claim(\"body\", Ut.json.toStr(claims)).setExpiration(accessTokenExpiresIn) .signWith(getSecretKey(), SignatureAlgorithm.HS512).compact(); } ë©”ì„œë“œëª… ì•ì— _ë¥¼ ë¶™ì´ëŠ” ê²ƒì€ í•´ë‹¹ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ í™œìš©í•˜ëŠ” private ë©”ì„œë“œë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤. _getSecretKey() ì„¤ì • íŒŒì¼ì—ì„œ ì„¤ì •í•œ secretKeyë¥¼ Base64ë¡œ ì¸ì½”ë”© í•œ í›„ HMACìœ¼ë¡œ SecretKey ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ genToken()ì€ genAccessToken()ê³¼ genToken()ì˜ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•œ ë©”ì„œë“œì´ë‹¤. ì‚¬ìš©ì ì •ë³´ë¡œë¶€í„° Tokenì„ ë§Œë“ ë‹¤. ë§Œë£Œ ì‹œê°„ì„ ë°›ì•„ì„œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. claimsë¼ëŠ” Mapì„ ë§Œë“¤ì–´ ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥í•œë‹¤. claimsì™€ parsingì— ì‚¬ìš©í•  Ut í´ë˜ìŠ¤ì™€ í•¨ê»˜ ë„˜ê²¨ì„œ JWT í† í°ì„ ìƒì„±í•˜ê³  token ë¬¸ìì—´ì„ ë¦¬í„´í•œë‹¤. ğŸ”† ApiSecurityConfig APIì™€ ê´€ë ¨ëœ ì²˜ë¦¬ë¥¼ í•  Config ì„¤ì • SecurityConfig ì„¤ì •ì˜ ìš°ì„  ìˆœìœ„ëŠ” ì‘ì€ ë²”ìœ„ê°€ ë¨¼ì €ì´ë‹¤. â­ ApiSecurityConfig @Configuration @EnableWebSecurity @RequiredArgsConstructor public class ApiSecurityConfig { @Bean SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception { http .securityMatcher(\"/api/**\") .authorizeHttpRequests( authorizeRequests -&gt; authorizeRequests .requestMatchers(HttpMethod.GET, \"/api/*/articles\").permitAll() .requestMatchers(HttpMethod.GET, \"/api/*/articles/*\").permitAll() .requestMatchers(HttpMethod.POST, \"/api/*/members/login\").permitAll() // ë¡œê·¸ì¸ì€ ëˆ„êµ¬ë‚˜ ê°€ëŠ¥, post ìš”ì²­ë§Œ í—ˆìš© .requestMatchers(HttpMethod.GET, \"/api/*/members/logout\").permitAll() .anyRequest().authenticated() ) .csrf(csrf -&gt; csrf.disable()) // csrf í† í° ë„ê¸° .httpBasic(httpBasic -&gt; httpBasic.disable()) // httpBasic ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .formLogin(formLogin -&gt; formLogin.disable()) // í¼ ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .sessionManagement( sessionManagement -&gt; sessionManagement.sessionCreationPolicy( SessionCreationPolicy.STATELESS) ); return http.build(); } } .securityMatcher(\"/api/**\") ì„¤ì •í•œ URL ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì•„ë˜ì˜ ì„¤ì •ì„ ë”°ë¥´ê² ë‹¤ëŠ” ë§ì´ë‹¤. .requestMatchers(HttpMethod.GET, \"/api/*/articles\").permitAll() /api/*/ Â  : Â  /api/v1, /api/v2 .. ë“± ëª¨ë‘ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰, ëª©ë¡ ì¡°íšŒë¥¼ ì¸ì¦/ì¸ê°€ ì—†ì´ í—ˆìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. requestMatchers(HttpMethod.GET, \"/api/*/articles/*\").permitAll() ìƒì„¸ ì¡°íšŒë¥¼ ì¸ì¦/ì¸ê°€ ì—†ì´ í—ˆìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. .httpBasic(httpBasic -&gt; httpBasic.disable()) httpBasic ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° Â  â‡’ Â  ê¸°ë³¸ ë¡œê·¸ì¸ ì‚¬ìš© ì•ˆ í•¨ .formLogin(formLogin -&gt; formLogin.disable()) í¼ ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy(SessionCreationPolicy.STATELESS)) ì„¸ì…˜ ë°©ì‹ ë„ê¸° Â  (SessionCreationPolicy.STATELESS) í—ˆìš© ë˜ì§€ ì•ŠëŠ” End Point ìš”ì²­ ì‹œ Â  â‡’ Â  403 ì—ëŸ¬ Â  (ê¶Œí•œ ì—†ìŒ)3. ë¡œê·¸ì¸ êµ¬í˜„ğŸ”† JWT AccessToken ë°œê¸‰ í™•ì¸ í…ŒìŠ¤íŠ¸ ApiV1MemberController @PostMapping(\"/login\") public RsData&lt;Void&gt; login(@Valid @RequestBody MemberRequest memberRequest) { Member member = memberService.getMember(memberRequest.getUsername()); // í† í° ìƒì„± String token = jwtProvider.genAccessToken(member); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } String token = jwtProvider.genAccessToken(member); íšŒì› ì •ë³´ë¥¼ ë„˜ê¸°ë©° AcessTokenì„ ìƒì„±í•œë‹¤. ğŸ”† JWT AccessToken ë°œê¸‰ ì¿ í‚¤ì— ë‹´ì•„ ë³´ë‚´ê¸° ì¿ í‚¤ëŠ” Springì—ì„œ ì œê³µí•˜ëŠ” HttpServletResponse ê°ì²´ë¥¼ ì´ìš©í•œë‹¤. í•´ë‹¹ ê°ì²´ì—ê²Œ addCookie()ë¥¼ í˜¸ì¶œí•˜ê³  new Cookie()ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë„˜ê¸´ë‹¤. ApiV1MemberController @PostMapping(\"/login\") public RsData&lt;Void&gt; login(@Valid @RequestBody MemberRequest memberRequest, HttpServletResponse response) { Member member = memberService.getMember(memberRequest.getUsername()); // í† í° ìƒì„± String token = jwtProvider.genAccessToken(member); // ì‘ë‹µ ë°ì´í„°ì— accessToken ì´ë¦„ìœ¼ë¡œ í† í°ì„ ë°œê¸‰ Cookie cookie = new Cookie(\"accessToken\", token); cookie.setHttpOnly(true); cookie.setSecure(true); cookie.setPath(\"/\"); cookie.setMaxAge(60 * 60); response.addCookie(cookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } setPath()ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ê²½ë¡œë¥¼ ì„¤ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ íŠ¹ì • ê²½ë¡œì—ì„œ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆë‹¤. ë¸Œë¼ìš°ì €ì˜ ê°œë°œì ë„êµ¬ì—ì„œ ì¿ í‚¤ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ğŸ”† ì¿ í‚¤ì— ë‹´ê¸´ í† í°ì„ ì´ìš©í•´ ë‚´ íšŒì›ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° JwtProvider í´ë ˆì„ ì •ë³´ ë°›ì•„ì˜¤ëŠ” ë©”ì„œë“œ ì¶”ê°€ í† í°ì„ ë³µí˜¸í™”í•˜ì—¬ Body ì•ˆì˜ ë°ì´í„°(json)ë¥¼ Mapìœ¼ë¡œ ë‹¤ì‹œ ë°”ê¿”ì¤€ë‹¤. public Map getClaims(String token) { String body = Jwts.parserBuilder() .setSigningKey(getSecretKey()).build() .parseClaimsJws(token).getBody() .get(\"body\", String.class); return Ut.toMap(body); } Jwts.parserBuilder()ëŠ” JWT í† í°ì„ íŒŒì‹±í•˜ëŠ” ìš©ë„ì´ë‹¤. tokenì˜ body ì•ˆì˜ claims ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¤ê¸° ìœ„í•œ ê²ƒì´ë‹¤. ApiV1MemberController Cookieì—ì„œ í† í°ì„ ê°€ì ¸ì™€ì„œ ë‚´ ì •ë³´ë¥¼ ì½ì–´ì˜¤ëŠ” ë©”ì„œë“œ ìƒì„± @GetMapping(\"/me\") public RsData&lt;MemberDto&gt; me(HttpServletRequest request) { Cookie[] cookies = request.getCookies(); String accessToken = \"\"; for (Cookie cookie : cookies) { if (cookie.getName().equals(\"accessToken\")) { accessToken = cookie.getValue(); } } Map&lt;String, Object&gt; claims = jwtProvider.getClaims(accessToken); String username = (String) claims.get(\"username\"); Member member = this.memberService.getMember(username); return new RsData(\"200\", \"íšŒì›ì •ë³´ ì¡°íšŒ ì„±ê³µ\", new MemberDto(member)); } ê·¸ëŸ¬ë‚˜ Tokenì„ ì¿ í‚¤ì— ë‹´ì„ ë•Œ ì¿ í‚¤ì— setPath(\"/\")ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ì¿ í‚¤ì˜ ê²½ë¡œëŠ” ì¿ í‚¤ê°€ ìƒì„±ëœ ìš”ì²­ ê²½ë¡œë¡œ ì„¤ì •ëœë‹¤ â­ (ë©”ì„œë“œì˜ ê²½ë¡œê°€ api/v1/auth/meì¸ ê²½ìš° /authë¡œ ê²½ë¡œê°€ ì„¤ì •ëœë‹¤.) ì„¤ì •ëœ ê²½ë¡œ í•˜ìœ„ ê²½ë¡œê¹Œì§€ ì¿ í‚¤ê°€ ìœ íš¨í•˜ë‹¤ â­` ğŸ”† HttpOnly Cookieë¡œ ë³€ê²½ ì¼ë°˜ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì„ì˜ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì¦‰ íƒˆì·¨ì˜ ìœ„í—˜ì„±ì´ ìˆë‹¤. ë”°ë¼ì„œ, ë³´ì•ˆ ì„¤ì •ì´ ì ìš©ëœ ì¿ í‚¤ì¸ HttpOnly Cookieë¥¼ ì‚¬ìš©í•œë‹¤. ApiV1MemberController @PostMapping(\"/login\") public RsData&lt;Void&gt; login(@Valid @RequestBody MemberRequest memberRequest, HttpServletResponse response) { Member member = memberService.getMember(memberRequest.getUsername()); // í† í° ìƒì„± String token = jwtProvider.genAccessToken(member); // ì‘ë‹µ ë°ì´í„°ì— accessToken ì´ë¦„ìœ¼ë¡œ í† í°ì„ ë°œê¸‰ Cookie cookie = new Cookie(\"accessToken\", token); cookie.setHttpOnly(true); cookie.setSecure(true); cookie.setPath(\"/\"); cookie.setMaxAge(60 * 60); response.addCookie(cookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } 4. JWT ì¸ê°€ ì²˜ë¦¬ğŸ”† JWT í† í° ì¸ê°€ ì²˜ë¦¬ Member refresh í† í° í•„ë“œ ì¶”ê°€ @Entity @Setter @Getter @AllArgsConstructor @NoArgsConstructor @SuperBuilder public class Member extends BaseEntity { @Column(unique = true) private String username; @JsonIgnore private String password; @JsonIgnore private String refreshToken; } DBì— refreshTokenì„ ì €ì¥í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ìœ í•œ refresh Tokenê³¼ ë¹„êµí•˜ì—¬ ê²€ì¦í•œë‹¤. ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. MemberRepository refresh í† í°ìœ¼ë¡œ í•´ë‹¹ ì‚¬ìš©ìë¥¼ ì°¾ëŠ” ë©”ì„œë“œ ì¶”ê°€ @Repository public interface MemberRepository extends JpaRepository&lt;Member, Long&gt; { Member findByUsername(String username); Optional&lt;Member&gt; findByRefreshToken(String refreshToken); } MemberService // í† í° ìœ íš¨ì„± ê²€ì¦ public boolean validateToken(String token) { return jwtProvider.verify(token); } // í† í°ê°±ì‹  public RsData&lt;String&gt; refreshAccessToken(String refreshToken) { Member member = memberRepository.findByRefreshToken(refreshToken) .orElseThrow(() -&gt; new IllegalArgumentException(\"ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤.\")); String accessToken = jwtProvider.genAccessToken(member); return new RsData&lt;&gt;(\"200\", \"í† í° ê°±ì‹ ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\", accessToken); } // í† í°ìœ¼ë¡œ User ì •ë³´ ê°€ì ¸ì˜¤ê¸° public SecurityUser getUserFromAccessToken(String accessToken) { Map&lt;String, Object&gt; payloadBody = jwtProvider.getClaims(accessToken); long id = (int) payloadBody.get(\"id\"); String username = (String) payloadBody.get(\"username\"); List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;(); return new SecurityUser(id, username, \"\", authorities); } í† í° ìœ íš¨ì„± ê²€ì¦ Â  (validateToken(String token)) í† í° ê°±ì‹  Â  (refresh í† í°ìœ¼ë¡œ ìƒˆë¡œìš´ accessToken ìƒì„±) refreshAccessToken(String refreshToken) í† í°ìœ¼ë¡œ User ì •ë³´ ê°€ì ¸ì˜¤ê¸° Â  (getUserFromAccessToken(String accessToken)) SecurityUser Securityì˜ User í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ì²˜ë¦¬í•œë‹¤. ìƒì„±ìë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ Securityì˜ User í´ë˜ìŠ¤ í•œ ë²ˆ ë” ê°€ê³µí•˜ì—¬ ë¦¬í„´í•˜ëŠ” ìš©ë„ public class SecurityUser extends User { @Getter private long id; public SecurityUser(long id, String username, String password, Collection&lt;? extends GrantedAuthority&gt; authorities) { super(username, password, authorities); this.id = id; } public Authentication genAuthentication() { Authentication auth = new UsernamePasswordAuthenticationToken(this, this.getPassword(), this.getAuthorities()); return auth; } } SecurityUser ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ ìƒì„±ìë¡œ ì •ë³´ë¥¼ ë°›ì•„ì„œ ì„¤ì •í•œë‹¤. genAuthentication() Authentication í´ë˜ìŠ¤ëŠ” Spring Securityì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ ë©”ì„œë“œëŠ” Authentication êµ¬í˜„ì²´ì¸ UsernamePasswordAuthenticationToken ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. Security User ê°ì²´ì˜ ë¹„ë°€ë²ˆí˜¸ì™€, ê¶Œí•œìœ¼ë¡œ UsernamePasswordAuthenticationToken ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì¦‰, ì¸ì¦ëœ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ğŸ”† JwtAuthorizationFilter â­ JwtAuthorizationFilter JWT ì¸ê°€ ì²˜ë¦¬ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ì´ë‹¤. @Component @RequiredArgsConstructor public class JwtAuthorizationFilter extends OncePerRequestFilter { private final HttpServletRequest req; private final HttpServletResponse resp; private final MemberService memberService; @Override @SneakyThrows protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) { if (request.getRequestURI().equals(\"/api/v1/members/login\") || request.getRequestURI() .equals(\"/api/v1/members/logout\")) { filterChain.doFilter(request, response); return; } String accessToken = _getCookie(\"accessToken\"); // accessToken ê²€ì¦ or refreshToken ë°œê¸‰ if (!accessToken.isBlank()) { // í† í° ìœ íš¨ê¸°ê°„ ê²€ì¦ if (!memberService.validateToken(accessToken)) { String refreshToken = _getCookie(\"refreshToken\"); RsData&lt;String&gt; rs = memberService.refreshAccessToken(refreshToken); _addHeaderCookie(\"accessToken\", rs.getData()); } // securityUser ê°€ì ¸ì˜¤ê¸° SecurityUser securityUser = memberService.getUserFromAccessToken(accessToken); // ì¸ê°€ ì²˜ë¦¬ SecurityContextHolder.getContext().setAuthentication(securityUser.genAuthentication()); } filterChain.doFilter(request, response); } private String _getCookie(String name) { Cookie[] cookies = req.getCookies(); return Arrays.stream(cookies).filter(cookie -&gt; cookie.getName().equals(name)).findFirst() .map(Cookie::getValue).orElse(\"\"); } private void _addHeaderCookie(String tokenName, String token) { ResponseCookie cookie = ResponseCookie.from(tokenName, token).path(\"/\").sameSite(\"None\").secure(true).httpOnly(true) .build(); resp.addHeader(\"Set-Cookie\", cookie.toString()); } } ì´ í´ë˜ìŠ¤ëŠ” JWT í† í° ì¸ê°€ë¥¼ í™•ì¸í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. ë¨¼ì € ì¸ê°€ í™•ì¸ì„ ì œì™¸í•  URLì„ ì§€ì •í•œë‹¤. ì¦‰, ë¡œê·¸ì¸ ë˜ëŠ” ë¡œê·¸ì•„ì›ƒ API URLê³¼ ì¼ì¹˜í•˜ëŠ” ê²½ìš°, í•„í„° ì²´ì¸ì—ì„œ ë‹¤ìŒ í•„í„°ë¡œ ìš”ì²­ì„ ì „ë‹¬í•˜ê³ , ì´í›„ì˜ ë¡œì§ì„ ì‹¤í–‰í•˜ì§€ ì•Šë„ë¡ returní•œë‹¤. if (request.getRequestURI().equals(\"/api/v1/members/login\") || request.getRequestURI() .equals(\"/api/v1/members/logout\")) { filterChain.doFilter(request, response); return; } String accessToken = _getCookie(\"accessToken\"); // accessToken ê²€ì¦ or refreshToken ë°œê¸‰ if (!accessToken.isBlank()) { // í† í° ìœ íš¨ê¸°ê°„ ê²€ì¦ if (!memberService.validateToken(accessToken)) { String refreshToken = _getCookie(\"refreshToken\"); RsData&lt;String&gt; rs = memberService.refreshAccessToken(refreshToken); _addHeaderCookie(\"accessToken\", rs.getData()); } // securityUser ê°€ì ¸ì˜¤ê¸° SecurityUser securityUser = memberService.getUserFromAccessToken(accessToken); // ì¸ê°€ ì²˜ë¦¬ SecurityContextHolder.getContext().setAuthentication(securityUser.genAuthentication()); } filterChain.doFilter(request, response); } HttpServletRequestì—ì„œ Cookie ë°°ì—´ì„ ì½ì–´ì™€ì„œ ì›í•˜ëŠ” ì¿ í‚¤ ì´ë¦„ì˜ ì¿ í‚¤ë¥¼ ì°¾ì•„ ê°€ì ¸ì˜¨ë‹¤. ë§Œì•½ ì¿ í‚¤ê°€ ìˆì§€ë§Œ, Tokenì´ ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ refresh tokenì„ ê°€ì ¸ì™€ì„œ refresh tokenìœ¼ë¡œ ìƒˆë¡œìš´ Access Tokenì„ ë°œê¸‰ ë°›ê³  _addHeaderCookie()ë¡œ ì‘ë‹µ Headerì˜ ì¿ í‚¤ì— ë‹¤ì‹œ ë„£ì–´ì¤€ë‹¤. ë˜ Access Tokenìœ¼ë¡œ í•´ë‹¹ Security User ê°ì²´ë¥¼ ê°€ì ¸ì™€ì„œ ì¸ì¦ ì •ë³´ë¡œ SecurityContextì— ë„£ì–´ì¤€ë‹¤. ApiSecurityConfig ìˆ˜ì •í•˜ê¸° JwtAuthorizationFilter í•„í„°ë¥¼ ì¶”ê°€í•˜ì—¬ AccessTokenì„ ì´ìš©í•œ ë¡œê·¸ì¸ì„ ì²˜ë¦¬í•œë‹¤. @Configuration @EnableWebSecurity @RequiredArgsConstructor public class ApiSecurityConfig { private final JwtAuthorizationFilter jwtAuthorizationFilter; @Bean SecurityFilterChain apiFilterChain(HttpSecurity http) throws Exception { http.securityMatcher(\"/api/**\").authorizeHttpRequests( authorizeRequests -&gt; authorizeRequests.requestMatchers(HttpMethod.GET, \"/api/*/articles\") .permitAll().requestMatchers(HttpMethod.GET, \"/api/*/articles/*\").permitAll() .requestMatchers(HttpMethod.POST, \"/api/*/members/login\") .permitAll() // ë¡œê·¸ì¸ì€ ëˆ„êµ¬ë‚˜ ê°€ëŠ¥, post ìš”ì²­ë§Œ í—ˆìš© .requestMatchers(HttpMethod.GET, \"/api/*/members/logout\") .permitAll() // ë¡œê·¸ì¸ì€ ëˆ„êµ¬ë‚˜ ê°€ëŠ¥, post ìš”ì²­ë§Œ í—ˆìš© .anyRequest().authenticated()).csrf(csrf -&gt; csrf.disable()) // csrf í† í° ë„ê¸° .httpBasic(httpBasic -&gt; httpBasic.disable()) // httpBasic ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .formLogin(formLogin -&gt; formLogin.disable()) // í¼ ë¡œê·¸ì¸ ë°©ì‹ ë„ê¸° .sessionManagement(sessionManagement -&gt; sessionManagement.sessionCreationPolicy( SessionCreationPolicy.STATELESS)) .addFilterBefore( jwtAuthorizationFilter, //ì—‘ì„¸ìŠ¤ í† í°ì„ ì´ìš©í•œ ë¡œê·¸ì¸ ì²˜ë¦¬ UsernamePasswordAuthenticationFilter.class); return http.build(); } } jwtAuthorizationFilter í•„í„°ë¥¼ UsernamePasswordAuthenticationFilter ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰í•˜ë„ë¡ ì„¤ì •í•œë‹¤. .addFilterBefore(jwtAuthorizationFilter, UsernamePasswordAuthenticationFilter.class); ì´ë ‡ê²Œ í•˜ë©´ ëª¨ë“  End Point ìš”ì²­ì´ ë¨¼ì € jwtAuthorizationFilter í•„í„°ë¥¼ ê±°ì³ì„œ í† í°ì„ í†µí•´ ì ‘ê·¼ì„ í—ˆê°€ ë°›ëŠ”ë‹¤. ì´ ë•Œ íŠ¹ì • End Point(ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ë“±)ì€ ì œì™¸ ì²˜ë¦¬ë¥¼ í•˜ì—¬ ê²€ì‚¬í•˜ì§€ ì•Šë„ë¡ í•œë‹¤. ìœ„ì˜ jwtAuthorizationFilter í•„í„°ë¥¼ ê±°ì¹˜ì§€ ì•Šì€ End Point ìš”ì²­ì€ UsernamePasswordAuthenticationFilter í•„í„°ë¥¼ ê±°ì¹˜ê²Œ ëœë‹¤. í•„í„° ëŒ€ìƒ Â  : Â  ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ë“± Â  (JWT í•„í„°ì—ì„œ ì œì™¸ ë°›ì€ End Point) ë‹¤ë§Œ ì‚¬ì „ì— ì´ í•„í„°ì— ì§€ì •ëœ End PointëŠ” ëª¨ë‘ í—ˆìš©ì‹œí‚¨ë‹¤. ì¦‰, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒì€ ìš”ì²­ì„ ë³´ë‚´ë©´ í†µê³¼ì‹œí‚¬ ìˆ˜ ìˆë‹¤. JwtProviderì— verify() ë©”ì„œë“œ ì¶”ê°€í•˜ê¸° public boolean verify(String token) { try { Jwts.parserBuilder().setSigningKey(getSecretKey()).build().parseClaimsJws(token); return true; } catch (Exception e) { return false; } } ìœ íš¨ì„± ê²€ì¦ì„ ìœ„í•œ ë©”ì„œë“œì´ë‹¤. JWTì˜ í´ë ˆì„(Claims) ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” ê²½ìš° trueë¥¼ ë°˜í™˜í•˜ê³  ì˜ˆì™¸ê°€ ë°œìƒí–ˆë‹¤ë©´ falseë¥¼ ë°˜í™˜ 5. RefreshToken ë° ë¡œê·¸ì•„ì›ƒ êµ¬í˜„ğŸ”† íšŒì›ê°€ì… ì‹œ refreshToken ì €ì¥, í† í° ì¬ë°œê¸‰ í…ŒìŠ¤íŠ¸ ApiV1MemberController @PostMapping(\"/login\") public RsData&lt;Void&gt; login(@Valid @RequestBody MemberRequest memberRequest, HttpServletResponse response) { Member member = memberService.getMember(memberRequest.getUsername()); // í† í° ìƒì„± String token = jwtProvider.genAccessToken(member); // ì‘ë‹µ ë°ì´í„°ì— accessToken ì´ë¦„ìœ¼ë¡œ í† í°ì„ ë°œê¸‰ Cookie cookie = new Cookie(\"accessToken\", token); cookie.setHttpOnly(true); cookie.setSecure(true); cookie.setPath(\"/\"); cookie.setMaxAge(60 * 60); response.addCookie(cookie); String refreshToken = member.getRefreshToken(); Cookie refreshTokenCookie = new Cookie(\"refreshToken\", refreshToken); refreshTokenCookie.setHttpOnly(true); refreshTokenCookie.setSecure(true); refreshTokenCookie.setPath(\"/\"); refreshTokenCookie.setMaxAge(60 * 60); response.addCookie(refreshTokenCookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } ìµœì´ˆì˜ ë¡œê·¸ì¸ì„ í•˜ë©´ ì‚¬ìš©ìì—ê²Œ AccessToken, RefreshTokenì„ ëª¨ë‘ ì¿ í‚¤ë¡œ ì „ë‹¬í•œë‹¤. memberë¡œ ë¶€í„° DBì— ì €ì¥ëœ refreshTokenì„ ê°€ì ¸ì™€ì„œ ìƒˆë¡œìš´ ì¿ í‚¤ë¥¼ ë§Œë“ ë‹¤. ì¿ í‚¤ ì˜µì…˜ ì„¤ì • Â  (AccessToken ì¿ í‚¤ ì„¤ì •ê³¼ ë™ì¼) ğŸ”† ë¡œê·¸ì•„ì›ƒ ApiV1MemberController @GetMapping(\"/logout\") public RsData&lt;Void&gt; logout(HttpServletResponse response) { Cookie cookie = new Cookie(\"accessToken\", null); cookie.setPath(\"/\"); cookie.setMaxAge(0); response.addCookie(cookie); Cookie refreshTokenCookie = new Cookie(\"refreshToken\", null); refreshTokenCookie.setPath(\"/\"); refreshTokenCookie.setMaxAge(0); response.addCookie(refreshTokenCookie); return new RsData&lt;&gt;(\"200\", \"ë¡œê·¸ì•„ì›ƒì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.\"); } ë°©ë²•ì€ ì¿ í‚¤ë¥¼ ë‹¤ ì—†ì• ëŠ” ê²ƒì´ë‹¤. ì¸ì¦/ì¸ê°€ë¥¼ ì¿ í‚¤ë¡œ í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. ê¸°ì¡´ì— ì¿ í‚¤ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ë‹¤. ë‹¤ë§Œ nullì„ ë„˜ê¸´ë‹¤. ë‹¤ë¥¸ ì¿ í‚¤ ì„¤ì •ì€ í•„ìš” ì—†ê³  setPath()ì™€ setMaxAge()ë§Œ 0ìœ¼ë¡œ ì„¤ì •í•œë‹¤. â‡’ Â  ì¿ í‚¤ê°€ ì œê±°ëœë‹¤. " }, { "title": "ì í”„ íˆ¬ ìŠ¤í”„ë§ë¶€íŠ¸ 2ì¥", "url": "/posts/springboot-jpa-basic/", "categories": "ê°œì¸ ê³µë¶€, Spring Boot, ê¸°ì´ˆ", "tags": "JPA, Domain, Thymeleaf", "date": "2025-01-04 22:00:00 +0900", "snippet": " 2025/01/04 ê¸°ì¡´ì— í”„ë¡œì íŠ¸ ê²½í—˜ì€ Mybatisì™€ Reactë¥¼ ì´ìš©í•œ ê²½í—˜ì„ í–ˆì§€ë§Œ JPAì™€ ThymeleafëŠ” ì‚¬ìš©í•œ ê²½í—˜ì´ ì—†ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê¸°ì´ˆ ê³¼ì •ì„ ê³µë¶€í•´ë³¸ë‹¤. ì°¸ê³  Â  : Â  https://wikidocs.net/book/7601HTTP ì˜¤ë¥˜ 404 ì˜¤ë¥˜ëŠ” HTTP ì˜¤ë¥˜ ì½”ë“œ ì¤‘ í•˜ë‚˜ë¡œ, ë¸Œë¼ìš°ì €ê°€ ìš”ì²­í•œ í˜ì´ì§€...", "content": " 2025/01/04 ê¸°ì¡´ì— í”„ë¡œì íŠ¸ ê²½í—˜ì€ Mybatisì™€ Reactë¥¼ ì´ìš©í•œ ê²½í—˜ì„ í–ˆì§€ë§Œ JPAì™€ ThymeleafëŠ” ì‚¬ìš©í•œ ê²½í—˜ì´ ì—†ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê¸°ì´ˆ ê³¼ì •ì„ ê³µë¶€í•´ë³¸ë‹¤. ì°¸ê³  Â  : Â  https://wikidocs.net/book/7601HTTP ì˜¤ë¥˜ 404 ì˜¤ë¥˜ëŠ” HTTP ì˜¤ë¥˜ ì½”ë“œ ì¤‘ í•˜ë‚˜ë¡œ, ë¸Œë¼ìš°ì €ê°€ ìš”ì²­í•œ í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ ìš”ì²­í•œ URLê³¼ ë§¤í•‘ë˜ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. 500 ì˜¤ë¥˜ëŠ” ë¸Œë¼ìš°ì €ê°€Â http://localhost:8080/xxxxÂ ìš”ì²­í–ˆì„ ë•Œ í•´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì˜ í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸´ í–ˆì§€ë§Œ ì›ë˜ URLê³¼ ë§¤í•‘ëœ ë©”ì„œë“œëŠ” ê²°ê´ê°’ì„ ë¦¬í„´í•´ì•¼ í•˜ëŠ”ë° ì•„ë¬´ ê°’ë„ ë¦¬í„´í•˜ì§€ ì•Šì•„ ì´ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒ ë°˜í™˜ íƒ€ì…ì„ Stringìœ¼ë¡œ í•˜ê³  @ResponseBody ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì´ì§€ ì•ŠëŠ”ë‹¤ë©´ ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” ë¬¸ìì—´ì„ ë¦¬í„´í•˜ì§€ ì•Šê³  ë¦¬í„´í•œ ê°’ì— í•´ë‹¹í•˜ëŠ” í…œí”Œë¦¿ íŒŒì¼ì„ ì°¾ëŠ”ë‹¤. 405 ì˜¤ë¥˜ëŠ” â€˜Method Not Allowedâ€™ë¼ëŠ” ì˜ë¯¸ë¡œ,Â /question/createÂ ì²˜ëŸ¼ í•´ë‹¹ URLì„ POST ë°©ì‹ìœ¼ë¡œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.ORM ORMì€ SQLì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë„êµ¬ ORMì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ìë°” í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ SQL ì¿¼ë¦¬ë¬¸ì´ë€ ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„°ë¥¼ ì €ì¥, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ë“±ì„ í•˜ê¸° ìœ„í•´ ì‘ì„±í•˜ëŠ” ëª…ë ¹ë¬¸ì´ë‹¤. insertinto question (id, subject, content)values (1, 'ì•ˆë…•í•˜ì„¸ìš”', 'ê°€ì… ì¸ì‚¬ë“œë¦½ë‹ˆë‹¤ ^^'); insertinto question (id, subject, content)values (2, 'ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤', 'ORMì´ ê¶ê¸ˆí•©ë‹ˆë‹¤'); í•˜ì§€ë§Œ ORMì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ì¿¼ë¦¬ë¬¸ ëŒ€ì‹  ìë°” ì½”ë“œë¡œ ë‹¤ìŒì²˜ëŸ¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. Question q1 =newQuestion(); q1.setId(1); q1.setSubject(\"ì•ˆë…•í•˜ì„¸ìš”\"); q1.setContent(\"ê°€ì… ì¸ì‚¬ë“œë¦½ë‹ˆë‹¤ ^^\"); this.questionRepository.save(q1); Question q2 =newQuestion(); q2.setId(2); q2.setSubject(\"ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤\"); q2.setContent(\"ORMì´ ê¶ê¸ˆí•©ë‹ˆë‹¤\"); this.questionRepository.save(q2); ë³„ë„ì˜ SQL ë¬¸ë²•ì„ ë°°ìš°ì§€ ì•Šì•„ë„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë§¤ìš° í¸ë¦¬ ORMì„ ì´ìš©í•˜ë©´ MySQL, ì˜¤ë¼í´ DB, MS SQLê³¼ ê°™ì€ DBMSì˜ ì¢…ë¥˜ì— ê´€ê³„ ì—†ì´ ì¼ê´€ëœ ìë°” ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì„œ í”„ë¡œê·¸ë¨ì„ ìœ ì§€Â·ë³´ìˆ˜í•˜ê¸°ê°€ í¸ë¦¬ ì½”ë“œ ë‚´ë¶€ì—ì„œ ì•ˆì •ì ì¸ SQL ì¿¼ë¦¬ë¬¸ì„ ìë™ìœ¼ë¡œ ìƒì„±JPAë€? ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” JPA(Java Persistence API)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê´€ë¦¬ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” JPAë¥¼ ORM(Object-Relational Mapping) ê¸°ìˆ ì˜ í‘œì¤€ìœ¼ë¡œ ì‚¬ìš© JPAëŠ” ì¸í„°í˜ì´ìŠ¤ ëª¨ìŒì´ë¯€ë¡œ, ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì‹¤ì œ í´ë˜ìŠ¤ê°€ í•„ JPAë¥¼ êµ¬í˜„í•œ ì‹¤ì œ í´ë˜ìŠ¤ì—ëŠ” ëŒ€í‘œì ìœ¼ë¡œ í•˜ì´ë²„ë„¤ì´íŠ¸(Hibernate)ê°€ ìˆë‹¤. (í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” JPAì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì‹¤ì œ í´ë˜ìŠ¤ì´ì ìë°”ì˜ ORM í”„ë ˆì„ì›Œí¬) H2 ë°ì´í„°ë² ì´ìŠ¤ application.propertiesÂ íŒŒì¼ # DATABASE spring.h2.console.enabled=true spring.h2.console.path=/h2-console spring.datasource.url=jdbc:h2:~/local spring.datasource.driverClassName=org.h2.Driver spring.datasource.username=sa spring.datasource.password= spring.h2.console.enabled H2 ì½˜ì†”ì— ì ‘ì†í•  ê²ƒì¸ì§€ ì—¬ë¶€ H2 ì½˜ì†”ì€ H2 ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì›¹ UIë¡œ ë³´ì—¬ ì£¼ëŠ” ê²ƒ spring.h2.console.path H2 ì½˜ì†”ë¡œ ì ‘ì†í•˜ê¸° ìœ„í•œ URL ê²½ë¡œ spring.datasource.url ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•œ ê²½ë¡œ =jdbc:h2:~/local íŠ¹ì • ìœ„ì¹˜ì— ë§Œë“¤ê² ë‹¤ëŠ” ê²ƒ (ì—¬ê¸°ì„œëŠ” local = í™ˆí´ë”) =jdbc:h2:mem:chat_dev ë©”ëª¨ë¦¬ì— ìƒì„±í•˜ê² ë‹¤ëŠ” ê²ƒ spring.datasource.driverClassName ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì†í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë“œë¼ì´ë²„ í´ë˜ìŠ¤ëª… spring.datasource.username ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‚¬ìš©ìëª… Â  (ì‚¬ìš©ìëª…ìœ¼ë¡œ ê¸°ë³¸ê°’ì¸ saë¡œ ì„¤ì •) spring.datasource.password ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¹„ë°€ë²ˆí˜¸ (ê°œë°œ ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ì§€ ì•Šê³  ë¹„ì›Œ ë‘ì—ˆë‹¤) implementationì´ë€? build.gradleÂ íŒŒì¼ì—ì„œ ì‘ì„±í•œÂ implementationì€ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ë¥¼ ìœ„í•´ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ì´ë‹¤.Â implementationì€ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë³€ê²½ë˜ë”ë¼ë„ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì—°ê´€ëœ ëª¨ë“  ëª¨ë“ˆì„ ì»´íŒŒì¼í•˜ì§€ ì•Šê³  ë³€ê²½ëœ ë‚´ìš©ê³¼ ê´€ë ¨ì´ ìˆëŠ” ëª¨ë“ˆë§Œ ì»´íŒŒì¼í•˜ë¯€ë¡œ í”„ë¡œì íŠ¸ë¥¼ ë¦¬ë¹Œë“œ(rebuild)í•˜ëŠ” ì†ë„ê°€ ë¹ ë¥´ë‹¤. application.properties # JPA spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect spring.jpa.hibernate.ddl-auto=update spring.jpa.properties.hibernate.dialect ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ í•„ìš”í•œ ì„¤ì • í•­ëª© í‘œì¤€ SQLì´ ì•„ë‹Œ í•˜ì´ë²„ë„¤ì´íŠ¸ë§Œì˜ SQLì„ ì‚¬ìš©í•  ë•Œ í•„ìš”í•œ í•­ í•˜ì´ë²„ë„¤ì´íŠ¸ì˜Â org.hibernate.dialect.H2DialectÂ í´ë˜ìŠ¤ë¥¼ ì„¤ì • Spring Bootê°€ ìë™ìœ¼ë¡œ Dialectë¥¼ ì¶”ë¡ í•˜ê¸° ë•Œë¬¸ì— ìƒëµí•  ìˆ˜ ìˆë‹¤ spring.jpa.hibernate.ddl-auto ì—”í‹°í‹°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ì˜ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê·œì¹™ì„ ì„¤ì • none Â  : Â  ì—”í‹°í‹°ê°€ ë³€ê²½ë˜ë”ë¼ë„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. update Â  : Â  ì—”í‹°í‹°ì˜ ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•œë‹¤. validate Â  : Â  ì—”í‹°í‹°ì™€ í…Œì´ë¸” ê°„ì— ì°¨ì´ì ì´ ìˆëŠ”ì§€ ê²€ì‚¬ë§Œ í•œë‹¤. create Â  : Â  ìŠ¤í”„ë§ ë¶€íŠ¸ ì„œë²„ë¥¼ ì‹œì‘í•  ë•Œ í…Œì´ë¸”ì„ ëª¨ë‘ ì‚­ì œí•œ í›„ ë‹¤ì‹œ ìƒì„±í•œë‹¤. create-dropÂ Â  : Â  createì™€ ë™ì¼í•˜ì§€ë§Œ ìŠ¤í”„ë§ ë¶€íŠ¸ ì„œë²„ë¥¼ ì¢…ë£Œí•  ë•Œì—ë„ í…Œì´ë¸”ì„ ëª¨ë‘ ì‚­ì œí•œë‹¤. ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë³´í†µÂ updateÂ ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ê³ , ìš´ì˜ í™˜ê²½ì—ì„œëŠ”Â noneÂ ë˜ëŠ”Â validateë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ì—”í‹°í‹° (Entity) ì—”í‹°í‹°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ëŠ” ìë°” í´ë˜ìŠ¤ ì—”í‹°í‹°ë¥¼ ëª¨ë¸ ë˜ëŠ” ë„ë©”ì¸ ëª¨ë¸ì´ë¼ê³ ë„ í•œë‹¤. ì—”í‹°í‹°ì˜ ì†ì„±ì€ í…Œì´ë¸”ì˜ ì—´ê³¼ ë§¤í•‘ì´ ëœë‹¤. ì§ˆë¬¸ ì—”í‹°í‹° ì†ì„± ì´ë¦„ ì„¤ëª… id ì§ˆë¬¸ ë°ì´í„°ì˜ ê³ ìœ  ë²ˆí˜¸ subject ì§ˆë¬¸ ë°ì´í„°ì˜ ì œëª© content ì§ˆë¬¸ ë°ì´í„°ì˜ ë‚´ìš© createDate ì§ˆë¬¸ ë°ì´í„°ë¥¼ ì‘ì„±í•œ ì¼ì‹œ ë‹µë³€ ì—”í‹°í‹° ì†ì„± ì´ë¦„ ì„¤ëª… id ë‹µë³€ ë°ì´í„°ì˜ ê³ ìœ  ë²ˆí˜¸ question ì§ˆë¬¸ ë°ì´í„° (ì–´ë–¤ ì§ˆë¬¸ì˜ ë‹µë³€ì¸ì§€ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ì´ ì†ì„±ì´ í•„ìš”í•˜ë‹¤.) content ë‹µë³€ ë°ì´í„°ì˜ ë‚´ìš© createDate ë‹µë³€ ë°ì´í„°ë¥¼ ì‘ì„±í•œ ì¼ì‹œ ì—”í‹°í‹° ë§Œë“œëŠ” ë°©ë²• import java.time.LocalDateTime; import jakarta.persistence.Column; import jakarta.persistence.Entity; import jakarta.persistence.GeneratedValue; import jakarta.persistence.GenerationType; import jakarta.persistence.Id; import lombok.Getter; import lombok.Setter; @Getter @Setter @Entity public class Question { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer id; @Column(length = 200) private String subject; @Column(columnDefinition = \"TEXT\") private String content; private LocalDateTime createDate; } @Entity @EntityÂ ì• ë„ˆí…Œì´ì…˜ì„ ì ìš©í•´ì•¼ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ í´ë˜ìŠ¤ë¥¼ ì—”í‹°í‹°ë¡œ ì¸ì‹ ë¡¬ë³µ(Lombok)ì˜Â @Getterì™€Â @SetterÂ ì• ë„ˆí…Œì´ì…˜ì„ ì ìš© Getterì™€ Setterë¥¼ ìë™ ìƒì„± @Id id ì†ì„±ì— ì ìš©í•œ @Id ì• ë„ˆí…Œì´ì…˜ì€ id ì†ì„±ì„ ê¸°ë³¸í‚¤ë¡œ ì§€ì •í•œë‹¤. @GeneratedValue @GeneratedValue ì• ë„ˆí…Œì´ì…˜ì„ ì ìš©í•˜ë©´ ë°ì´í„°ë¥¼ ì €ì¥í•  ë•Œ í•´ë‹¹ ì†ì„±ì— ê°’ì„ ì¼ì¼ì´ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ 1ì”© ì¦ê°€í•˜ì—¬ ì €ì¥ strategy = GenerationType.IDENTITY ê³ ìœ í•œ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•˜ëŠ” ë¶€ë¶„ GenerationType.IDENTITYëŠ” í•´ë‹¹ ì†ì„±ë§Œ ë³„ë„ë¡œ ë²ˆí˜¸ê°€ ì°¨ë¡€ëŒ€ë¡œ ëŠ˜ì–´ë‚˜ë„ë¡ í•  ë•Œ ì‚¬ìš© strategy ì˜µì…˜ì„ ìƒëµí•œë‹¤ë©´ @GeneratedValue ì• ë„ˆí…Œì´ì…˜ì´ ì§€ì •ëœ ëª¨ë“  ì†ì„±ì— ë²ˆí˜¸ë¥¼ ì°¨ë¡€ë¡œ ìƒì„±í•˜ë¯€ë¡œ ìˆœì„œê°€ ì¼ì •í•œ ê³ ìœ  ë²ˆí˜¸ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ê²Œ ëœë‹¤. (ìƒëµ ì‹œ 1, 2, 3 ì´ë ‡ê²Œ ì¦ê°€í•˜ëŠ” ê²ƒì€ ë§ìœ¼ë‚˜ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒ) @Column ì—”í‹°í‹°ì˜ ì†ì„±ì€ í…Œì´ë¸”ì˜ ì—´ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ”ë° ì—´ì˜ ì„¸ë¶€ ì„¤ì •ì„ ìœ„í•´ @Column ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤. length ì—´ì˜ ê¸¸ì´ë¥¼ ì„¤ì •í•  ë•Œ ì‚¬ìš©í•˜ê³  Â  (ì—¬ê¸°ì„œëŠ” ì—´ì˜ ê¸¸ì´ë¥¼ 200ìœ¼ë¡œ ì •í•¨) columnDefinition ì—´ ë°ì´í„°ì˜ ìœ í˜•ì´ë‚˜ ì„±ê²©ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•œë‹¤. columnDefinition = \"TEXT\"ëŠ” ë§ ê·¸ëŒ€ë¡œ â€˜í…ìŠ¤íŠ¸â€™ë¥¼ ì—´ ë°ì´í„°ë¡œ ë„£ì„ ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•˜ê³ , ê¸€ì ìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì— ì‚¬ìš© ì—”í‹°í‹°ì˜ ì†ì„±ì€ @Column ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„ í…Œì´ë¸”ì˜ ì—´ë¡œ ì¸ì‹í•œë‹¤. í…Œì´ë¸”ì˜ ì—´ë¡œ ì¸ì‹í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ @Transient ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤. @Transient ì• ë„ˆí…Œì´ì…˜ì€ ì—”í‹°í‹°ì˜ ì†ì„±ì„ í…Œì´ë¸”ì˜ ì—´ë¡œ ë§Œë“¤ì§€ ì•Šê³  í´ë˜ìŠ¤ì˜ ì†ì„± ê¸°ëŠ¥ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ ì“´ë‹¤. ì—”í‹°í‹°ë¥¼ ë§Œë“¤ ë•Œ Setter ë©”ì„œë“œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ ì¼ë°˜ì ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ ë•Œì—ëŠ” Setter ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë¥¼ ê¶Œí•œë‹¤. ì™œëƒí•˜ë©´ ì—”í‹°í‹°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ë°”ë¡œ ì—°ê²°ë˜ë¯€ë¡œ ë°ì´í„°ë¥¼ ììœ ë¡­ê²Œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” Setter ë©”ì„œë“œë¥¼ í—ˆìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ì§€ ì•Šë‹¤ê³  íŒë‹¨í•˜ê¸° ë•Œë¬¸ ì—”í‹°í‹°ëŠ” ìƒì„±ìì— ì˜í•´ì„œë§Œ ì—”í‹°í‹°ì˜ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆê²Œ í•˜ê³ , ë°ì´í„°ë¥¼ ë³€ê²½í•´ì•¼ í•  ê²½ìš°ì—ëŠ” ë©”ì„œë“œë¥¼ ì¶”ê°€ë¡œ ì‘ì„±í•˜ë©´ ëœë‹¤. ë‹µë³€ ì—”í‹°í‹°package com.mysite.myapp;import jakarta.persistence.*;import lombok.Getter;import lombok.Setter;import java.time.LocalDateTime;@Entity@Getter@Setterpublic class Answer { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer id; @Column(columnDefinition = \"TEXT\") private String content; private LocalDateTime createDate; @ManyToOne private Question question;} ë‹µë³€ ì—”í‹°í‹°ì˜ ê²½ìš° ì§ˆë¬¸ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•˜ê¸° ìœ„í•´ question ì†ì„±ì„ ì¶”ê°€í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì—”í‹°í‹°ë¥¼ ì†ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì—°ê²°ëœ ì†ì„±ì„ì„ í‘œì‹œí•´ì•¼ í•œë‹¤. @ManyToOneÂ ì• ë„ˆí…Œì´ì…˜ í˜„ì¬ Entityê°€ ë§ì€ ê²ƒì´ê³  ì°¸ì¡° Entityê°€ í•˜ë‚˜ë¼ëŠ” ëœ»ì´ë‹¤. â‡’ Â  ì‹¤ì œ DBì—ì„œëŠ” ì™¸ë˜í‚¤(FK) ê´€ê³„ ìƒì„± â‡’ Â  ë¶€ëª¨ëŠ” Question, ìì‹ì€ Answer ì§ˆë¬¸ Entityì˜ ë‹µë³€ Entity ì—­ì°¸ì¡° package com.mysite.myapp; import java.time.LocalDateTime; import java.util.List; import jakarta.persistence.*; import lombok.Getter; import lombok.Setter; @Getter @Setter @Entity public class Question { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) private Integer id; @Column(length = 200) private String subject; @Column(columnDefinition = \"TEXT\") private String content; private LocalDateTime createDate; @OneToMany(mappedBy = \"question\", cascade = CascadeType.REMOVE) private List&lt;Answer&gt; answerList; } answerListë¥¼Â QuestionÂ ì—”í‹°í‹°ì˜ ì†ì„±ìœ¼ë¡œ ì¶”ê°€í•˜ê³ Â @OneToManyÂ ì• ë„ˆí…Œì´ì…˜ì„ ì„¤ì • ì´ì œ ì§ˆë¬¸ì—ì„œ ë‹µë³€ì„ ì°¸ì¡°í•˜ë ¤ë©´Â question.getAnswerList()ë¥¼ í˜¸ì¶œ mappedByëŠ” ì°¸ì¡° ì—”í‹°í‹°ì˜ ì†ì„±ëª…ì„ ì •ì˜ AnswerÂ ì—”í‹°í‹°ì—ì„œÂ QuestionÂ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•œ ì†ì„±ì¸Â questionì„Â mappedByì— ì „ë‹¬í•´ì•¼ í•œë‹¤. ì¦‰, Answer ì—”í‹°í‹°ì—ì„œ ì–´ë–»ê²Œ ì •ì˜í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒ CascadeType.REMOVE ì§ˆë¬¸ í•˜ë‚˜ì— ë‹µë³€ì´ ì—¬ëŸ¬ ê°œ ì‘ì„±ë  ìˆ˜ ìˆë‹¤. ë³´í†µ ê²Œì‹œíŒì—ì„œëŠ” ì§ˆë¬¸ì„ ì‚­ì œí•˜ë©´ ê·¸ì— ë‹¬ë¦° ë‹µë³€ë“¤ë„ í•¨ê»˜ ì‚­ì œëœë‹¤ cascade = CascadeType.REMOVEë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ H2 ë°ì´í„°ë² ì´ìŠ¤ ê²°ê³¼ JPAì—ì„œ @OneToManyì™€ ê°™ì€ ì»¬ë ‰ì…˜ í•„ë“œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì— ì§ì ‘ ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ìˆœíˆ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ ë§¤í•‘ ë¦¬í¬ì§€í„°ë¦¬ ì—”í‹°í‹°ê°€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ìƒì„±í–ˆë‹¤ë©´, ë¦¬í¬ì§€í„°ë¦¬ëŠ” ì´ì™€ ê°™ì´ ìƒì„±ëœ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ë°ì´í„°ë“¤ì„ ì €ì¥, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ë“±ì„ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ ë¦¬í¬ì§€í„°ë¦¬ë¡œ ë§Œë“¤ê¸° ìœ„í•´Â JpaRepositoryÂ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í•œë‹¤. JpaRepository JPAê°€ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì¤‘ í•˜ë‚˜ CRUD ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œë“¤ì„ ì´ë¯¸ ë‚´ì¥í•˜ê³  ìˆë‹¤ JpaRepository&lt;Question, Integer&gt;ëŠ” Question ì—”í‹°í‹°ë¡œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ìƒì„±í•œë‹¤ëŠ” ì˜ë¯¸ Question ì—”í‹°í‹°ì˜ ê¸°ë³¸í‚¤ì˜ íƒ€ì…ì„ Integer ì²˜ëŸ¼ ì¶”ê°€ë¡œ ì§€ì •í•´ì•¼ í•œë‹¤. JUnit ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë ¤ë©´ í”„ë¡ íŠ¸ë‹¨ê³¼ ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ ë“±ì´ í•„ìš”í•˜ë‹¤. â‡’ Â  í•˜ì§€ë§Œ JUnitì„ ì‚¬ìš©í•˜ë©´ ë¦¬í¬ì§€í„°ë¦¬ë§Œ ê°œë³„ì ìœ¼ë¡œ ì‹¤í–‰í•´ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤ JUnitì€ ìë°”ì˜ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë¦¬í¬ì§€í„°ë¦¬ë¿ë§Œ ì•„ë‹ˆë¼ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì‹œ í…ŒìŠ¤íŠ¸ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ë§ì´ ì‚¬ìš©í•œë‹¤. build.gradle testImplementation 'org.junit.jupiter:junit-jupiter' testRuntimeOnly 'org.junit.platform:junit-platform-launcher' testRuntimeOnly Â  : Â  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œì—ë§Œ ì‚¬ìš©ë¨ src/test/javaì˜ MyappApplicationTests package com.mysite.myapp; import org.junit.jupiter.api.Test; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; import java.time.LocalDateTime; @SpringBootTest class MyappApplicationTests { @Autowired private QuestionRepository questionRepository; @Test void testJpa() { Question q1 = new Question(); q1.setSubject(\"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\"); q1.setContent(\"sbbì— ëŒ€í•´ì„œ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤.\"); q1.setCreateDate(LocalDateTime.now()); this.questionRepository.save(q1); // ì²«ë²ˆì§¸ ì§ˆë¬¸ ì €ì¥ Question q2 = new Question(); q2.setSubject(\"ìŠ¤í”„ë§ë¶€íŠ¸ ëª¨ë¸ ì§ˆë¬¸ì…ë‹ˆë‹¤.\"); q2.setContent(\"idëŠ” ìë™ìœ¼ë¡œ ìƒì„±ë˜ë‚˜ìš”?\"); q2.setCreateDate(LocalDateTime.now()); this.questionRepository.save(q2); // ë‘ë²ˆì§¸ ì§ˆë¬¸ ì €ì¥ } } í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì£¼ì…í•˜ì—¬ í…ŒìŠ¤íŠ¸í•œë‹¤. @Autowired @AutowiredÂ ì• ë„ˆí…Œì´ì…˜ì„ í•´ë‹¹ ë³€ìˆ˜ì— ì ìš©í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€Â questionRepositoryÂ ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ì…í•´ì¤€ë‹¤. ê°œë°œ ì‹œÂ @Autowiredë³´ë‹¤ëŠ” ìƒì„±ìë¥¼ í†µí•œ ê°ì²´ ì£¼ì… ë°©ì‹ì„ ê¶Œì¥ @Test @TestÂ ì• ë„ˆí…Œì´ì…˜ì€ í•´ë‹¹ ë©”ì„œë“œê°€ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. í´ë˜ìŠ¤ë¥¼ JUnitìœ¼ë¡œ ì‹¤í–‰í•˜ë©´Â @TestÂ ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€Â testJpaÂ ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤. SELECT (ëª©ë¡) @Test void testJpa() { List&lt;Question&gt; all = this.questionRepository.findAll(); assertEquals(2, all.size()); Question q = all.get(0); assertEquals(\"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\", q.getSubject()); } findAll()ëŠ” H2 ì½˜ì†”ì—ì„œ ì…ë ¥í•´ ë³¸Â SELECT * FROM QUESTIONê³¼ ê°™ì€ ê²°ê³¼ assertEquals(ê¸°ëŒ“ê°’, ì‹¤ì ¯ê°’) JPA ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì˜¬ë°”ë¥´ê²Œ ê°€ì ¸ì˜¤ëŠ”ì§€ë¥¼ í™•ì¸í•˜ë ¤ëŠ” ê²ƒ SELECT (ì¡°íšŒ) @Test void testJpa() { Optional&lt;Question&gt; oq = this.questionRepository.findById(1); if(oq.isPresent()) { Question q = oq.get(); assertEquals(\"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\", q.getSubject()); } } findByIdÂ ë©”ì„œë“œ Â  (ë‚´ì¥) ë¦¬í„´ íƒ€ì… Â  : Â  Optional ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ null ì¼ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš© Optional í´ë˜ìŠ¤ëŠ” null ê°’ì„ ìœ ì—°í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš© í•´ë‹¹ í´ë˜ìŠ¤ì˜ isPresent()ë¡œ ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤ ì¡´ì¬í•œë‹¤ë©´, get()ìœ¼ë¡œ ì‹¤ì œ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. findBySubjectÂ ë©”ì„œë“œ Â  (ë‚´ì¥ X) package com.mysite.myapp; import org.springframework.data.jpa.repository.JpaRepository; import org.springframework.stereotype.Repository; @Repository public interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; { Question findBySubject(String subject); } @Test void testJpa() { Question q = this.questionRepository.findBySubject(\"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\"); assertEquals(1, q.getId()); } ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë©”ì„œë“œê°€ ì•„ë‹ˆë‹¤. â‡’ Â  Repository ì¸í„°í˜ì´ìŠ¤ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ JPAì—ì„œ Repositoryì˜ ë©”ì„œë“œëª…ì„ ë¶„ì„í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ë§Œë“¤ê³  ì‹¤í–‰í•œë‹¤. findBy Â  + Â  ì—”í‹°í‹°ì˜ ì†ì„±ëª… application.properties # JPA spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect spring.jpa.hibernate.ddl-auto=update spring.jpa.properties.hibernate.format_sql=true spring.jpa.properties.hibernate.show_sql=true ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì–´ë–¤ ì¿¼ë¦¬ë¬¸ì´ ì‹¤í–‰ë˜ëŠ”ì§€ Console ë¡œê·¸ì—ì„œ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ë‹¤. findBySubjectAndContentÂ ë©”ì„œë“œ Â  (ë‚´ì¥ X) @Repository public interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; { Question findBySubject(String subject); Question findBySubjectAndContent(String subject, String content); } @Test void testJpa() { Question q = this.questionRepository.findBySubjectAndContent( \"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\", \"sbbì— ëŒ€í•´ì„œ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤.\"); assertEquals(1, q.getId()); } ë§ˆì°¬ê°€ì§€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë©”ì„œë“œê°€ ì•„ë‹ˆë‹¤. SQLë¬¸ì˜ Andë¥¼ ë©”ì„œë“œëª…ì— ì¶”ê°€í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆë‹¤. SQL ì—°ì‚°ìì™€ Repositoryì˜ ë©”ì„œë“œ https://docs.spring.io/spring-data/jpa/reference/jpa/query-methods.html And findBySubjectAndContent(String subject, String content) Or findBySubjectOrContent(String subject, String content) Between findByCreateDateBetween(LocalDateTime fromDate, LocalDateTime toDate) LessThan (ì‘ì€) findByIdLessThan(Integer id) GreaterThanEqual (í¬ê±°ë‚˜ ê°™ì€) findByIdGreaterThanEqual(Integer id) Like findBySubjectLike(String subject) In (ì£¼ì–´ì§„ ë°°ì—´ì— í¬í•¨ë˜ëŠ” ì• ë“¤ë§Œ) findBySubjectIn(String[] subjects) OrderBy findBySubjectOrderByCreateDateAsc(String subject) findBySubjectLike(String subject) public interface QuestionRepository extends JpaRepository&lt;Question, Integer&gt; { Question findBySubject(String subject); Question findBySubjectAndContent(String subject, String content); List&lt;Question&gt; findBySubjectLike(String subject); } @Test void testJpa() { List&lt;Question&gt; qList = this.questionRepository.findBySubjectLike(\"sbb%\"); Question q = qList.get(0); assertEquals(\"sbbê°€ ë¬´ì—‡ì¸ê°€ìš”?\", q.getSubject()); } sbb% Â  : Â  â€˜sbbâ€™ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ %sbb Â  : Â  â€˜sbbâ€™ë¡œ ëë‚˜ëŠ” ë¬¸ìì—´ %sbb% Â  : Â  â€˜sbbâ€™ë¥¼ í¬í•¨í•˜ëŠ” ë¬¸ìì—´ assertTrue() íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°’ì´ trueì¸ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒ. Repository.count() í…Œì´ë¸” í–‰ì˜ ì „ì²´ ê°œìˆ˜ë¥¼ ë°˜í™˜ ë‹µë³€ ë°ì´í„°ë¥¼ í†µí•´ ì§ˆë¬¸ ë°ì´í„° ì°¾ê¸° vs ì§ˆë¬¸ ë°ì´í„°ë¥¼ í†µí•´ ë‹µë³€ ë°ì´í„° ì°¾ê¸° a.getQuestion() aëŠ” ë‹µë³€ ê°ì²´ ë°˜ëŒ€ì˜ ê²½ìš°, @Test void testJpa() { Optional&lt;Question&gt; oq = this.questionRepository.findById(2); assertTrue(oq.isPresent()); Question q = oq.get(); List&lt;Answer&gt; answerList = q.getAnswerList(); assertEquals(1, answerList.size()); assertEquals(\"ë„¤ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.\", answerList.get(0).getContent()); } ì˜¤ë¥˜ ë°œìƒ ë¨¼ì € Idê°€ 2ì¸ ì§ˆë¬¸ì„ ì¡°íšŒí•˜ê³  ì´í›„ì— í•´ë‹¹ ì§ˆë¬¸ì˜ ë‹µë³€ì„ ê°€ì ¸ì˜¨ë‹¤. ê·¸ëŸ¬ë‚˜, Idë¡œ ì§ˆë¬¸ì„ ê°€ì ¸ì˜¤ê³  ë‚˜ì„œ DB ì„¸ì…˜ì´ ëŠì–´ì§€ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. DB ì„¸ì…˜ ìŠ¤í”¼ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ê°„ì˜ ì—°ê²° ì´ë ‡ê²Œ ë°ì´í„°ë¥¼ í•„ìš”í•œ ì‹œì ì— ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì„ ì§€ì—°(Lazy) ë°©ì‹ì´ë¼ í•œë‹¤. ë°˜ëŒ€ë¡œ ì¡°íšŒí•  ë•Œ ë¯¸ë¦¬ answer ë¦¬ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì€ ì¦‰ì‹œ(Eager) ë°©ì‹ì´ë¼ í•œë‹¤. @OneToMany,Â @ManyToOneÂ ì• ë„ˆí…Œì´ì…˜ì˜ ì˜µì…˜ìœ¼ë¡œÂ fetch=FetchType.LAZYÂ ë˜ëŠ”Â fetch=FetchType.EAGERì²˜ëŸ¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ JPA í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ ì‹œ DB ì„¸ì…˜ì€ ì¢…ë£Œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” @Transactional ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. ì„œë¹„ìŠ¤ (Service) ì„œë¹„ìŠ¤ê°€ í•„ìš”í•œ ì´ìœ  ServiceëŠ” ìŠ¤í”„ë§ì—ì„œ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‘ì„±í•˜ëŠ” í´ë˜ìŠ¤ ë³µì¡í•œ ì½”ë“œë¥¼ ëª¨ë“ˆí™”í•  ìˆ˜ ìˆë‹¤ Entity ê°ì²´ë¥¼ DTO ê°ì²´ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤. ì™œëƒí•˜ë©´ ì—”í‹°í‹° ê°ì²´ì—ëŠ” ë¯¼ê°í•œ ë°ì´í„°ê°€ í¬í•¨ë  ìˆ˜ ìˆëŠ”ë° ë¯¼ê°í•œ ë°ì´í„°ê°€ ë…¸ì¶œë  ìœ„í—˜ì´ ìˆê¸° ë•Œë¬¸ Thymeleaf questoin_list.html &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;ì œëª©&lt;/th&gt; &lt;th&gt;ì‘ì„±ì¼ì‹œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr th:each=\"question : ${questionList}\"&gt; &lt;td th:text=\"${question.subject}\"&gt;&lt;/td&gt; &lt;td th:text=\"${question.createDate}\"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; th:ëŠ” íƒ€ì„ë¦¬í”„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì†ì„±ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. &lt;tr th:each=\"question : ${questionList}\"&gt; QuestionControllerì˜ list ë©”ì„œë“œì—ì„œ ì¡°íšŒí•œ ì§ˆë¬¸ ëª©ë¡ ë°ì´í„°ë¥¼ â€˜questionListâ€™ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ Model ê°ì²´ì— ì €ì¥ @GetMapping(\"/question/list\") public String list(Model model) { List&lt;Question&gt; questionList = questionService.getQuestionList(); model.addAttribute(\"questionList\", questionList); return \"domain/question/question_list\"; } íƒ€ì„ë¦¬í”„ëŠ” Model ê°ì²´ì— ì €ì¥í•œ questionListë¥¼Â ${questionList}ë¡œ ì½ì„ ìˆ˜ ìˆë‹¤ &lt;td th:text=\"${question.subject}\"&gt;&lt;/td&gt; Thymeleaf ë¬¸ë²• ë¶„ê¸°ë¬¸ (if ë“±) th:if=\"${question != null}â€ ë°˜ë³µë¬¸ (for ë“±) th:each=\"question : ${questionList}â€ th:each=\"question, loop : ${questionList}â€ loop.index: ë£¨í”„ì˜ ìˆœì„œ(ë£¨í”„ì˜ ë°˜ë³µ ìˆœì„œ, 0ë¶€í„° 1ì”© ì¦ê°€) loop.count: ë£¨í”„ì˜ ìˆœì„œ(ë£¨í”„ì˜ ë°˜ë³µ ìˆœì„œ, 1ë¶€í„° 1ì”© ì¦ê°€) loop.size: ë°˜ë³µ ê°ì²´ì˜ ìš”ì†Œ ê°œìˆ˜(ì˜ˆë¥¼ ë“¤ì–´ questionListì˜ ìš”ì†Œ ê°œìˆ˜) loop.first: ë£¨í”„ì˜ ì²« ë²ˆì§¸ ìˆœì„œì¸ ê²½ìš° true loop.last: ë£¨í”„ì˜ ë§ˆì§€ë§‰ ìˆœì„œì¸ ê²½ìš° true loop.odd: ë£¨í”„ì˜ í™€ìˆ˜ ë²ˆì§¸ ìˆœì„œì¸ ê²½ìš° true loop.even: ë£¨í”„ì˜ ì§ìˆ˜ ë²ˆì§¸ ìˆœì„œì¸ ê²½ìš° true loop.current: í˜„ì¬ ëŒ€ì…ëœ ê°ì²´(ì—¬ê¸°ì„œëŠ” questionê³¼ ë™ì¼) í…ìŠ¤íŠ¸ th:text=\"${question.subject}â€ í…ìŠ¤íŠ¸ëŠ”Â th:textÂ ì†ì„± ëŒ€ì‹ ì— ë‹¤ìŒì²˜ëŸ¼ ëŒ€ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ì§ì ‘ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤ &lt;tr th:each=\"question : ${questionList}\"&gt; &lt;td&gt;[[${question.subject}]]&lt;/td&gt; &lt;td&gt;[[${question.createDate}]]&lt;/td&gt; &lt;/tr&gt; ë§í¬ â˜…```java&lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;ì œëª©&lt;/th&gt; &lt;th&gt;ì‘ì„±ì¼ì‹œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr th:each=\"question : ${questionList}\"&gt; &lt;td th:text=\"${question.subject}\"&gt;&lt;/td&gt; &lt;td th:text=\"${question.createDate}\"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;``````java&lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;ì œëª©&lt;/th&gt; &lt;th&gt;ì‘ì„±ì¼ì‹œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr th:each=\"question, index : ${questionList}\"&gt; &lt;td&gt; &lt;a th:href=\"@{|/question/detail/${question.id}|}\" th:text=\"${question.subject}\"&gt;&lt;/a&gt; &lt;/td&gt; &lt;td th:text=\"${question.createDate}\"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;```- ë§í¬ì˜ URLì€ &lt;span class=\"back\"&gt;ë°˜ë“œì‹œÂ `@{`ì™€Â `}`Â ë¬¸ì ì‚¬ì´ì— ì…ë ¥&lt;/span&gt;í•´ì•¼ í•œë‹¤- &lt;span class=\"red line\"&gt;ì¢Œìš°ì—Â `|`Â ì—†ì´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜&lt;/span&gt; íƒ€ì„ë¦¬í”„ì—ì„œëŠ”Â `/question/detail/`ê³¼ ê°™ì€ ë¬¸ìì—´ê³¼Â `${question.id}`ì™€ ê°™ì€ ìë°” ê°ì²´ì˜ ê°’ì„ ë”í•  ë•ŒëŠ” ë°˜ë“œì‹œ ë‹¤ìŒì²˜ëŸ¼Â `|`ë¡œ ì¢Œìš°ë¥¼ ê°ì‹¸ ì£¼ì–´ì•¼ í•œë‹¤ `&lt;a th:href=\"@{|/question/detail/${question.id}|}\" th:text=\"${question.subject}\"&gt;&lt;/a&gt;` ìƒì„¸ í˜ì´ì§€ ì˜ˆì‹œ &lt;h1 th:text=\"${question.subject}\"&gt;&lt;/h1&gt; &lt;div th:text=\"${question.content}\"&gt;&lt;/div&gt; ìƒì„¸ í˜ì´ì§€ ë§Œë“¤ê¸°public class QuestionService { (... ìƒëµ ...) public Question getQuestion(Integer id) { Optional&lt;Question&gt; question = this.questionRepository.findById(id); if (question.isPresent()) { return question.get(); } else { throw new DataNotFoundException(\"question not found\"); } }} DataNotFoundException.java import org.springframework.http.HttpStatus; import org.springframework.web.bind.annotation.ResponseStatus; @ResponseStatus(value = HttpStatus.NOT_FOUND, reason = \"entity not found\") public class DataNotFoundException extends RuntimeException { private static final long serialVersionUID = 1L; public DataNotFoundException(String message) { super(message); } } íŠ¹ì • ì—”í‹°í‹° ë˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ë°œìƒì‹œí‚¤ëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤ ì´ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì„¤ì •ëœ HTTP ìƒíƒœ ì½”ë“œ(HttpStatus.NOT_FOUND)ì™€ ì´ìœ (\"entity not found\")ë¥¼ í¬í•¨í•œ ì‘ë‹µì„ ìƒì„±í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜ 404 ì˜¤ë¥˜(NOT_FOUND)ë¥¼ ë°˜í™˜ RuntimeExceptionÂ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ëŠ” ê²ƒì€ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜ @ResponseStatus ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë˜ì ¸ì§„ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ë©´ì„œ HTTP ì‘ë‹µ ìƒíƒœ ì½”ë“œë¥¼ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš© value ì†ì„± Â  : Â  ë°˜í™˜í•  HTTP ìƒíƒœ ì½”ë“œë¥¼ ì„¤ì • reason ì†ì„± Â  : Â  ì‘ë‹µì— í¬í•¨ë  ë©”ì‹œì§€ë¥¼ ì„¤ì • ì…ë ¥ í¼ ë§Œë“¤ê¸°&lt;h1 th:text=\"${question.subject}\"&gt;&lt;/h1&gt;&lt;div th:text=\"${question.content}\"&gt;&lt;/div&gt;&lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\"&gt; &lt;textarea name=\"content\" id=\"content\" rows=\"15\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\"&gt;&lt;/form&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\"&gt; í•´ë‹¹ URLë¡œ POST ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒ submit ë²„íŠ¼ ìƒì„± AnswerController, AnswerService @Controller @RequiredArgsConstructor @RequestMapping(\"/answer\") public class AnswerController { private final QuestionService questionService; private final AnswerService answerService; @PostMapping(\"create/{id}\") public String createAnswer( @PathVariable Integer id, @RequestParam String content, Model model) { Question question = questionService.getQuestion(id); answerService.create(question, content); return String.format(\"redirect:/question/detail/%s\", id); } } @Service @RequiredArgsConstructor public class AnswerService { private final AnswerRepository answerRepository; public void create(Question question, String content) { Answer answer = new Answer(); answer.setContent(content); answer.setCreateDate(LocalDateTime.now()); answer.setQuestion(question); this.answerRepository.save(answer); } } ë‹µë³€ í‘œì‹œ UI ìˆ˜ì • question_detail.html &lt;h1 th:text=\"${question.subject}\"&gt;&lt;/h1&gt; &lt;div th:text=\"${question.content}\"&gt;&lt;/div&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\"&gt; &lt;textarea name=\"content\" id=\"content\" rows=\"15\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\"&gt; &lt;/form&gt; &lt;h1 th:text=\"${question.subject}\"&gt;&lt;/h1&gt; &lt;div th:text=\"${question.content}\"&gt;&lt;/div&gt; &lt;h5 th:text=\"|${#lists.size(question.answerList)}ê°œì˜ ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤.|\"&gt;&lt;/h5&gt; &lt;div&gt; &lt;ul&gt; &lt;li th:each=\"answer : ${question.answerList}\" th:text=\"${answer.content}\"&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\"&gt; &lt;textarea name=\"content\" id=\"content\" rows=\"15\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\"&gt; &lt;/form&gt; ì¶”ê°€ ë¶€ë¶„ (1) &lt;div&gt; &lt;ul&gt; &lt;li th:each=\"answer : ${question.answerList}\" th:text=\"${answer.content}\"&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; th:eachë¡œ ë°˜ë³µë¬¸ì„ ëŒë©° answerë¥¼ êº¼ë‚´ì„œ í•´ë‹¹ ê°’ì—ì„œ contentë¥¼ ë½‘ì•„ì„œ ì¶œë ¥í•œë‹¤. ì¶”ê°€ ë¶€ë¶„ (2) &lt;h5 th:text=\"|${#lists.size(question.answerList)}ê°œì˜ ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤.|\"&gt;&lt;/h5&gt; #lists.size(ê°ì²´) íƒ€ì„ë¦¬í”„ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, í•´ë‹¹ ê°ì²´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜ â˜… í™”ë©´ ê¾¸ë¯¸ê¸° /resources/static/style.css textarea { width:100%; } input[type=submit] { margin-top:10px; } question_detail.html &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/style.css}\"&gt; ìŠ¤íƒ€ì¼ì‹œíŠ¸ íŒŒì¼ì„ ìƒì„¸ í˜ì´ì§€ í…œí”Œë¦¿ì— ì ìš© static ë””ë ‰í„°ë¦¬ì— style.css íŒŒì¼ì´ ìœ„ì¹˜í•˜ì§€ë§ŒÂ /static/style.cssÂ ëŒ€ì‹ Â /style.cssë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤. â‡’ Â  ì™œëƒí•˜ë©´ static ë””ë ‰í„°ë¦¬ê°€ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ì´ë¯€ë¡œ ì ì„ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ ë¶€íŠ¸ìŠ¤íŠ¸ë© í™œìš©í•˜ê¸° ë¶€íŠ¸ìŠ¤íŠ¸ë© ë‹¤ìš´ë¡œë“œ https://getbootstrap.com/docs/5.3/getting-started/download/ Compiled CSS and JSì˜ Download bootstrap.min.cssÂ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ ìŠ¤íƒœí‹± ë””ë ‰í„°ë¦¬ì— ì €ì¥ ê¸°ì¡´ì˜ Thymeleaf í…œí”Œë¦¿ì— ë¶€íŠ¸ìŠ¤íŠ¸ë© ì ìš©í•˜ê¸° question_list.html &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/bootstrap.min.css}\"&gt; &lt;div class=\"container my-3\"&gt; &lt;table class=\"table\"&gt; &lt;thead class=\"table-dark\"&gt; &lt;tr&gt; &lt;th&gt;ë²ˆí˜¸&lt;/th&gt; &lt;th&gt;ì œëª©&lt;/th&gt; &lt;th&gt;ì‘ì„±ì¼ì‹œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr th:each=\"question, loop : ${questionList}\"&gt; &lt;td th:text=\"${loop.count}\"&gt;&lt;/td&gt; &lt;td&gt; &lt;a th:href=\"@{|/question/detail/${question.id}|}\" th:text=\"${question.subject}\"&gt;&lt;/a&gt; &lt;/td&gt; &lt;td th:text=\"${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; í…Œì´ë¸” í•­ëª©ìœ¼ë¡œ â€˜ë²ˆí˜¸â€™ë¥¼ ì¶”ê°€í–ˆë‹¤. ë²ˆí˜¸ëŠ”Â loop.countë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œì‹œ loop.countëŠ”Â questionListì˜ í•­ëª©ì„Â th:eachë¡œ ë°˜ë³µí•  ë•Œ í˜„ì¬ì˜ ìˆœì„œ ë‚ ì§œë¥¼ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥í•˜ê¸° ìœ„í•´ íƒ€ì„ë¦¬í”„ì˜Â #temporals.formatÂ ê¸°ëŠ¥ì„ ì‚¬ìš© #temporals.formatì€Â #temporals.format(ë‚ ì§œ ê°ì²´, ë‚ ì§œ í¬ë§·)ì™€ ê°™ì´ ì‚¬ìš© class=\"container my-3\",Â class=\"table\",Â class=\"table-darkÂ ë“±ì€Â bootstrap.min.cssì— ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆëŠ” í´ë˜ìŠ¤ë“¤ë¡œ ê°„ê²©ì„ ì¡°ì •í•˜ê³  í…Œì´ë¸”ì— ìŠ¤íƒ€ì¼ì„ ì§€ì •í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš© question_detail.html &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/bootstrap.min.css}\"&gt; &lt;div class=\"container my-3\"&gt; &lt;!-- ì§ˆë¬¸ --&gt; &lt;h2 class=\"border-bottom py-2\" th:text=\"${question.subject}\"&gt;&lt;/h2&gt; &lt;div class=\"card my-3\"&gt; &lt;div class=\"card-body\"&gt; &lt;div class=\"card-text\" style=\"white-space: pre-line;\" th:text=\"${question.content}\"&gt;&lt;/div&gt; &lt;div class=\"d-flex justify-content-end\"&gt; &lt;div class=\"badge bg-light text-dark p-2 text-start\"&gt; &lt;div th:text=\"${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- ë‹µë³€ì˜ ê°¯ìˆ˜ í‘œì‹œ --&gt; &lt;h5 class=\"border-bottom my-3 py-2\" th:text=\"|${#lists.size(question.answerList)}ê°œì˜ ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤.|\"&gt;&lt;/h5&gt; &lt;!-- ë‹µë³€ ë°˜ë³µ ì‹œì‘ --&gt; &lt;div class=\"card my-3\" th:each=\"answer : ${question.answerList}\"&gt; &lt;div class=\"card-body\"&gt; &lt;div class=\"card-text\" style=\"white-space: pre-line;\" th:text=\"${answer.content}\"&gt;&lt;/div&gt; &lt;div class=\"d-flex justify-content-end\"&gt; &lt;div class=\"badge bg-light text-dark p-2 text-start\"&gt; &lt;div th:text=\"${#temporals.format(answer.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- ë‹µë³€ ë°˜ë³µ ë --&gt; &lt;!-- ë‹µë³€ ì‘ì„± --&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\" class=\"my-3\"&gt; &lt;textarea name=\"content\" id=\"content\" rows=\"10\" class=\"form-control\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜ card ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš© ì–´ë–¤ ë‚´ìš©ì„ ê·¸ë£¹í™”í•˜ì—¬ ë³´ì—¬ ì¤„ ë•Œ ì‚¬ìš© ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ ì„¤ëª… card,Â card-body,Â card-text card ì»´í¬ë„ŒíŠ¸ë¥¼ ì ìš©í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì´ë‹¤. badge badge ì»´í¬ë„ŒíŠ¸ë¥¼ ì ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. form-control í…ìŠ¤íŠ¸ ì°½ì— form ì»´í¬ë„ŒíŠ¸ë¥¼ ì ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. border-bottom ì•„ë˜ ë°©í–¥ í…Œë‘ë¦¬ ì„ ì„ ë§Œë“œëŠ” í´ë˜ìŠ¤ì´ë‹¤. my-3 ìƒí•˜ ë§ˆì§„ê°’ìœ¼ë¡œ 3ì„ ì§€ì •í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. py-2 ìƒí•˜ íŒ¨ë”©ê°’ìœ¼ë¡œ 2ë¥¼ ì§€ì •í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. p-2 ìƒí•˜ì¢Œìš° íŒ¨ë”©ê°’ìœ¼ë¡œ 2ë¥¼ ì§€ì •í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. d-flex justify-content-end HTML ìš”ì†Œë¥¼ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. bg-light ì—°íšŒìƒ‰ìœ¼ë¡œ ë°°ê²½ì„ ì§€ì •í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. text-dark ê¸€ììƒ‰ì„ ê²€ì€ìƒ‰ìœ¼ë¡œ ì§€ì •í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. text-start ê¸€ìë¥¼ ì™¼ìª½ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. btn btn-primary ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì ìš©í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. style=\"white-space: pre-line;\"ì€ CSS ìŠ¤íƒ€ì¼ ì†ì„±ìœ¼ë¡œ, ì‚¬ìš©ìê°€ ì…ë ¥í•œ ëŒ€ë¡œ ì¤„ ë°”ê¿ˆì´ ì ìš© í‘œì¤€ HTML êµ¬ì¡° ì§€ê¸ˆê¹Œì§€ì˜ .html íŒŒì¼ë“¤ì€ í‘œì¤€ HTML êµ¬ì¡°ë¡œ ì‘ì„±ë˜ì§€ ì•Šì•˜ë‹¤. í‘œì¤€ HTML êµ¬ì¡° &lt;!doctype html&gt; &lt;html lang=\"ko\"&gt; &lt;head&gt; &lt;!-- Required meta tags --&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt; &lt;!-- Bootstrap CSS --&gt; &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/bootstrap.min.css}\"&gt; &lt;!-- sbb CSS --&gt; &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/style.css}\"&gt; &lt;title&gt;Hello, sbb!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; (... ìƒëµ ...) &lt;/body&gt; &lt;/html&gt; í‘œì¤€ HTML ë¬¸ì„œì˜ êµ¬ì¡°ëŠ” html,Â head,Â bodyÂ ìš”ì†Œê°€ ìˆì–´ì•¼ í•˜ë©°, CSS íŒŒì¼ì€Â &lt;head&gt;Â íƒœê·¸ ì•ˆì— ë§í¬ë˜ì–´ì•¼ í•œë‹¤. ë˜í•œÂ &lt;head&gt;Â íƒœê·¸ ì•ˆì—ëŠ”Â meta,Â titleÂ ìš”ì†Œ ë“±ì´ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤ í…œí”Œë¦¿ì— í‘œì¤€ HTML êµ¬ì¡° ì ìš©í•˜ê¸° ê°ê°ì˜ .html íŒŒì¼ ëª¨ë‘ì— ì¤‘ë³µë˜ëŠ” ë‚´ìš©ì´ ì¡´ì¬ â‡’ Â  í…œí”Œë¦¿ ìƒì† ì‚¬ìš© template/domain/layout.html &lt;!doctype html&gt; &lt;html lang=\"ko\"&gt; &lt;head&gt; &lt;!-- Required meta tags --&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt; &lt;!-- Bootstrap CSS --&gt; &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/bootstrap.min.css}\"&gt; &lt;!-- sbb CSS --&gt; &lt;link rel=\"stylesheet\" type=\"text/css\" th:href=\"@{/style.css}\"&gt; &lt;title&gt;Hello, sbb!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- ê¸°ë³¸ í…œí”Œë¦¿ ì•ˆì— ì‚½ì…ë  ë‚´ìš© Start --&gt; &lt;th:block layout:fragment=\"content\"&gt;&lt;/th:block&gt; &lt;!-- ê¸°ë³¸ í…œí”Œë¦¿ ì•ˆì— ì‚½ì…ë  ë‚´ìš© End --&gt; &lt;/body&gt; &lt;/html&gt; &lt;th:block layout:fragment=\"content\"&gt;&lt;/th:block&gt; layout.htmlì„ ìƒì†í•œ í…œí”Œë¦¿ì—ì„œ ê°œë³„ì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì˜ì—­ ìƒì† ë°›ê³  ì´ ì˜ì—­ë§Œ ìˆ˜ì •í•´ë„ í‘œì¤€ HTML ë¬¸ì„œê°€ ëœë‹¤. template/domain/question/question_list.html Â  / Â  question_detail &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container my-3\"&gt; &lt;table class=\"table\"&gt; &lt;thead class=\"table-dark\"&gt; &lt;tr&gt; &lt;th&gt;ë²ˆí˜¸&lt;/th&gt; &lt;th&gt;ì œëª©&lt;/th&gt; &lt;th&gt;ì‘ì„±ì¼ì‹œ&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr th:each=\"question, loop : ${questionList}\"&gt; &lt;td th:text=\"${loop.count}\"&gt;&lt;/td&gt; &lt;td&gt; &lt;a th:href=\"@{|/question/detail/${question.id}|}\" th:text=\"${question.subject}\"&gt;&lt;/a&gt; &lt;/td&gt; &lt;td th:text=\"${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;/html&gt; &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container my-3\"&gt; &lt;!-- ì§ˆë¬¸ --&gt; &lt;h2 class=\"border-bottom py-2\" th:text=\"${question.subject}\"&gt;&lt;/h2&gt; &lt;div class=\"card my-3\"&gt; &lt;div class=\"card-body\"&gt; &lt;div class=\"card-text\" style=\"white-space: pre-line;\" th:text=\"${question.content}\"&gt;&lt;/div&gt; &lt;div class=\"d-flex justify-content-end\"&gt; &lt;div class=\"badge bg-light text-dark p-2 text-start\"&gt; &lt;div th:text=\"${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- ë‹µë³€ì˜ ê°¯ìˆ˜ í‘œì‹œ --&gt; &lt;h5 class=\"border-bottom my-3 py-2\" th:text=\"|${#lists.size(question.answerList)}ê°œì˜ ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤.|\"&gt;&lt;/h5&gt; &lt;!-- ë‹µë³€ ë°˜ë³µ ì‹œì‘ --&gt; &lt;div class=\"card my-3\" th:each=\"answer : ${question.answerList}\"&gt; &lt;div class=\"card-body\"&gt; &lt;div class=\"card-text\" style=\"white-space: pre-line;\" th:text=\"${answer.content}\"&gt;&lt;/div&gt; &lt;div class=\"d-flex justify-content-end\"&gt; &lt;div class=\"badge bg-light text-dark p-2 text-start\"&gt; &lt;div th:text=\"${#temporals.format(answer.createDate, 'yyyy-MM-dd HH:mm')}\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- ë‹µë³€ ë°˜ë³µ ë --&gt; &lt;!-- ë‹µë³€ ì‘ì„± --&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" method=\"post\" class=\"my-3\"&gt; &lt;textarea name=\"content\" id=\"content\" rows=\"10\" class=\"form-control\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; &lt;html layout:decorate=\"~{layout}\"&gt; íƒ€ì„ë¦¬í”„ì˜ layout:decorate í…œí”Œë¦¿ì˜ ë ˆì´ì•„ì›ƒ(ë¶€ëª¨ í…œí”Œë¦¿, ì—¬ê¸°ì„œëŠ”Â layout.html)ìœ¼ë¡œ ì‚¬ìš©í•  í…œí”Œë¦¿ì„ ì„¤ì • ì†ì„±ê°’ì¸Â ~{layout}ì´ ë°”ë¡œÂ layout.htmlÂ íŒŒì¼ì„ ì˜ë¯¸ &lt;div layout:fragment=\"content\" class=\"container my-3\"&gt; ì´ &lt;div&gt; ë‚´ë¶€ì˜ ê²ƒì´ ì´ë™í•˜ëŠ” ê²ƒì´ë‹¤. ë¶€ëª¨ í…œí”Œë¦¿ì¸Â layout.html &lt;th:block layout:fragment=\"content\"&gt;&lt;/th:block&gt; ë¶€ëª¨ í…œí”Œë¦¿ì˜Â th:blockÂ ìš”ì†Œì˜ ë‚´ìš©ì´ ìì‹ í…œí”Œë¦¿ì˜Â divÂ ìš”ì†Œì˜ ë‚´ìš©ìœ¼ë¡œ êµì²´ëœë‹¤ ì§ˆë¬¸ ë“±ë¡ ë²„íŠ¼ ë§Œë“¤ê¸° question_list.html &lt;a th:href=\"@{/question/create}\" class=\"btn btn-primary\"&gt;ì§ˆë¬¸ ë“±ë¡í•˜ê¸°&lt;/a&gt; ì´ 1ì¤„ì„ ì¶”ê°€í•œë‹¤. URL ë§¤í•‘í•˜ê¸° Â  (/question/create) QuestionController @GetMapping(\"/create\") public String questionCreate() { return \"question_form\"; } question_form.html &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container\"&gt; &lt;h5 class=\"my-3 border-bottom pb-2\"&gt;ì§ˆë¬¸ë“±ë¡&lt;/h5&gt; &lt;form th:action=\"@{/question/create}\" method=\"post\"&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"subject\" class=\"form-label\"&gt;ì œëª©&lt;/label&gt; &lt;input type=\"text\" name=\"subject\" id=\"subject\" class=\"form-control\"&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"content\" class=\"form-label\"&gt;ë‚´ìš©&lt;/label&gt; &lt;textarea name=\"content\" id=\"content\" class=\"form-control\" rows=\"10\"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;input type=\"submit\" value=\"ì €ì¥í•˜ê¸°\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; ê·¸ëŸ¬ë‚˜ ì €ì¥í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 405 ì˜¤ë¥˜ ë°œìƒ â€˜Method Not Allowedâ€™ë¼ëŠ” ì˜ë¯¸ë¡œ,Â /question/createÂ URLì„ POST ë°©ì‹ìœ¼ë¡œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒì„ ë‚˜íƒ€ë‚¸ë‹¤ â‡’ Â  POST ì²˜ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. @PostMapping(\"/create\") public String questionCreate( @RequestParam(value=\"subject\") String subject, @RequestParam(value=\"content\") String content) { return \"redirect:/question/list\"; } ë¬¸ì œ ì§ˆë¬¸ì„ ë“±ë¡í•  ë•Œ ë¹„ì–´ ìˆëŠ” ê°’ìœ¼ë¡œë„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ â‡’ Â  Form í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì œì–´í•œë‹¤. URL ë£¨íŠ¸ URL ì„œë²„ì˜ URLì„ ìš”ì²­í•  ë•Œ ë„ë©”ì¸ëª… ë’¤ì— ì•„ë¬´ëŸ° ì£¼ì†Œë„ ë§ë¶™ì´ì§€ ì•ŠëŠ” URLì„ ë£¨íŠ¸ URL [ex] http://localhost:8080 google.com MainController @Controller public class MainController { @GetMapping(\"/\") public String index() { return \"redirect:/question/list\"; } } ë£¨íŠ¸ URLë¡œ ë“¤ì–´ì˜¤ë©´ /question/listë¡œ ë³´ë‚´ëŠ” ê²ƒ ë¦¬ë‹¤ì´ë ‰íŠ¸ë€ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•˜ë©´ ìƒˆë¡œìš´ URLë¡œ ì „ì†¡í•˜ëŠ” ê²ƒ Form í´ë˜ìŠ¤Spring Boot Validation ë¼ì´ë¸ŒëŸ¬ë¦¬ build.gradle dependencies { (... ìƒëµ ...) implementation 'org.springframework.boot:spring-boot-starter-validation' } Spring Boot Validation ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê¸°ëŠ¥ í•­ëª© ì„¤ëª… @Size ë¬¸ì ê¸¸ì´ë¥¼ ì œí•œí•œë‹¤. @NotNull Nullì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. @NotEmpty Null ë˜ëŠ” ë¹ˆ ë¬¸ìì—´(â€œâ€œ)ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. @Past ê³¼ê±° ë‚ ì§œë§Œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. @Future ë¯¸ë˜ ë‚ ì§œë§Œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. @FutureOrPresent ë¯¸ë˜ ë˜ëŠ” ì˜¤ëŠ˜ ë‚ ì§œë§Œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. @Max ìµœëŒ“ê°’ ì´í•˜ì˜ ê°’ë§Œ ì…ë ¥í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•œë‹¤. @Min ìµœì†Ÿê°’ ì´ìƒì˜ ê°’ë§Œ ì…ë ¥í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•œë‹¤. @Pattern ì…ë ¥ê°’ì„ ì •ê·œì‹ íŒ¨í„´ìœ¼ë¡œ ê²€ì¦í•œë‹¤. ë³´ë‹¤ ë§ì€ ê¸°ëŠ¥(https://beanvalidation.org/) Form í´ë˜ìŠ¤ ìƒì„± /question/QuestionForm.java import jakarta.validation.constraints.NotEmpty; import jakarta.validation.constraints.Size; import lombok.Getter; import lombok.Setter; @Getter @Setter public class QuestionForm { @NotEmpty(message=\"ì œëª©ì€ í•„ìˆ˜í•­ëª©ì…ë‹ˆë‹¤.\") @Size(max=200) private String subject; @NotEmpty(message=\"ë‚´ìš©ì€ í•„ìˆ˜í•­ëª©ì…ë‹ˆë‹¤.\") private String content; } @NotEmpty í•´ë‹¹ ê°’ì´ Null ë˜ëŠ” ë¹ˆ ë¬¸ìì—´(â€œâ€œ)ì„ í—ˆìš©í•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸ messageëŠ” ê²€ì¦ì´ ì‹¤íŒ¨í•  ê²½ìš° í™”ë©´ì— í‘œì‹œí•  ì˜¤ë¥˜ ë©”ì‹œì§€ @Size max=200ì€ ìµœëŒ€ ê¸¸ì´ê°€ 200 ë°”ì´íŠ¸(byte)ë¥¼ ë„˜ìœ¼ë©´ ì•ˆ ëœë‹¤ëŠ” ì˜ë¯¸ í¼ í´ë˜ìŠ¤ëŠ” ì…ë ¥ê°’ ê²€ì¦í•  ë•Œë¿ë§Œ ì•„ë‹ˆë¼ ì…ë ¥ í•­ëª©ì„ ë°”ì¸ë”©í•  ë•Œë„ ì‚¬ìš©í•œë‹¤. question_form.htmlÂ í…œí”Œë¦¿ì˜ ì…ë ¥ í•­ëª©ì¸Â subjectì™€Â contentê°€ í¼ í´ë˜ìŠ¤ì˜Â subject,Â contentÂ ì†ì„±ê³¼ ë°”ì¸ë”©ëœë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ì†¡í•˜ê¸° QuestionController.java @PostMapping(\"/create\") public String questionCreate( @Valid QuestionForm questionForm, BindingResult bindingResult) { if (bindingResult.hasErrors()) { return \"domain/question/question_form\"; } questionService.createQuestion(questionForm.getSubject(), questionForm.getContent()); return \"redirect:/question/list\"; } questionCreate()Â ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¥¼Â subject,Â contentÂ ëŒ€ì‹ Â QuestionFormÂ ê°ì²´ë¡œ ë³€ê²½ subject,Â contentÂ í•­ëª©ì„ ì§€ë‹Œ í¼ì´ ì „ì†¡ë˜ë©´Â QuestionFormì˜Â subject,Â contentÂ ì†ì„±ì´ ìë™ìœ¼ë¡œ ë°”ì¸ë”©ëœë‹¤ (ì´ë ‡ê²Œ ì´ë¦„ì´ ë™ì¼í•˜ë©´ í•¨ê»˜ ì—°ê²°ë˜ì–´ ë¬¶ì´ëŠ” ê²ƒì´ ë°”ë¡œ í¼ì˜ ë°”ì¸ë”© ê¸°ëŠ¥ì´ë‹¤) @ValidÂ ì• ë„ˆí…Œì´ì…˜ QuestionFormì˜Â @NotEmpty,Â @SizeÂ ë“±ìœ¼ë¡œ ì„¤ì •í•œ ê²€ì¦ ê¸°ëŠ¥ì´ ë™ì‘í•œë‹¤. BindingResultÂ ë§¤ê°œë³€ìˆ˜ â˜… @ValidÂ ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ ê²€ì¦ì´ ìˆ˜í–‰ëœ ê²°ê³¼ë¥¼ ì˜ë¯¸í•˜ëŠ” ê°ì²´ BindingResultÂ ë§¤ê°œë³€ìˆ˜ëŠ” í•­ìƒÂ @ValidÂ ë§¤ê°œë³€ìˆ˜ ë°”ë¡œ ë’¤ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤ â‡’ Â  ì•„ë‹ˆë¼ë©´ ì…ë ¥ê°’ ê²€ì¦ ì‹¤íŒ¨ ì‹œ 400 ì˜¤ë¥˜ ë°œìƒ questionCreateÂ ë©”ì„œë“œëŠ”Â bindResult.hasErrors()ë¥¼ í˜¸ì¶œ â‡’ Â  ì˜¤ë¥˜ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” ë‹¤ì‹œ ì œëª©ê³¼ ë‚´ìš©ì„ ì‘ì„±í•˜ëŠ” í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ë„ë¡ ì„¤ì • í•˜ì§€ë§ŒÂ QuestionFormì— ì„¤ì •í•œ â€˜ì œëª©ì€ í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.â€™ì™€ ê°™ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. ê²€ì¦ì— ì‹¤íŒ¨í–ˆë‹¤ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ ë³´ì—¬ì£¼ê¸° â­â­ /templates/question_form.html &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container\"&gt; &lt;h5 class=\"my-3 border-bottom pb-2\"&gt;ì§ˆë¬¸ë“±ë¡&lt;/h5&gt; &lt;form th:action=\"@{/question/create}\" th:object=\"${questionForm}\" method=\"post\"&gt; &lt;div class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"subject\" class=\"form-label\"&gt;ì œëª©&lt;/label&gt; &lt;input type=\"text\" name=\"subject\" id=\"subject\" class=\"form-control\"&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"content\" class=\"form-label\"&gt;ë‚´ìš©&lt;/label&gt; &lt;textarea name=\"content\" id=\"content\" class=\"form-control\" rows=\"10\"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;input type=\"submit\" value=\"ì €ì¥í•˜ê¸°\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; ê²€ì¦ì— ì‹¤íŒ¨í•  ê²½ìš° ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í–ˆë‹¤. &lt;form th:action=\"@{/question/create}\" th:object=\"${questionForm}\" method=\"post\"&gt; &lt;div class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; #fields.hasAnyErrors()ê°€ trueë¼ë©´Â QuestionFormÂ ê²€ì¦ì´ ì‹¤íŒ¨í•œ ê²ƒ #fields.allErrors()ì—ëŠ” ì˜¤ë¥˜ì˜ ë‚´ìš©ì´ ë‹´ê²¨ ìˆë‹¤. ë¶€íŠ¸ìŠ¤íŠ¸ë©ì˜Â alert alert-dangerÂ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë¶‰ì€ ìƒ‰ìœ¼ë¡œ í‘œì‹œë˜ë„ë¡ ì„¤ì • ì˜¤ë¥˜ë¥¼ í‘œì‹œí•˜ë ¤ë©´ íƒ€ì„ë¦¬í”„ì˜Â th:objectÂ ì†ì„±ì´ ë°˜ë“œì‹œ í•„ìš” &lt;form&gt;ì˜ ì…ë ¥ í•­ëª©ë“¤ì´ QuestionFormê³¼ ì—°ê²°ëœë‹¤ëŠ” ì ì„ íƒ€ì„ë¦¬í”„ì— ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì˜¤ë¥˜ ë°œìƒ th:objectÂ ì†ì„±ì„ ì¶”ê°€í•œ ê²ƒì— ë”°ë¥¸Â GetMappingìœ¼ë¡œ ë§¤í•‘í•œ ë©”ì„œë“œë„ ë³€ê²½í•´ì•¼ í•œë‹¤. ê¸°ì¡´ì˜ ë©”ì„œë“œ @GetMapping(\"create\") public String create() { return \"domain/question/question_form\"; } QuestionController.java @GetMapping(\"/create\") public String questionCreate(QuestionForm questionForm) { return \"domain/question/question_form\"; } @GetMappingìœ¼ë¡œ ë§¤í•‘í•œÂ questionCreateÂ ë©”ì„œë“œì— ë§¤ê°œë³€ìˆ˜ë¡œÂ QuestionFormÂ ê°ì²´ë¥¼ ì¶”ê°€ ì´ë ‡ê²Œ í•˜ë©´ ì´ì œ GET ë°©ì‹ì—ì„œë„Â question_formÂ í…œí”Œë¦¿ì—Â QuestionFormÂ ê°ì²´ê°€ ì „ë‹¬ëœë‹¤. â‡’ Â  QuestionFormê³¼ ê°™ì´ ë§¤ê°œë³€ìˆ˜ë¡œ ë°”ì¸ë”©í•œ ê°ì²´ëŠ”Â ModelÂ ê°ì²´ë¡œ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ í…œí”Œë¦¿ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¦‰, &lt;form th:object=\"${questionForm}\"&gt;ê°€ ì‚¬ìš©ëœ ê²½ìš°, GET ìš”ì²­ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë Œë”ë§í•  ë•Œë„ í¼ ê°ì²´(questionForm)ê°€ í•„ìš”í•˜ë‹¤. â­ th:objectëŠ” HTML í¼ê³¼ ì„œë²„ì˜ í¼ ê°ì²´ë¥¼ ë§¤í•‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë˜ ë‹¤ë¥¸ ì˜¤ë¥˜ : ì•Œë§ì€ ê°’ë„ ì˜¤ë¥˜ ë°œìƒ ì‹œ ê°’ì´ ì‚¬ë¼ì§ ì œëª©ì„ ì…ë ¥í•˜ê³  ë‚´ìš©ì„ ë¹„ì›Œ ë‘” ì±„ë¡œ [ì €ì¥í•˜ê¸°] ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚¨ê³¼ ë™ì‹œì— ì´ë¯¸ ì…ë ¥í•œ ì œëª©ë„ ì‚¬ë¼ì§„ë‹¤ question_formhtml &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container\"&gt; &lt;h5 class=\"my-3 border-bottom pb-2\"&gt;ì§ˆë¬¸ë“±ë¡&lt;/h5&gt; &lt;form th:action=\"@{/question/create}\" th:object=\"${questionForm}\" method=\"post\"&gt; &lt;div class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"subject\" class=\"form-label\"&gt;ì œëª©&lt;/label&gt; &lt;input type=\"text\" th:field=\"*{subject}\" class=\"form-control\"&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"content\" class=\"form-label\"&gt;ë‚´ìš©&lt;/label&gt; &lt;textarea th:field=\"*{content}\" class=\"form-control\" rows=\"10\"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;input type=\"submit\" value=\"ì €ì¥í•˜ê¸°\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; *name*=\"subject\"ê³¼ *id*=\"subject\"ë¥¼ ì œì™¸í•˜ê³  th:field=\"*{subject}\"ë¥¼ ì„¤ì • ì´ë¯¸ ì…ë ¥í•œ ê°’ì´ ìœ ì§€ë˜ë„ë¡ ì„¤ì •í•œ ê²ƒ ì´ë ‡ê²Œ í•˜ë©´ í•´ë‹¹ íƒœê·¸ì˜ id, name, value ì†ì„±ì´ ëª¨ë‘ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê³  íƒ€ì„ë¦¬í”„ê°€ value ì†ì„±ì— ê¸°ì¡´ì— ì…ë ¥ëœ ê°’ì„ ì±„ì›Œ ë„£ì–´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë”ë¼ë„ ê¸°ì¡´ì— ì…ë ¥í•œ ê°’ì´ ìœ ì§€ ë‹µë³€ ë“±ë¡ ê¸°ëŠ¥ì— í¼ ì ìš© AnswerForm.java @Getter @Setter public class AnswerForm { @NotEmpty(message=\"ë‚´ìš©ì€ í•„ìˆ˜í•­ëª©ì…ë‹ˆë‹¤.\") private String content; } AnswerController.java @Controller @RequiredArgsConstructor @RequestMapping(\"/answer\") public class AnswerController { private final QuestionService questionService; private final AnswerService answerService; @PostMapping(\"create/{id}\") public String createAnswer( @PathVariable Integer id, @Valid AnswerForm answerForm, BindingResult bindingResult, Model model) { Question question = questionService.getQuestion(id); if (bindingResult.hasErrors()) { model.addAttribute(\"question\", question); return \"domain/question/question_detail\"; } answerService.create(question, answerForm.getContent()); return String.format(\"redirect:/question/detail/%s\", id); } question_detail.html &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container my-3\"&gt; &lt;!-- ì§ˆë¬¸ --&gt; ..... &lt;!-- ë‹µë³€ ë°˜ë³µ ë --&gt; &lt;!-- ë‹µë³€ ì‘ì„± --&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" th:object=\"${answerForm}\" method=\"post\" class=\"my-3\"&gt; &lt;div class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; &lt;textarea th:field=\"*{content}\" rows=\"10\" class=\"form-control\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; QuestionController.java @GetMapping(\"detail/{id}\") public String detail(@PathVariable Integer id, Model model, AnswerForm answerForm) { Question question = questionService.getQuestion(id); model.addAttribute(\"question\", question); return \"domain/question/question_detail\"; } ê³µí†µ í…œí”Œë¦¿ ë§Œë“¤ê¸° ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œê°€ ë°˜ë³µë˜ì–´ ì‚¬ìš©ë˜ê³  ìˆë‹¤. &lt;div class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; ì˜¤ë¥˜ ì „ìš© í…œí”Œë¦¿ ìƒì„± /templates/form_errors.html &lt;div th:fragment=\"formErrorsFragment\" class=\"alert alert-danger\" role=\"alert\" th:if=\"${#fields.hasAnyErrors()}\"&gt; &lt;div th:each=\"err : ${#fields.allErrors()}\" th:text=\"${err}\" /&gt; &lt;/div&gt; th:fragment=\"formErrorsFragment\"ê°€ ì¶”ê°€ë˜ì—ˆë‹¤. â‡’ Â  ë‹¤ë¥¸ í…œí”Œë¦¿ì—ì„œ ì´Â divÂ íƒœê·¸ì˜ ì˜ì—­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì´ë¦„ì„ ì„¤ì •í•œ ê²ƒ ê¸°ì¡´ í…œí”Œë¦¿ì— ì ìš©í•˜ê¸° question_form.html &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container\"&gt; &lt;h5 class=\"my-3 border-bottom pb-2\"&gt;ì§ˆë¬¸ë“±ë¡&lt;/h5&gt; &lt;form th:action=\"@{/question/create}\" th:object=\"${questionForm}\" method=\"post\"&gt; &lt;div th:replace=\"~{form_errors :: formErrorsFragment}\"&gt;&lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"subject\" class=\"form-label\"&gt;ì œëª©&lt;/label&gt; &lt;input type=\"text\" th:field=\"*{subject}\" class=\"form-control\"&gt; &lt;/div&gt; &lt;div class=\"mb-3\"&gt; &lt;label for=\"content\" class=\"form-label\"&gt;ë‚´ìš©&lt;/label&gt; &lt;textarea th:field=\"*{content}\" class=\"form-control\" rows=\"10\"&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;input type=\"submit\" value=\"ì €ì¥í•˜ê¸°\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; th:replaceÂ ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ í…œí”Œë¦¿ ë‚´ì— ê³µí†µ í…œí”Œë¦¿ì„ ì‚½ì…í•  ìˆ˜ ìˆë‹¤.Â &lt;div th:replace=\"~{form_errors :: formErrorsFragment}\"&gt;&lt;/div&gt;ëŠ”Â th:replaceÂ ì†ì„±ì— ì˜í•´ div ìš”ì†Œì˜ ë‚´ìš©ì„Â form_errorsÂ í…œí”Œë¦¿ìœ¼ë¡œ ëŒ€ì²´í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì—¬ê¸°ì„œÂ formErrorsFragmentëŠ” ì•ì„œÂ form_errorsÂ í…œí”Œë¦¿ì—ì„œ ì‘ì„±í•œ ë‚´ìš© ì¼ë¶€ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ë‹¤. question_detail.htmlë„ ë§ˆì°¬ê°€ì§€ë¡œ ìˆ˜ì • &lt;html layout:decorate=\"~{layout}\"&gt; &lt;div layout:fragment=\"content\" class=\"container my-3\"&gt; (... ìƒëµ ...) &lt;!-- ë‹µë³€ ì‘ì„± --&gt; &lt;form th:action=\"@{|/answer/create/${question.id}|}\" th:object=\"${answerForm}\" method=\"post\" class=\"my-3\"&gt; &lt;div th:replace=\"~{form_errors :: formErrorsFragment}\"&gt;&lt;/div&gt; &lt;textarea th:field=\"*{content}\" rows=\"10\" class=\"form-control\"&gt;&lt;/textarea&gt; &lt;input type=\"submit\" value=\"ë‹µë³€ë“±ë¡\" class=\"btn btn-primary my-2\"&gt; &lt;/form&gt; &lt;/div&gt; &lt;/html&gt; " }, { "title": "App 21. Stackê³¼ Queue", "url": "/posts/app-21/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "Stack, Queue, breadcrumb ë°©ì‹", "date": "2024-12-30 22:00:00 +0900", "snippet": "App 21. ìŠ¤íƒê³¼ í ë‹¤ë£¨ê¸°1. í•™ìŠµëª©í‘œ ìŠ¤íƒê³¼ íì˜ êµ¬ë™ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ìŠ¤íƒê³¼ íë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ í”„ë¡¬í”„íŠ¸ì—ì„œ ë©”ë‰´ ê²½ë¡œë¥¼ breadcrumb ë°©ì‹ìœ¼ë¡œ ë‹¤ë£¨ê¸° ì‚¬ìš©ìê°€ ì…ë ¥í•œ ëª…ë ¹ì–´ ë‚´ì—­ì„ ë‹¤ë£¨ê¸°3. ì‘ì—… LinkedListë¥¼ ìƒì† ë°›ì•„ ìŠ¤íƒì„ êµ¬í˜„í•œë‹¤. Stack í´ë˜ìŠ¤ ì¶”ê°€ ...", "content": "App 21. ìŠ¤íƒê³¼ í ë‹¤ë£¨ê¸°1. í•™ìŠµëª©í‘œ ìŠ¤íƒê³¼ íì˜ êµ¬ë™ ì›ë¦¬ë¥¼ ì´í•´í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ìŠ¤íƒê³¼ íë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ í”„ë¡¬í”„íŠ¸ì—ì„œ ë©”ë‰´ ê²½ë¡œë¥¼ breadcrumb ë°©ì‹ìœ¼ë¡œ ë‹¤ë£¨ê¸° ì‚¬ìš©ìê°€ ì…ë ¥í•œ ëª…ë ¹ì–´ ë‚´ì—­ì„ ë‹¤ë£¨ê¸°3. ì‘ì—… LinkedListë¥¼ ìƒì† ë°›ì•„ ìŠ¤íƒì„ êµ¬í˜„í•œë‹¤. Stack í´ë˜ìŠ¤ ì¶”ê°€ push(), pop(), isEmpty() ìƒì„± package bitcamp.myapp.util; public class Stack extends LinkedList { public void push(Object value) { add(value); } public Object pop() { return remove(size() - 1); } public boolean isEmpty() { return size() == 0; } } LinkedListë¥¼ ìƒì† ë°›ì•„ íë¥¼ êµ¬í˜„í•œë‹¤. Queue í´ë˜ìŠ¤ ì¶”ê°€ offer(), poll(), isEmpty() ìƒì„± package bitcamp.myapp.util; public class Queue extends LinkedList { public void offer(Object value) { add(value); } public Object poll() { return remove(0); } public boolean isEmpty() { return size() == 0; } } í”„ë¡¬í”„íŠ¸ ë©”ë‰´ ê²½ë¡œë¥¼ ì¶œë ¥í•  ë•Œ ìŠ¤íƒì„ ì ìš©í•œë‹¤. App í´ë˜ìŠ¤ ë³€ê²½ ë©”ë‰´ ê²½ë¡œë¥¼ ì €ì¥í•˜ëŠ” ìŠ¤íƒ ê°ì²´ ì¤€ë¹„ ë©”ì¸ ë©”ë‰´ ì´ë¦„ì„ ìŠ¤íƒì— ì €ì¥ ì„œë¸Œ ë©”ë‰´ì„ ì‹¤í–‰(execute())ì‹œí‚¬ ë•Œ menuPathë¥¼ ë„˜ê²¨ì„œ ì €ì¥í•˜ê²Œ í•œë‹¤. Stack menuPath = new Stack(); void execute() { menuPath.push(\"ë©”ì¸\"); printMenu(); ... void processMenu(String menuTitle) { Command command = commandMap.get(menuTitle); if (command == null) { System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); return; } command.execute(menuPath); } Command í´ë˜ìŠ¤ ë³€ê²½ package bitcamp.myapp.command; import bitcamp.myapp.util.Stack; public interface Command { void execute(Stack menuPath); } AbstractCommand í´ë˜ìŠ¤ ë³€ê²½ ì„œë¸Œ ë©”ë‰´ ì´ë¦„ì„ ìŠ¤íƒì— ë³´ê´€ ë° êº¼ë‚´ê¸° ë©”ë‰´ ê²½ë¡œë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ ì¶”ê°€ Â  (getMenuPath()) StringBuilder ì´ìš© ë©”ë‰´ ê²½ë¡œ ì‚¬ì´ì— / ë¥¼ ì…ë ¥ execute()ì—ì„œ String.format ë¹¼ê¸° Â  (input() ë©”ì„œë“œì— ë“¤ì–´ ìˆìŒ) @Override public void execute(Stack menuPath) { menuPath.push(menuTitle); printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } private String getMenuPathTitle(Stack menuPath) { StringBuilder strBuilder = new StringBuilder(); for (int i = 0; i &lt; menuPath.size(); i++) { if (!strBuilder.isEmpty()) { strBuilder.append(\"/\"); } strBuilder.append(menuPath.get(i)); } return strBuilder.toString(); } ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‚´ì—­ì„ í&lt;/span&gt;ë¥¼ ì´ìš©í•˜ì—¬ ì €ì¥í•œë‹¤. Prompt í´ë˜ìŠ¤ ë³€ê²½ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‚´ìš©ì„ íì— ìˆœì„œëŒ€ë¡œ ì €ì¥ í•„ë“œ ìƒì„± Â  (Queue inputQueue) input() ìˆ˜ì • ì…ë ¥í•œ ë‚´ì—­ì„ ì¶œë ¥ Â  (printHistory() ìƒì„±) Prompt package bitcamp.myapp.util; import java.util.Scanner; public class Prompt { public static Scanner sc = new Scanner(System.in); static Queue inputQueue = new Queue(); public static String input(String format, Object... args) { String promptTitle = String.format(format, args); System.out.printf(promptTitle); String input = sc.nextLine(); if (format.endsWith(\"&gt;\")) { inputQueue.offer(promptTitle + input); if (inputQueue.size() &gt; 20) { inputQueue.poll(); } } return input; } public static int inputInt(String title) { return Integer.parseInt(input(title)); } public static void close() { sc.close(); } public static void printHistory() { System.out.println(\"[ëª…ë ¹ ë‚´ì—­]----------------------\"); for (int i = 0; i &lt; inputQueue.size(); i++) { System.out.println(inputQueue.get(i)); } System.out.println(\"--------------------------- ë\"); } } ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‚´ì—­ì„ ì¶œë ¥í•œë‹¤. HistoryCommand í´ë˜ìŠ¤ ì¶”ê°€ package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.util.Stack; public class HistoryCommand implements Command { public void execute(Stack menuPath) { Prompt.printHistory(); } } App í´ë˜ìŠ¤ ë³€ê²½ â€œëª…ë ¹ë‚´ì—­â€ ë©”ë‰´ ì¶”ê°€ App public class App { String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ëª…ë ¹ë‚´ì—­\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;(); Stack menuPath = new Stack(); public App() { List userList = new ArrayList(); List boardList = new LinkedList(); List projectList = new LinkedList(); UserCommand userCommand = new UserCommand(\"íšŒì›\", userList); commandMap.put(\"íšŒì›\", userCommand); commandMap.put(\"ê²Œì‹œíŒ\", new BoardCommand(\"ê²Œì‹œíŒ\", boardList)); commandMap.put(\"í”„ë¡œì íŠ¸\", new ProjectCommand(\"í”„ë¡œì íŠ¸\", projectList, userList)); commandMap.put(\"ë„ì›€ë§\", new HelpCommand(\"ë„ì›€ë§\")); commandMap.put(\"ëª…ë ¹ë‚´ì—­\", new HistoryCommand()); } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 21. ìë£Œ êµ¬ì¡° - Stackê³¼ Queue Stack ë„£ì„ ë•Œ push(), êº¼ë‚¼ ë•Œ pop() First In Last Out (FILO) Â  = Â  LIFO [Ex] ë°©ë¬¸ í˜ì´ì§€ ì €ì¥ ë©”ì„œë“œ í˜¸ì¶œ (JVM Stack) ì—˜ë¦¬ë² ì´í„° ë§Œì°¨ì¼ ë•Œ Queue ë„£ì„ ë•Œ offer(), êº¼ë‚¼ ë•Œ poll() First In First Out (FIFO) [Ex] ì˜ˆì•½ ì‹œìŠ¤í…œ ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ì²˜ë¦¬ ì´ë²¤íŠ¸ ì²˜ë¦¬ = Event Queue ğŸ”† í”„ë¡¬í”„íŠ¸ ì œëª©ì„ ìŠ¤íƒìœ¼ë¡œ ë‹¤ë£¨ê¸° ë©”ë‰´ ê²½ë¡œë¥¼ breadcrumb ë°©ì‹ìœ¼ë¡œ ë‹¤ë£¬ë‹¤. breadcrumb ë°©ì‹ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë””ìì¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ íŒ¨í„´ ì‚¬ìš©ìê°€ í˜„ì¬ ì›¹ì‚¬ì´íŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì–´ëŠ ìœ„ì¹˜ì— ìˆëŠ”ì§€ ë³´ì—¬ì£¼ê³ , ì´ì „ì— ë°©ë¬¸í•œ í˜ì´ì§€ë¡œ ì‰½ê²Œ ëŒì•„ê°ˆ ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤. ì´ëŠ” ì›¹ì‚¬ì´íŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ì™€ ê³„ì¸µì„ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•˜ì—¬ ì‚¬ìš©ìê°€ ìì‹ ì˜ ìœ„ì¹˜ë¥¼ ì‰½ê²Œ íŒŒì•…í•˜ê³ , íƒìƒ‰ ê²½ë¡œë¥¼ ì œê³µí•¨ìœ¼ë¡œì¨ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. Breadcrumbì˜ íŠ¹ì§• ìœ„ì¹˜ í‘œì‹œ í˜„ì¬ í˜ì´ì§€ê°€ ì‚¬ì´íŠ¸ì˜ êµ¬ì¡° ë‚´ì—ì„œ ì–´ë””ì— ìœ„ì¹˜í•˜ëŠ”ì§€ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, â€œHome &gt; Products &gt; Electronics &gt; Mobile Phonesâ€ì™€ ê°™ì€ í˜•íƒœ íƒìƒ‰ ê²½ë¡œ ì œê³µ ì‚¬ìš©ìê°€ ì´ì „ì— ë°©ë¬¸í•œ í˜ì´ì§€ë¡œ ì‰½ê²Œ ëŒì•„ê°ˆ ìˆ˜ ìˆëŠ” ë§í¬ ì œê³µ ê° ë‹¨ê³„ëŠ” í´ë¦­ ê°€ëŠ¥í•œ ë§í¬ë¡œ í‘œì‹œë˜ë©°, ì‚¬ìš©ìê°€ í´ë¦­í•˜ë©´ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë‹¤. ì¼ê´€ì„± ìœ ì§€ Breadcrumb ë„¤ë¹„ê²Œì´ì…˜ì€ ì¼ê´€ë˜ê²Œ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ë©°, ì›¹ì‚¬ì´íŠ¸ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  í˜ì´ì§€ì— ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ ì ìš©ë˜ì–´ì•¼ í•œë‹¤. ğŸ”† ë¬¸ìì—´ ì—°ê²° â­ ë¬¸ìì—´ì„ ì—°ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ìƒˆ String ê°ì²´ê°€ ìƒì„±ë˜ê³  ê¸°ì¡´ String ê°ì²´ê°€ ê°€ë¹„ì§€ê°€ ëœë‹¤. â‡’ Â  ì¦‰, ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ì‹¬í•˜ë‹¤. String str = \"\"; str += \"aaa\"; \"\" + \"aaa\" = \"aaa\" =&gt; ìƒˆ String ê°ì²´ ìƒì„± (ì•ì˜ ë‘˜ì€ ê°€ë¹„ì§€ê°€ ëœë‹¤) str += \"bbb\"; \"aaa\" + \"bbb\" = \"aaabbb\" =&gt; ìƒˆ String ê°ì²´ ìƒì„± (ì•ì˜ ë‘˜ì€ ê°€ë¹„ì§€ê°€ ëœë‹¤) í•´ê²°ì±… ê¸°ì¡´ì˜ Stringì€ immutable ê°ì²´ì´ê¸° ë•Œë¬¸ì— ë‚´ìš© ë³€ê²½ ë¶ˆê°€!! mutable ê°ì²´ì¸ StringBufferë‚˜ StringBuilderë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ìš”ì¦˜ ìë°” ì»´íŒŒì¼ëŸ¬ëŠ” ë¬¸ìì—´ ì—°ê²° ì½”ë“œë¥¼ StringBuffer ë˜ëŠ” StringBuilder ì½”ë“œë¡œ ìµœì í™”í•œë‹¤. â˜… â‡’ Â  ê°€ë¹„ì§€ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¡œ ë³€ê²½í•œë‹¤. StringBufferì™€ StringBuilder StringBuffer Thread-Safe(ë©€í‹°ìŠ¤ë ˆë“œ ë™ì‹œ ì ‘ê·¼ ì°¨ë‹¨ ê¸°ëŠ¥)ì„ ë³´ìœ í•œë‹¤. ë‹¨, Lock/unLockì— ì‹œê°„ì´ ê±¸ë¦°ë‹¤. StringBuilder Thread-Safe ë³´ì¥ ì•ˆ í•¨ Â  â‡’ Â  ë©€í‹° ìŠ¤ë ˆë“œì˜ ë™ì‹œ ì ‘ê·¼ ê°€ëŠ¥ ë‹¤ë¥¸ Threadì˜ ê°’ì„ ë®ì–´ ì“¸ ìˆ˜ ìˆë‹¤. Â  â‡’ Â  Lock/Unlock ê´€ë¦¬ ì•ˆ í•¨ Â  â‡’ Â  ì•ˆì •ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì‹œê°„ ì†Œìš”ê°€ ì ë‹¤. ì¦‰, ë‹¨ì¼ ìŠ¤ë ˆë“œë¼ë©´ StringBuilderë¥¼ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤. (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì“¸ ë•ŒëŠ” Buffer, ë¡œì»¬ì—ì„œë§Œ ì“¸ ê±°ë©´ Builder) " }, { "title": "App 20. SOLIDì˜ DIP", "url": "/posts/app-20/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "SOLID, DIP, GRASP, Map", "date": "2024-12-28 16:00:00 +0900", "snippet": "App 20. ë¦¬íŒ©í† ë§ : Map ì»¬ë ‰ì…˜ê³¼ ì˜ì¡´ì„± ì£¼ì…1. í•™ìŠµëª©í‘œ GRASP ì„¤ê³„ ì§€ì¹¨ì—ì„œ Low Couplingì„ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. SOLID ì„¤ê³„ ì›ì¹™&lt;/span&gt;ì—ì„œ DIP(Dependency Inversion Principle)ë¥¼ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. Map ì»¬ë ‰ì…˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì €ì¥í•˜ê³ ...", "content": "App 20. ë¦¬íŒ©í† ë§ : Map ì»¬ë ‰ì…˜ê³¼ ì˜ì¡´ì„± ì£¼ì…1. í•™ìŠµëª©í‘œ GRASP ì„¤ê³„ ì§€ì¹¨ì—ì„œ Low Couplingì„ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. SOLID ì„¤ê³„ ì›ì¹™&lt;/span&gt;ì—ì„œ DIP(Dependency Inversion Principle)ë¥¼ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. Map ì»¬ë ‰ì…˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì €ì¥í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì˜ì¡´ ê°ì²´ë¥¼ ë‹¤ë£° ë•Œ DIP ì„¤ê³„ ì›ì¹™ì„ ì ìš©3. ì‘ì—… Command êµ¬í˜„ì²´ ì €ì¥ ë° ì‹¤í–‰ Map ì»¬ë ‰ì…˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ Command êµ¬í˜„ì²´ë¥¼ ì €ì¥ Map ì»¬ë ‰ì…˜ì€ Key ê°ì²´ë¥¼ í†µí•´ Value ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. App í´ë˜ìŠ¤ Map&lt;String, Command&gt; commandMapì„ ìƒì„±í•˜ì—¬ ê¸°ì¡´ì˜ Command êµ¬í˜„ì²´ë¥¼ ë‹´ëŠ”ë‹¤. ìƒì„±ì ì¶”ê°€ ìƒì„±ìë¡œ Command êµ¬í˜„ì²´ ê°ì²´ ìƒì„± í›„ Mapì— ë‹´ëŠ”ë‹¤. public class App { String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;(); public App() { UserCommand userCommand = new UserCommand(\"íšŒì›\"); commandMap.put(\"íšŒì›\", userCommand); commandMap.put(\"ê²Œì‹œíŒ\", new BoardCommand(\"ê²Œì‹œíŒ\")); commandMap.put(\"í”„ë¡œì íŠ¸\", new ProjectCommand(\"í”„ë¡œì íŠ¸\", userCommand.getUserList())); commandMap.put(\"ë„ì›€ë§\", new HelpCommand(\"ë„ì›€ë§\")); } ë©”ë‰´ì— ëŒ€í•œ Command êµ¬í˜„ì²´ë¥¼ ì°¾ì•„ ì‹¤í–‰ Command ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´(Ex. UserCommand ë“±)ì„ Mapì—ì„œ ê°€ì ¸ì™€ì„œ execute() ì‹¤í–‰ App í´ë˜ìŠ¤ processMenu() ë³€ê²½ void processMenu(String menuTitle) { Command command = commandMap.get(menuTitle); if (command == null) { System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); return; } command.execute(); } ì˜ì¡´ ê°ì²´ë¥¼ ì™¸ë¶€ì—ì„œ ì£¼ì…í•˜ê¸° Â  (SOLIDì˜ DIP ì ìš©) UserCommand, ProjectCommand, BoardCommand í´ë˜ìŠ¤ì˜ ì˜ì¡´ ê°ì²´ë¥¼ ì™¸ë¶€ì—ì„œ ì£¼ì… ì˜ì¡´ ê°ì²´(boardList ë“±)ë¥¼ ìƒì„±ìë¥¼ í†µí•´ ì™¸ë¶€ì—ì„œ Command êµ¬í˜„ì²´ì— ì£¼ì…í•œë‹¤. BoardCommand ìƒì„±ì ë° í•„ë“œ ë³€ê²½ public class BoardCommand extends AbstractCommand { List boardList; private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public BoardCommand(String menuTitle, List boardList) { super(menuTitle); this.boardList = boardList; } ProjectCommand ìƒì„±ì ë° í•„ë“œ ë³€ê²½ public class ProjectCommand extends AbstractCommand { List projectList; List userList; private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public ProjectCommand(String menuTitle, List projectList, List userList) { super(menuTitle); this.projectList = projectList; this.userList = userList; } UserCommand ìƒì„±ì ë° í•„ë“œ ë³€ê²½ getUserList() ì œê±° public class UserCommand extends AbstractCommand { List userList; private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public UserCommand(String menuTitle, List userList) { super(menuTitle); this.userList = userList; } Command ê°ì²´ê°€ ì‚¬ìš©í•  List ê°ì²´ ì¤€ë¹„ ì˜ì¡´ ê°ì²´ì¸ boardList ë“±ì„ Appì—ì„œ ìƒì„±í•˜ê³  êµ¬í˜„ì²´ì˜ ìƒì„±ìë¥¼ í†µí•´ ë„˜ê²¨ì¤€ë‹¤ App í´ë˜ìŠ¤ ìƒì„±ì ë³€ê²½ public class App { String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; Map&lt;String, Command&gt; commandMap = new HashMap&lt;&gt;(); public App() { List userList = new ArrayList(); List boardList = new LinkedList(); List projectList = new LinkedList(); UserCommand userCommand = new UserCommand(\"íšŒì›\", userList); commandMap.put(\"userCommand\", userCommand); commandMap.put(\"boardCommand\", new BoardCommand(\"ê²Œì‹œíŒ\", boardList)); commandMap.put(\"projectCommand\", new ProjectCommand(\"í”„ë¡œì íŠ¸\", projectList, userList)); commandMap.put(\"helpCommand\", new HelpCommand(\"ë„ì›€ë§\")); } ë‹¨, ì´ë ‡ê²Œ í•˜ë ¤ë©´ ë ˆí¼ëŸ°ìŠ¤ë¥¼ í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ ì¸í„°í˜ì´ìŠ¤&lt;/span&gt;ë¡œ í•´ì„œ ë¨¼ì € ìœ ì—°í•˜ê²Œ í•˜ëŠ” ê²ƒì´ í•„ìš”!! LinkedList boardList Â  ( X ) Â  â‡’ Â  List boardList Â  ( O ) ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 20. SOLIDì˜ DIPì™€ GRASPì˜ Low Coupling - (1) ìƒì† ì‚¬ìš© ì „ â­class Switch { FlouLamp light;} Switch í´ë˜ìŠ¤ê°€ FluoLamp ê°ì²´ë¥¼ ì œì–´ â‡’ Â  Switch í´ë˜ìŠ¤ê°€ FluoLampì˜ ê¸°ëŠ¥ì„ ì‚¬ìš© Â  â‡’ Â  ì „ë“±ì„ ì¼œê±°ë‚˜ ë„ëŠ” ê²ƒ Switch í´ë˜ìŠ¤ê°€ FluoLamp ê°ì²´ì— ì˜ì¡´ â‡’ Â  Switch í´ë˜ìŠ¤ëŠ” FluoLamp ê°ì²´ê°€ ì—†ìœ¼ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ì—†ë‹¤. ë¬¸ì œì  FluoLampë¥¼ LedLampë¡œ êµì²´í•œë‹¤ë©´ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤. Switch í´ë˜ìŠ¤ê°€ FluoLamp í´ë˜ìŠ¤ë§Œ ì‚¬ìš©í•˜ë„ë¡ ë˜ì–´ ìˆë‹¤. â€œê°•í•œ ì—°ê²° ìƒíƒœâ€ í•´ê²°ë°©ë²• FlouLampì™€ LedLampë¥¼ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ë¬¶ëŠ”ë‹¤. Â  (ê°™ì€ ë¶€ëª¨ë¥¼ ê°–ê²Œ í•œë‹¤) Â  â‡’ Â  Lamp í´ë˜ìŠ¤ (super) ğŸ”† 20. SOLIDì˜ DIPì™€ GRASPì˜ Low Coupling - (2) ìƒì†ì˜ Generalizationclass Switch { Lamp light;} ë‘ í´ë˜ìŠ¤ì˜ ë¶€ëª¨ë¥¼ ê°™ê²Œ í•˜ì—¬ ê°™ì€ íƒ€ì…ìœ¼ë¡œ ë¬¶ìœ¼ë©´ ë‹¤í˜•ì  ë³€ìˆ˜(Lamp)ë¥¼ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì¡°ëª…ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. (ì¦‰, ì—°ê²°ì´ ì¡°ê¸ˆ ë” ë¶€ë“œëŸ¬ì›Œ ì¡Œë‹¤) ë¬¸ì œì  ì¡°ëª…(Lamp)ë§Œ ì œì–´? Swtichë¡œ ë‹¤ë¥¸ ì œí’ˆì„ ì œì–´í•  ìˆ˜ ìˆì–´ì•¼ í•˜ëŠ” ê²ƒ ì•„ë‹Œê°€? í•´ê²°ë°©ë²• ìƒìœ„ í´ë˜ìŠ¤ì˜ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ğŸ”† 20. SOLIDì˜ DIPì™€ GRASPì˜ Low Coupling - (3) ìƒì† ê³„ì¸µ êµ¬ì¡°class Switch { Device ì¥ì¹˜;} ë¬¸ì œì  ì—¬ëŸ¬ ì¥ì¹˜ë¥¼ ìŠ¤ìœ„ì¹˜ë¡œ ì œì–´í•˜ë ¤ê³  ê°™ì€ íƒ€ì…ìœ¼ë¡œ ë¬¶ìœ¼ë©´ ìƒì†ê´€ê³„ê°€ ë„ˆë¬´ ë³µì¡í•´ ì§„ë‹¤. ë˜ ëª¨ë“  ì¥ì¹˜ë¥¼ ìŠ¤ìœ„ì¹˜ë¡œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê²ƒë„ ì•„ë‹ˆë‹¤. (ì„ í’ê¸° ì²˜ëŸ¼) ëª¨ë“  ë””ë°”ì´ìŠ¤ë¥¼ ìŠ¤ìœ„ì¹˜ë¡œ ì œì–´í•œë‹¤ê³  í–ˆëŠ”ë° ì„ í’ê¸°ë¥¼ ë”°ë¡œ ì œì™¸í•  ìˆ˜ ì—†ë‹¤. ìƒì†ì€ â€œê°•ê²°í•©â€ì„ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— ìœ ì—°ì„± ë¶€ì¡± í•´ê²°ë°©ë²• ìƒì†ì´ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•œë‹¤. ğŸ”† 20. SOLIDì˜ DIPì™€ GRASPì˜ Low Coupling - (4) ì¸í„°í˜ì´ìŠ¤class Switch { Switchable ì¥ì¹˜;} Switchableì´ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ë‚˜ë¨¸ì§€ ê¸°ê¸°ë“¤ì´ ì¸í„°í˜ì´ìŠ¤ì˜ ê·œì¹™ì„ ë”°ë¥´ë„ë¡ í•œë‹¤. ìƒì†ë³´ë‹¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ê°™ì€ íƒ€ì…ì´ ì•„ë‹Œ ì¥ì¹˜ë“¤ë„ ìŠ¤ìœ„ì¹˜ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤. ì–´ë–¤ íƒ€ì…ì´ë“  Switchable ê·œì¹™ì— ë”°ë¼ ë§Œë“  ì œí’ˆì´ë¼ë©´ ì œì–´ ê°€ëŠ¥ ìƒì†ë³´ë‹¤ ë” ìœ ì—°í•˜ë‹¤. â€œì•½ê²°í•©â€ ğŸ”† SOLID - Dependency Inversion Principle (DIP, ì˜ì¡´ ì—­ì „) ë ˆí¼ëŸ°ìŠ¤ë¥¼ í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ ì¸í„°í˜ì´ìŠ¤ë¡œ í•´ì„œ ëŠìŠ¨í•œ ê²°í•©ìœ¼ë¡œ ì „í™˜í•œ í›„ Switch í´ë˜ìŠ¤ê°€ ì˜ì¡´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜í•˜ë©´ ë” ìœ ì—°í•´ ì§„ë‹¤. FlouLamp lgith1 = new FluoLamp(); Switch swtich = new Switch(light1); êµì²´ê°€ ì‰½ë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì‰½ë‹¤. â‡’ Â  ì˜ì¡´ ê°ì²´ë¥¼ ê°„ë‹¨íˆ ë§Œë“¤ì–´ ì£¼ì…í•œ í›„ ìŠ¤ìœ„ì¹˜ë¥¼ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤ ì˜ì¡´ ì—­ì „ì€ í•„ìš”í•œ ê²ƒì„ ì§ì ‘ ë§Œë“¤ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ëŠ” ê²ƒì´ë‹¤. ì´ ë°©ë²•ì´ ë‚˜ì˜¨ ì´ìœ  â‡’ Â  ì½”ë“œê°€ ë³µì¡í•´ì¡Œê¸° ë•Œë¬¸ì´ë‹¤. â‡’ Â  ê°ê°ì˜ í´ë˜ìŠ¤ê°€ ë³µì¡í•´ì§€ê³  ì„œë¡œ ê°•í•˜ê²Œ ì—°ê´€ë˜ì–´ ìˆìœ¼ë©´ í…ŒìŠ¤íŠ¸ê°€ ë„ˆë¬´ í˜ë“¤ë‹¤. â“ ì˜ì¡´ ê°ì²´ ì˜ì¡´ ê°ì²´ëŠ” íŠ¹ì • í´ë˜ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì™¸ë¶€ ê°ì²´ë¥¼ ì˜ë¯¸ ì–´ë–¤ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ì˜ ê¸°ëŠ¥ì„ í•„ìš”ë¡œ í•  ë•Œ, ê·¸ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì˜ì¡´ ê°ì²´ë¼ê³  í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í´ë˜ìŠ¤ Aê°€ í´ë˜ìŠ¤ Bì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤ë©´, AëŠ” Bì— ì˜ì¡´í•œë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [Ex] UserCommand í´ë˜ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©í•œ LinkedList ê°ì²´ ìš”ë¦¬ì‚¬ì™€ ì£¼ë°© ë„êµ¬ ìš”ë¦¬ì‚¬ì—ê²Œ ìš”ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì£¼ë°© ë„êµ¬ê°€ ì˜ì¡´ ê°ì²´ì´ë‹¤ ì£¼ë°© ë„êµ¬ê°€ ì—†ìœ¼ë©´ ìš”ë¦¬ë¥¼ í•  ìˆ˜ ì—†ë‹¤. Â  â‡’ Â  í•„ìš”ë¡œ í•œë‹¤. ìš”ë¦¬ì‚¬ê°€ ìš”ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ ì§ì ‘ ì£¼ë°© ë„êµ¬ë¥¼ ë§Œë“¤ì§€ ì•Šê³ , ì´ë¯¸ ë§Œë“¤ì–´ì§„ ì£¼ë°© ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ â‡’ Â  ì˜ì¡´ì„± ì£¼ì… ì˜ì¡´ì„± ì£¼ì… Â  Â  (Dependency Injection) ì˜ì¡´ ê°ì²´ë¥¼ ì™¸ë¶€ì—ì„œ ì£¼ì…(inject)í•˜ì—¬ ê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. DIë¥¼ ì‚¬ìš©í•˜ë©´ ê°ì²´ê°€ ì§ì ‘ ë‹¤ë¥¸ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , ì™¸ë¶€ì—ì„œ í•„ìš”í•œ ê°ì²´ë¥¼ ì£¼ì… ë°›ì•„ ì‚¬ìš© ì´ë ‡ê²Œ í•˜ë©´ ê°ì²´ ê°„ì˜ ê²°í•©ë„ê°€ ë‚®ì•„ì ¸ ì½”ë“œì˜ ìœ ì—°ì„±ê³¼ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì´ ì¦ê°€í•©ë‹ˆë‹¤. ğŸ”† Dependency Injection (DI, ì˜ì¡´ì„± ì£¼ì…) â­ Inversion of Control Â  Â  (IoC, ì œì–´ì˜ ì—­ì „) IoCì˜ ì£¼ìš” êµ¬í˜„ ë°©ë²• Dependency Injection (ì˜ì¡´ì„± ì£¼ì…) Â  = Â  Dependency Inversion Principle (ì˜ì¡´ì„± ì—­ì „ ì›ì¹™) (ì¥ì  Â  : Â  êµì²´ê°€ ì‰½ê³  í…ŒìŠ¤íŠ¸ê°€ ì‰½ë‹¤) Listener Â  = Â  event Handler ê¸°ìˆ ë©´ì ‘ DI(ì˜ì¡´ì„± ì£¼ì…)ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ  SOLIDê³¼ GRASP ì„¤ëª…í•˜ê¸° " }, { "title": "App 17-19. ArrayListì™€ LinkedList", "url": "/posts/app-17-19/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒí´ë˜ìŠ¤, Template Method, GoF, GRASP", "date": "2024-12-25 10:00:00 +0900", "snippet": "App 17. ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•œ ê°ì²´ ì‚¬ìš© ê·œì¹™ ì •ì˜ : ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ê·œì¹™1. í•™ìŠµëª©í‘œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ ì‚¬ìš© ê·œì¹™ì„ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. equals()ì˜ ìš©ë„ë¥¼ ì´í•´í•˜ê³  ì¬ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ArrayListì™€ LinkedListì˜ ì‚¬ìš© ê·œì¹™ì„ í†µì¼...", "content": "App 17. ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•œ ê°ì²´ ì‚¬ìš© ê·œì¹™ ì •ì˜ : ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ê·œì¹™1. í•™ìŠµëª©í‘œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ ì‚¬ìš© ê·œì¹™ì„ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. equals()ì˜ ìš©ë„ë¥¼ ì´í•´í•˜ê³  ì¬ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ArrayListì™€ LinkedListì˜ ì‚¬ìš© ê·œì¹™ì„ í†µì¼í•˜ê¸° ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ í´ë˜ìŠ¤ë¥¼ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ ë¶„ë¥˜í•˜ê¸° UserList, ProjectList, BoardList í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ê³  ArrayList, LinkedListë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ê¸° ë©”ë‰´ë¥¼ ì²˜ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ì˜ ì‚¬ìš© ê·œì¹™ì„ í†µì¼í•˜ê¸°3. ì‘ì—… ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ê°ì²´ ì‚¬ìš© ê·œì¹™ì„ ì •ì˜í•œë‹¤. List ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€ add(), remove(), get(), indexOf(), toArray(), size() ê·œì¹™ ì •ì˜ ê·œì¹™ì´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œ ì‹œê·¸ë„ˆì²˜ë§Œ ì •ì˜í•œë‹¤. public, abstract ëª¨ë‘ ìƒëµ ê°€ëŠ¥í•˜ë¯€ë¡œ ë³´í†µ ìƒëµí•œë‹¤. package bitcamp.myapp.command; public interface List { public abstract void add(Object value); public abstract Object remove(int index); public abstract Object get(int index); public abstract int indexOf(Object value); public abstract Object[] toArray(); public abstract int size(); } ArrayListì™€ LinkedList í´ë˜ìŠ¤ë¥¼ List ê·œì¹™ì— ë”°ë¼ ì •ì˜í•œë‹¤. ArrayList ë³€ê²½ @OverrideëŠ” ì¬ì •ì˜ ë˜ëŠ” ì¶”ìƒë©”ì„œë“œ êµ¬í˜„ì„ ì˜ë¯¸ ArrayList package bitcamp.myapp.command; import java.util.Arrays; public class ArrayList implements List { private static final int MAX_SIZE = 100; private Object[] list = new Object[MAX_SIZE]; private int size = 0; @Override public void add(Object obj) { list[size++] = obj; if (size == list.length) { int oldSize = list.length; int newSize = oldSize + (oldSize &gt;&gt; 1); list = Arrays.copyOf(list, newSize); } list[size++] = obj; } @Override public Object[] toArray() { Object[] arr = new Object[size]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = list[i]; } return arr; } @Override public int indexOf(Object obj) { for (int i = 0; i &lt; size; i++) { if (list[i] == obj) { return i; } } return -1; } @Override public Object remove(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Object deletedObj = list[index]; for (int i = index + 1; i &lt; size; i++) { list[i - 1] = list[i]; } list[--size] = null; return deletedObj; } @Override public int size() { return size; } @Override public Object get(int index) { if (index &lt; 0 || index &gt;= size) { return null; } return list[index]; } public boolean contains(Object obj) { return indexOf(obj) != -1; } } LinkedList ë³€ê²½ ê·œì¹™ì— ë§ê²Œ ì´ë¦„ ë³€ê²½ LinkedList package bitcamp.myapp.command; public class LinkedList implements List { Node first; Node last; int size; @Override public void add(Object value) { Node newNode = new Node(value); if (first == null) { first = newNode; } else { last.next = newNode; last = newNode; } size++; } @Override public Object get(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == index) { return cursor.value; } cursor = cursor.next; currentIndex++; } return null; } @Override public Object remove(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Node deletedNode = null; size--; if (index == 0) { deletedNode = first; first = first.next; if (first == null) { last = null; } return deletedNode.value; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == (index - 1)) { break; } cursor = cursor.next; currentIndex++; } deletedNode = cursor.next; cursor.next = cursor.next.next; if (cursor.next == null) { last = cursor; } return deletedNode.value; } @Override public int indexOf(Object value) { Node cursor = first; int currentIndex = 0; while (cursor != null) { if (cursor.value == value) { return currentIndex; } cursor = cursor.next; currentIndex++; } return -1; } @Override public Object[] toArray() { Object[] arr = new Object[size]; Node cursor = first; for (int i = 0; i &lt; size; i++) { arr[i] = cursor.value; cursor = cursor.next; } return arr; } @Override public int size() { return size; } } ArrayListì™€ LinkedList, List í´ë˜ìŠ¤ë¥¼ ë³„ë„ì˜ íŒ¨í‚¤ì§€ë¡œ ë¶„ë¥˜í•œë‹¤. ArrayList, LinkedList, List, Node í´ë˜ìŠ¤ Â  â‡’ Â  util íŒ¨í‚¤ì§€ ë¦¬íŒ©í† ë§ Â  : Â  equals() ì¬ì •ì˜ Board, Project, User ë³€ê²½ equals(), hashCode() ì˜¤ë²„ë¼ì´ë“œ í•œë‹¤. Â  (no í•„ë“œë§Œ) ê¸°ë³¸ ìƒì„±ì, ìƒì„±ì(noí•„ë“œ) User package bitcamp.myapp.vo; import java.util.Objects; public class User { private static int seqNo; private int no; private String name; private String email; private String password; private String tel; public static int getNextSeqNo() { return ++seqNo; } public User() { } public User(int no) { this.no = no; } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; User user = (User) o; return no == user.no; } @Override public int hashCode() { return Objects.hashCode(no); } public int getNo() { return no; } public void setNo(int no) { this.no = no; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getEmail() { return email; } public void setEmail(String email) { this.email = email; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public String getTel() { return tel; } public void setTel(String tel) { this.tel = tel; } } UserList, ProjectList, BoardList ì—ì„œ ë°ì´í„°ë¥¼ ì°¾ëŠ” ê¸°ëŠ¥ì„ equals()ë¡œ ëŒ€ì²´ findByNo()ë¥¼ equals()ë¡œ ëŒ€ì²´í•œë‹¤. ArrayListì˜ indexOf() ìˆ˜ì • equals()ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ ì´ê²ƒìœ¼ë¡œ ë¹„êµ ê°€ëŠ¥ @Override public int indexOf(Object obj) { for (int i = 0; i &lt; size; i++) { if (list[i].equals(obj)) { return i; } } return -1; } LinkedListì˜ indexOf() ìˆ˜ì • equals()ë¥¼ ì´ìš¯ì•„ì—¬ ë¹„êµí•œë‹¤. @Override public int indexOf(Object value) { Node cursor = first; int currentIndex = 0; while (cursor != null) { if (cursor.value.equals(value)) { return currentIndex; } cursor = cursor.next; currentIndex++; } return -1; } UserList, ProjectList, BoardList ì œê±° UserList, ProjectList, BoardListì˜ ì—…ë¬´ì˜ ëŒ€ë¶€ë¶„ì„ ArrayListê°€ í•˜ê³  ìˆìœ¼ë¯€ë¡œ í†µí•©ì‹œí‚¨ë‹¤. UserCommand, BoardCommand, ProjectCommand ë³€ê²½ ê¸°ì¡´ì— findByNo()ë¡œ ì°¾ë˜ ê²ƒì„ indexOf()ì™€ get()ì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì°¾ëŠ”ë‹¤. UserCommand package bitcamp.myapp.command; import bitcamp.myapp.util.ArrayList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class UserCommand { ArrayList userList = new ArrayList(); public void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } private void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); userList.add(user); } private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.toArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } private void viewUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } private void updateUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = (User) userList.get(userList.indexOf(new User(userNo))); if (deletedUser != null) { userList.remove(userList.indexOf(deletedUser)); System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } public ArrayList getUserList() { return this.userList; } } ProjectCommand package bitcamp.myapp.command; import bitcamp.myapp.util.ArrayList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class ProjectCommand { ArrayList projectList = new ArrayList(); ArrayList userList; public ProjectCommand(ArrayList userlist) { this.userList = userlist; } public void executeProjectCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } private void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); project.setNo(Project.getNextSeqNo()); projectList.add(project); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (Object obj : projectList.toArray()) { Project project = (Project) obj; System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } private void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.getMembers().size(); i++) { User user = (User) project.getMembers().get(i); System.out.printf(\"- %s\\n\", user.getName()); } } private void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteProject() { int projectNo = Prompt.inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ Project deletedProject = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (deletedProject != null) { projectList.remove(projectList.indexOf(deletedProject)); System.out.printf(\"%dë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedProject.getNo()); } else { System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } private void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.getMembers().contains(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.getMembers().add(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private void deleteMembers(Project project) { for (int i = 0; i &lt; project.getMembers().size(); i++) { User member = (User) project.getMembers().get(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.getMembers().remove(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } } BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.ArrayList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand { ArrayList boardList = new ArrayList(); public void executeBoardCommand(String command) { System.out.printf(\"[%s]\\n\", command); switch (command) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); boardList.add(board); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Object obj : boardList.toArray()) { Board board = (Board) obj; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (deletedBoard != null) { boardList.remove(boardList.indexOf(deletedBoard)); System.out.printf(\"%dë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedBoard.getNo()); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } } ArrayList ëŒ€ì‹  LinkedList ë¡œ ì „í™˜ ì•„ì£¼ ì‰½ê²Œ ì „í™˜í•  ìˆ˜ ìˆë‹¤. ë©”ë‰´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ ì‚¬ìš© ê·œì¹™ì„ ì •ì˜ Command ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€ execute() ê·œì¹™ ì •ì˜ package bitcamp.myapp.command; public interface Command { void execute(String name); } UserCommand, ProjectCommand, BoardCommand í´ë˜ìŠ¤ì— ì¸í„°í˜ì´ìŠ¤ ì ìš© executeXXXCommand() ë³€ê²½ UserCommand public class UserCommand implements Command { LinkedList userList = new LinkedList(); @Override public void execute(String name) { System.out.printf(\"[%s]\\n\", name); switch (name) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } ProjectCommand public class ProjectCommand implements Command { LinkedList projectList = new LinkedList(); LinkedList userList; public ProjectCommand(LinkedList userlist) { this.userList = userlist; } @Override public void execute(String name) { System.out.printf(\"[%s]\\n\", name); switch (name) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } BoardCommand public class BoardCommand implements Command { LinkedList boardList = new LinkedList(); public void execute(String name) { System.out.printf(\"[%s]\\n\", name); switch (name) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } App í´ë˜ìŠ¤ì—ì„œ XxxCommand í´ë˜ìŠ¤ í˜¸ì¶œ ì½”ë“œ ë³€ê²½ ê³µì§€ì‚¬í•­ ì œê±° ë° í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œë¥¼ execute()ë¡œ ë°”ê¿”ì£¼ê¸° App /* * This source file was generated by the Gradle 'init' task */ package bitcamp.myapp; import bitcamp.myapp.command.BoardCommand; import bitcamp.myapp.command.ProjectCommand; import bitcamp.myapp.command.UserCommand; import bitcamp.myapp.util.Prompt; public class App { String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {} }; UserCommand userCommand = new UserCommand(); BoardCommand boardCommand = new BoardCommand(); ProjectCommand projectCommand = new ProjectCommand(userCommand.getUserList()); public static void main(String[] args) { new App().executeApp(); } void executeApp() { printMenu(); String command; while (true) { try { command = Prompt.input(\"ë©”ì¸&gt;\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo, mainMenus); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= 4) { processMenu(menuTitle, subMenus[menuNo - 1]); } else { System.out.println(menuTitle); } } } } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); Prompt.close(); } void printMenu() { String bold = \"\\u001B[1m\"; String red = \"\\u001B[31m\"; String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String line = \"--------------------------------------------\"; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); for (int i = 0; i &lt; mainMenus.length; i++) { if (i == mainMenus.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, mainMenus[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, mainMenus[i]); } } System.out.println(bold + line + reset); } void printSubMenu(String menuTitle, String[] menus) { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } boolean isValidateMenu(int menuNo, String[] menus) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } String getMenuTitle(int menuNo, String[] menus) { return isValidateMenu(menuNo, menus) ? menus[menuNo - 1] : null; } void processMenu(String menuTitle, String[] menus) { if (menuTitle.equals(\"ë„ì›€ë§\")) { System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); return; } printSubMenu(menuTitle, menus); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { switch (menuTitle) { case \"íšŒì›\": userCommand.execute(subMenuTitle); break; case \"í”„ë¡œì íŠ¸\": projectCommand.execute(subMenuTitle); break; case \"ê²Œì‹œíŒ\": boardCommand.execute(subMenuTitle); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); break; } } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 17. ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ì˜ ì‚¬ìš© ê·œì¹™ ì •ì˜ êµ¬í˜„ Â  Â  (implements) ê·œì¹™ì— ë”°ë¼ ArrayList, LinkedListë¥¼ ë§Œë“¤ê² ë‹¤. ì†ì´ ë¹ˆ í™”ì‚´í‘œì™€ ì ì„ ìœ¼ë¡œ í‘œí˜„ UML í‘œê¸°ë²• Â  Â  (Unified Modeling Language) ì–´ë–¤ ìƒê°í•˜ëŠ” ë°”ë¥¼ ê¸€ê³¼ ê·¸ë¦¼(ëª¨ë¸)ìœ¼ë¡œ í‘œí˜„ ( ëª¨ë¸ë§) ë¬¸ë²• Â  : Â  Language ğŸ”† ì¸í„°í˜ì´ìŠ¤ ë¬¸ë²• ë°ì´í„° ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì¼ì„ í•  ê°ì²´ì˜ ì‚¬ìš©ë²• Â  Â  ( ê°ì²´ ì‚¬ìš© ê·œì¹™) â‡’ Â  ì¦‰ â€˜ê·¸ ê°ì²´ì—ê²Œ ì¼ì„ ì‹œí‚¬ ë•Œ ë‹¤ìŒì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì¼ì„ ì‹œì¼œë¼.â€™ë¼ê³  ì§€ì •í•˜ëŠ” ë¬¸ë²• ê·œì¹™ ì‘ì„±ë²• (public) abstract void add(Object value); ê·œì¹™ì´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œì˜ ì‹œê·¸ë„ˆì²˜ë§Œ ì •ì˜í•œë‹¤. â€œì•„ì§ ì •í•´ì§€ì§€ ì•ŠìŒâ€ Â  â‡’ Â  abstract Â  (ìƒëµ ê°€ëŠ¥) ê·œì¹™ì´ë€ ê²ƒì€ ê³µê°œ(public)ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤. Â  ( ë°˜ë“œì‹œ public ì´ë¯€ë¡œ Â  â‡’ Â  ë”°ë¼ì„œ public ìƒëµ ê°€ëŠ¥) (ì¦‰, abstractì™€ public ë‘˜ ë‹¤ ìƒëµ ê°€ëŠ¥) ê·œì¹™ì´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤. Â  ( ë©”ì„œë“œ ë°”ë””ê°€ ì—†ì–´ì•¼ í•œë‹¤) â‡’ Â  ì¶”ìƒ ë©”ì„œë“œ ê·œì¹™ ì ìš© ë°©ë²• class ArrayList implements List { @Override public void add(Object obj) { if (size == list.length) { // grow(); int oldSize = list.length; int newSize = oldSize + (oldSize &gt;&gt; 1); list = Arrays.copyOf(list, newSize); } list[size++] = obj; } } @Override ì¬ì •ì˜ ë˜ëŠ” ì¶”ìƒë©”ì„œë“œ êµ¬í˜„ì„ ì˜ë¯¸ Â  â‡’ Â  ì´ë¦„, ë°˜í™˜ ê°’ ë“± ì˜ëª»í•˜ë©´ ì—ëŸ¬ ë°œìƒ Â  â‡’ Â  ì‹¤ìˆ˜ ë°©ì§€ ğŸ”† ì¸í„°í˜ì´ìŠ¤ ë‘ ë¶€ë¥˜ì˜ ê°œë°œìê°€ ìˆë‹¤. ê°œë°œì 1 ì¸í„°í˜ì´ìŠ¤ ê·œì¹™ì— ë”°ë¥´ëŠ” ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‘ì„± ê°œë°œì 2 ì¸í„°í˜ì´ìŠ¤ ê·œì¹™ì— ë”°ë¼ ë™ì‘í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‘ì„± ê°ì²´ ì‚¬ìš© ê·œì¹™ì„ ì •ì˜í•´ë‘ë©´ í”„ë¡œê·¸ë˜ë°ì„ ì¼ê´€ì„±ìˆê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. êµì²´ê°€ ì‰½ë‹¤. ğŸ”† instanceof ì—°ì‚°ìì™€ getClass( ) ë©”ì„œë“œ ë°©ë²• 1 String í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ëŠ” ë‹¤ë¥´ë¯€ë¡œ Â  â‡’ Â  false User í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ëŠ” ê°™ìœ¼ë¯€ë¡œ Â  â‡’ Â  true Manager í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ëŠ” ë‹¤ë¥´ë¯€ë¡œ Â  â‡’ Â  false ë°©ë²• 2 String í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ê°€ ì•„ë‹ˆê³  Userì˜ Sub í´ë˜ìŠ¤ë„ ì•„ë‹ˆë‹¤. Â  â‡’ Â  false User í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ê°€ ë§ë‹¤. Â  â‡’ Â  true Manager í´ë˜ìŠ¤ëŠ” User í´ë˜ìŠ¤ê°€ ì•„ë‹ˆì§€ë§Œ Userì˜ Sub í´ë˜ìŠ¤ì´ë‹¤. Â  â‡’ Â  true ğŸ”† ë©”ë‰´ ì²˜ë¦¬ ê°ì²´(í´ë˜ìŠ¤)ì˜ ì‚¬ìš© ê·œì¹™ í†µì¼ ìƒí™©ì— ë”°ë¼ í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¬ ë•Œë„ ê°ì²´ë¼ëŠ” ë‹¨ì–´ë¥¼ ì‚¬ìš©í•œë‹¤. (1) Before ê°ê°ì˜ ë©”ë‰´ ì²˜ë¦¬ í´ë˜ìŠ¤ì— ëŒ€í•´ ì‚¬ìš© ë°©ë²•(ë§¤ì„œë“œ í˜¸ì¶œ)ì´ ë‹¤ë¥´ë‹¤. (2) after ê°ì²´ ì‚¬ìš© ê·œì¹™ ì„ í†µì¼ì‹œí‚¨ë‹¤.(execute( )) Â  â‡’ Â  í”„ë¡œê·¸ë˜ë°ì˜ ì¼ê´€ì„± í™•ë³´ â‡’ Â  ìœ ì§€ë³´ìˆ˜ ê°€ ì‰¬ì›Œì§„ë‹¤(ì½”ë“œë¥¼ í•´ì„í•˜ê¸° ì‰½ë‹¤) Â  â‡’ Â  ë¹„ìš© ì ˆê° App 18. ë¦¬íŒ©í† ë§ : GRASPì˜ High Cohesion ì ìš©1. í•™ìŠµëª©í‘œ GRASP ê°ì²´ ì§€í–¥ ì„¤ê³„ ì§€ì¹¨ ì¤‘ì—ì„œ High Cohesionì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì„œë¸Œ ë©”ë‰´ ì²˜ë¦¬ë¥¼ ê° Command êµ¬í˜„ì²´ì— ì´ì „í•˜ê¸°3. ì‘ì—… Command ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ execute() ë©”ì„œë“œ ë³€ê²½ String name íŒŒë¼ë¯¸í„° ì œê±° package bitcamp.myapp.command; public interface Command { void execute(); } íšŒì› ì„œë¸Œ ë©”ë‰´ ê´€ë ¨ ì½”ë“œ ì´ì „ UserCommand í´ë˜ìŠ¤ ë³€ê²½ Appì˜ printSubMenu()ê³¼ subMenus ë°°ì—´ ê°€ì ¸ì˜¨ í›„ ìˆ˜ì •, ìƒì„±ì ìƒì„± Appì˜ processMenu() ì¤‘ ì„œë¸Œ ë©”ë‰´ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ execute()ë¡œ ê°€ì ¸ì™€ì„œ ìˆ˜ì • getMenuTitle(), isValidateMenu() ê°€ì ¸ì™€ì„œ ìˆ˜ì • App package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class UserCommand implements Command { String menuTitle; LinkedList userList = new LinkedList(); String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public UserCommand(String menuTitle) { this.menuTitle = menuTitle; } @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } System.out.printf(\"[%s]\\n\", menuName); switch (menuName) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } private void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); userList.add(user); } private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.toArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } private void viewUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } private void updateUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = (User) userList.get(userList.indexOf(new User(userNo))); if (deletedUser != null) { userList.remove(userList.indexOf(deletedUser)); System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } public LinkedList getUserList() { return this.userList; } void printMenus() { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } String getMenuTitle(int menuNo) { return isValidateMenu(menuNo) ? menus[menuNo - 1] : null; } boolean isValidateMenu(int menuNo) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } } execute() ë©”ì„œë“œì—ì„œ ë©”ì„œë“œ ì¶”ì¶œí•˜ì—¬ processMenu()ë¡œ ë§Œë“¤ê¸° @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } private void processMenu(String menuName) { System.out.printf(\"[%s]\\n\", menuName); switch (menuName) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } í”„ë¡œì íŠ¸ ì„œë¸Œ ë©”ë‰´ ê´€ë ¨ ì½”ë“œ ì´ì „ ProjectCommand í´ë˜ìŠ¤ ë³€ê²½ ProjectCommand package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class ProjectCommand implements Command { String menuTitle; LinkedList projectList = new LinkedList(); LinkedList userList; String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public ProjectCommand(String menuTitle, LinkedList userlist) { this.menuTitle = menuTitle; this.userList = userlist; } @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } private void processMenu(String name) { System.out.printf(\"[%s]\\n\", name); switch (name) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } private void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); project.setNo(Project.getNextSeqNo()); projectList.add(project); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (Object obj : projectList.toArray()) { Project project = (Project) obj; System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } private void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.getMembers().size(); i++) { User user = (User) project.getMembers().get(i); System.out.printf(\"- %s\\n\", user.getName()); } } private void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteProject() { int projectNo = Prompt.inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ Project deletedProject = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (deletedProject != null) { projectList.remove(projectList.indexOf(deletedProject)); System.out.printf(\"%dë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedProject.getNo()); } else { System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } private void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.getMembers().contains(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.getMembers().add(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private void deleteMembers(Project project) { for (int i = 0; i &lt; project.getMembers().size(); i++) { User member = (User) project.getMembers().get(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.getMembers().remove(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } void printMenus() { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } String getMenuTitle(int menuNo) { return isValidateMenu(menuNo) ? menus[menuNo - 1] : null; } boolean isValidateMenu(int menuNo) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } } ê²Œì‹œíŒ ì„œë¸Œ ë©”ë‰´ ê´€ë ¨ ì½”ë“œ ì´ì „ BoardCommand í´ë˜ìŠ¤ ë³€ê²½ BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand implements Command { String menuTitle; LinkedList boardList = new LinkedList(); String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public BoardCommand(String menuTitle) { this.menuTitle = menuTitle; } @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } private void processMenu(String menuName) { System.out.printf(\"[%s]\\n\", menuName); switch (menuName) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); boardList.add(board); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Object obj : boardList.toArray()) { Board board = (Board) obj; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (deletedBoard != null) { boardList.remove(boardList.indexOf(deletedBoard)); System.out.printf(\"%dë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedBoard.getNo()); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } void printMenus() { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } String getMenuTitle(int menuNo) { return isValidateMenu(menuNo) ? menus[menuNo - 1] : null; } boolean isValidateMenu(int menuNo) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } } App í´ë˜ìŠ¤ ë³€ê²½ ì„œë¸Œ ë©”ë‰´ ê´€ë ¨ ì½”ë“œ ì œê±°, execute(), processMenu() ì •ë¦¬ App package bitcamp.myapp; import bitcamp.myapp.command.BoardCommand;import bitcamp.myapp.command.ProjectCommand;import bitcamp.myapp.command.UserCommand;import bitcamp.myapp.util.Prompt; public class App { String[] mainMenus = {\"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; UserCommand userCommand = new UserCommand(\"íšŒì›\"); BoardCommand boardCommand = new BoardCommand(\"ê²Œì‹œíŒ\"); ProjectCommand projectCommand = new ProjectCommand(\"í”„ë¡œì íŠ¸\", userCommand.getUserList()); public static void main(String[] args) { new App().execute(); } void execute() { printMenu(); String command; while (true) { try { command = Prompt.input(\"ë©”ì¸&gt;\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo, mainMenus); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { processMenu(menuTitle); } } } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); Prompt.close(); } void printMenu() { String bold = \"\\u001B[1m\"; String red = \"\\u001B[31m\"; String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String line = \"--------------------------------------------\"; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); for (int i = 0; i &lt; mainMenus.length; i++) { if (i == mainMenus.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, mainMenus[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, mainMenus[i]); } } System.out.println(bold + line + reset); } boolean isValidateMenu(int menuNo, String[] menus) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } String getMenuTitle(int menuNo, String[] menus) { return isValidateMenu(menuNo, menus) ? menus[menuNo - 1] : null; } void processMenu(String menuTitle) { switch (menuTitle) { case \"íšŒì›\": userCommand.execute(); break; case \"í”„ë¡œì íŠ¸\": projectCommand.execute(); break; case \"ê²Œì‹œíŒ\": boardCommand.execute(); break; case \"ë„ì›€ë§\": System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); } } } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 18. ë¦¬í™í† ë§ - (1) ë¬¸ì œì  ì„œë¸Œ ë©”ë‰´ë¥¼ ë³€ê²½í•˜ë©´ ì„œë¸Œ ë©”ë‰´ ì²˜ë¦¬ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒë„ ë³€ê²½í•´ì•¼ í•œë‹¤. ë©”ì¸ ë©”ë‰´ë„ ë‹¤ë£¨ê³  ì„œë¸Œ ë©”ë‰´ë„ ë‹¤ë£¬ë‹¤. Â  â‡’ Â  ì‘ì§‘ë ¥ì´ ì¢‹ì§€ ì•Šë‹¤ !!ğŸ”† 18. ë¦¬í™í† ë§ - (2) í•´ê²° : GRASPì˜ High Cohesion ì ìš© subMenus : Stirng[]ì„ Command êµ¬í˜„ì²´ë¡œ ì´ë™ì‹œí‚¨ë‹¤. â‡’ Â  ì„œë¸Œ ë©”ë‰´ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ Command êµ¬í˜„ì²´ì—ê²Œ ë§¡ê¸´ë‹¤. â‡’ Â  ì‘ì§‘ë ¥ì„ ë†’íŒë‹¤ !! App 19. ë¦¬íŒ©í† ë§ : ìƒì†ì˜ Generalization ì ìš©1. í•™ìŠµëª©í‘œ ìƒì†ì˜ Generalizationì„ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. ì¶”ìƒ í´ë˜ìŠ¤ì˜ ì—­í• ì„ ì´í•´í•˜ê³  ì ìš©í•  ìˆ˜ ìˆë‹¤. GoFì˜ Template Method ì„¤ê³„ íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ArrayList, LinkedListì˜ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ìƒì†ì˜ Generalizationìœ¼ë¡œ ì²˜ë¦¬ UserCommand, ProjectCommand, BoardCommandì˜ blue&gt;ê³µí†µ ì½”ë“œ&lt;/span&gt;ë¥¼ ë¶„ë¦¬í•˜ì—¬ ìƒì†ì˜ Generalizationìœ¼ë¡œ ì²˜ë¦¬3. ì‘ì—… ArrayList, LinkedList ì¼ë°˜í™” í•˜ê¸° ArrayListì™€ LinkedListì˜ ê³µí†µ ë¶„ëª¨ë¥¼ ì¶”ì¶œí•œë‹¤. AbstractList í´ë˜ìŠ¤ ì¶”ê°€ ë‘ í´ë˜ìŠ¤ì˜ ê³µí†µ ë¶„ëª¨ì¸ int size, size()ë¥¼ ê°€ì§€ê³  ìƒì„± ë‹¨, í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì ‘ê·¼ ì œí•œìë¥¼ protectedë¡œ ì„¤ì • package bitcamp.myapp.util; public abstract class AbstractList implements List { protected int size = 0; @Override public int size() { return size; } } ArrayList, LinkedListëŠ” AbstractList ë¥¼ ìƒì†í•œë‹¤. ArrayList ë³€ê²½ public class ArrayList extends AbstractList { private static final int MAX_SIZE = 100; private Object[] list = new Object[MAX_SIZE]; ... LinkedList ë³€ê²½ public class LinkedList extends AbstractList { Node first; Node last; ... XxxCommand ì¼ë°˜í™” í•˜ê¸° â€œë„ì›€ë§â€ ë©”ë‰´ë¥¼ ì²˜ë¦¬í•  ì½”ë“œë¥¼ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬ HelpCommand í´ë˜ìŠ¤ ì •ì˜ package bitcamp.myapp.command; public class HelpCommand implements Command { String menuTitle; public HelpCommand(String menuTitle) { this.menuTitle = menuTitle; } public void execute() { System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); } } App í´ë˜ìŠ¤ public class App { String[] mainMenus = {\"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; UserCommand userCommand = new UserCommand(\"íšŒì›\"); BoardCommand boardCommand = new BoardCommand(\"ê²Œì‹œíŒ\"); ProjectCommand projectCommand = new ProjectCommand(\"í”„ë¡œì íŠ¸\", userCommand.getUserList()); HelpCommand helpCommand = new HelpCommand(\"ë„ì›€ë§\"); ... void processMenu(String menuTitle) { switch (menuTitle) { case \"íšŒì›\": userCommand.execute(); break; case \"í”„ë¡œì íŠ¸\": projectCommand.execute(); break; case \"ê²Œì‹œíŒ\": boardCommand.execute(); break; case \"ë„ì›€ë§\": helpCommand.execute(); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); } } XxxCommandì˜ ê³µí†µ ì½”ë“œë¥¼ ì¶”ì¶œí•˜ì—¬ ìˆ˜í¼ í´ë˜ìŠ¤ë¡œ ì •ì˜ AbstractCommand ì¶”ìƒ í´ë˜ìŠ¤ ì •ì˜ protected String menuTitleë¥¼ ê°€ì ¸ì˜¤ê³  ìƒì„±ìë¥¼ ìƒì„±í•œë‹¤. ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ê³µí†µ ì½”ë“œë¥¼ ë‘ëŠ” ê³³ì´ë‹¤. String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"};ë¥¼ ê°€ì ¸ì˜¤ë©´ ë©”ë‰´ë§ˆë‹¤ menusì˜ ë‚´ìš©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤. â‡’ Â  í…œí”Œë¦¿ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ í•´ê²° â­ GoF í…œí”Œë¦¿ ë©”ì„œë“œ ì„¤ê³„ íŒ¨í„´ ì ìš© â­ printMenus()ë¥¼ ê°€ì ¸ì™€ì„œ ìˆ˜ì •í•œë‹¤. getMenus()ë¥¼ ì¶”ìƒ ë©”ì„œë“œë¡œ í•˜ì—¬ êµ¬ì²´ì ì¸ ë™ì‘ì€ ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œë‹¤ protected String menuTitle; public AbstractCommand(String menuTitle) { this.menuTitle = menuTitle; } private void printMenus() { String[] menus = getMenus(); System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } protected abstract String[] getMenus(); â­ GoF í…œí”Œë¦¿ ë©”ì„œë“œ ì„¤ê³„ íŒ¨í„´ ì ìš© â­ execute()ë¥¼ ê°€ì ¸ì™€ì„œ ìˆ˜ì •í•œë‹¤. processMenu() ì¶”ìƒë©”ì„œë“œë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ê³  ì‚¬ìš©í•œë‹¤. êµ¬í˜„ì€ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ í•˜ë„ë¡ ê°•ì œí•œë‹¤. @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } protected abstract void processMenu(String menuName); getMenuTitle(), isValidateMenu()ë¥¼ ì¶”ìƒí´ë˜ìŠ¤ë¡œ ê°€ì ¸ì™€ì„œ ìˆ˜ì • private String getMenuTitle(int menuNo) { String[] menus = getMenus(); return isValidateMenu(menuNo) ? menus[menuNo - 1] : null; } private boolean isValidateMenu(int menuNo) { String[] menus = getMenus(); return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } AbstractCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; public abstract class AbstractCommand implements Command { protected String menuTitle; public AbstractCommand(String menuTitle) { this.menuTitle = menuTitle; } private void printMenus() { String[] menus = getMenus(); System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } protected abstract String[] getMenus(); @Override public void execute() { printMenus(); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printMenus(); continue; } else if (command.equals(\"9\")) { return; } try { int menuNo = Integer.parseInt(command); String menuName = getMenuTitle(menuNo); if (menuName == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); continue; } processMenu(menuName); } catch (NumberFormatException e) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } protected abstract void processMenu(String menuName); private String getMenuTitle(int menuNo) { String[] menus = getMenus(); return isValidateMenu(menuNo) ? menus[menuNo - 1] : null; } private boolean isValidateMenu(int menuNo) { String[] menus = getMenus(); return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } } UserCommand, ProjectCommand, BoardCommand í´ë˜ìŠ¤ë¥¼ ì„œë¸Œ í´ë˜ìŠ¤ë¡œ ì •ì˜ Appì—ì„œ ìƒì„±ìë¡œ ë°›ì€ íŒŒë¼ë¯¸í„°ë¥¼ super í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ë©° ì „ë‹¬í•œë‹¤. ì¶”ìƒ ë©”ì„œë“œì¸ getMenus()ë¥¼ menus í•„ë“œë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•˜ê³  menus í•„ë“œë¥¼ privateìœ¼ë¡œ ì „í™˜í•œë‹¤. ê¸°ì¡´ì˜ processMenus()ë¥¼ @Override ì²˜ë¦¬í•˜ê³  protectedë¡œ ì „í™˜í•˜ë©´ êµ¬í˜„ ì™„ë£Œëœë‹¤. UserCommand package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class UserCommand extends AbstractCommand { LinkedList userList = new LinkedList(); private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public UserCommand(String menuTitle) { super(menuTitle); } @Override protected void processMenu(String menuName) { System.out.printf(\"[%s]\\n\", menuName); switch (menuName) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } private void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); userList.add(user); } private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.toArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } private void viewUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } private void updateUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = (User) userList.get(userList.indexOf(new User(userNo))); if (deletedUser != null) { userList.remove(userList.indexOf(deletedUser)); System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } public LinkedList getUserList() { return this.userList; } @Override protected String[] getMenus() { return menus; } } BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand extends AbstractCommand { LinkedList boardList = new LinkedList(); private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public BoardCommand(String menuTitle) { super(menuTitle); } @Override protected void processMenu(String menuName) { System.out.printf(\"[%s]\\n\", menuName); switch (menuName) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); boardList.add(board); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Object obj : boardList.toArray()) { Board board = (Board) obj; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = (Board) boardList.get(boardList.indexOf(new Board(boardNo))); if (deletedBoard != null) { boardList.remove(boardList.indexOf(deletedBoard)); System.out.printf(\"%dë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedBoard.getNo()); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } @Override protected String[] getMenus() { return menus; } } ProjectCommand package bitcamp.myapp.command; import bitcamp.myapp.util.LinkedList; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class ProjectCommand extends AbstractCommand { LinkedList projectList = new LinkedList(); LinkedList userList; private String[] menus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public ProjectCommand(String menuTitle, LinkedList userlist) { super(menuTitle); this.userList = userlist; } @Override protected void processMenu(String name) { System.out.printf(\"[%s]\\n\", name); switch (name) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } private void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); project.setNo(Project.getNextSeqNo()); projectList.add(project); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (Object obj : projectList.toArray()) { Project project = (Project) obj; System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } private void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.getMembers().size(); i++) { User user = (User) project.getMembers().get(i); System.out.printf(\"- %s\\n\", user.getName()); } } private void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteProject() { int projectNo = Prompt.inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ Project deletedProject = (Project) projectList.get(projectList.indexOf(new Project(projectNo))); if (deletedProject != null) { projectList.remove(projectList.indexOf(deletedProject)); System.out.printf(\"%dë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedProject.getNo()); } else { System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } private void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = (User) userList.get(userList.indexOf(new User(userNo))); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.getMembers().contains(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.getMembers().add(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private void deleteMembers(Project project) { for (int i = 0; i &lt; project.getMembers().size(); i++) { User member = (User) project.getMembers().get(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.getMembers().remove(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } @Override protected String[] getMenus() { return menus; } } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† ìƒì†ì˜ Generalization - (1) before Before LinkedListì™€ ArrayListì˜ ë‹¤ë¥¸ ë©”ì„œë“œë“¤ì€ êµ¬ë™ ì›ë¦¬ê°€ ë‹¤ë¥´ë¯€ë¡œ ê³µí†µ ì½”ë“œë¡œ ë½‘ì„ ìˆ˜ ì—†ë‹¤. ArrayListì˜ add()ì™€ LinkedListì˜ add() ì²˜ëŸ¼ ë‘ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œëŠ” ë‚´ë¶€ ì½”ë“œê°€ ë‹¤ë¥´ë‹¤. ê·¸ëŸ°ë° 1ê°œ ê°™ì€ ê²ƒì´ ìˆë‹¤. size()ì´ë‹¤. size() ë©”ì„œë“œëŠ” ë™ì¼í•˜ë¯€ë¡œ ë©”ì„œë“œë¥¼ ë½‘ì•„ì„œ ì¶”ìƒí´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. &lt;&lt;concrete&gt;&gt; Â  : Â  ì¼ë°˜ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì„œ ì“¸ ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ğŸ”† ìƒì†ì˜ Generalization - (1) after After ì„œë¸Œ í´ë˜ìŠ¤ì—ê²Œ ê³µí†µ í•„ë“œë‚˜ ë©”ì„œë“œë¥¼ ìƒì†í•´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ì–´ì„œ ì§ì ‘ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì€ í´ë˜ìŠ¤ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•œë‹¤. ğŸ”† ìƒì†ì˜ Generalization - (2) before Before 3ê°œì—ëŠ” ê³µí†µ ì½”ë“œê°€ ìˆìœ¼ë‚˜ ë‚˜ë¨¸ì§€ 1ê°œ(Help)ì—ëŠ” ê³µí†µ ì½”ë“œê°€ 1ê°œ ë¿ì´ë‹¤. ğŸ”† ìƒì†ì˜ Generalization - (2) after After ê³µí†µ ì½”ë“œë¥¼ ì¶”ì¶œí•˜ì—¬ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì´ í´ë˜ìŠ¤ë¥¼ ì¶”ìƒí´ë˜ìŠ¤ë¡œ ë§Œë“ ë‹¤. ì´ ì¶”ìƒí´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ ê·œì¹™ì„ ë”°ë¥¸ë‹¤. " }, { "title": "App 15-16. ArrayListì™€ LinkedList", "url": "/posts/app-15-16/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "LinkedList, ArrayList, ë°°ì—´", "date": "2024-12-22 10:00:00 +0900", "snippet": "App 15. ë°°ì—´ í¬ê¸° ìë™ ì¦ê°€ì‹œí‚¤ê¸° : ë°°ì—´ ë³µì œì™€ ë¬¸ì œì 1. í•™ìŠµëª©í‘œ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë°°ì—´ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì˜ ì¥ì ê³¼ ë‹¨ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë°ì´í„°ì˜ ì €ì¥ ê°œìˆ˜ë¥¼ ë¬´ì œí•œìœ¼ë¡œ ë§Œë“¤ê¸°3. ì‘ì—… ë°°ì—´ í™•ì¥ í•˜ê¸° ArrayList í´ë˜ìŠ¤ ë³€ê²½ add() ë©”ì„œ...", "content": "App 15. ë°°ì—´ í¬ê¸° ìë™ ì¦ê°€ì‹œí‚¤ê¸° : ë°°ì—´ ë³µì œì™€ ë¬¸ì œì 1. í•™ìŠµëª©í‘œ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë°°ì—´ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì˜ ì¥ì ê³¼ ë‹¨ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë°ì´í„°ì˜ ì €ì¥ ê°œìˆ˜ë¥¼ ë¬´ì œí•œìœ¼ë¡œ ë§Œë“¤ê¸°3. ì‘ì—… ë°°ì—´ í™•ì¥ í•˜ê¸° ArrayList í´ë˜ìŠ¤ ë³€ê²½ add() ë©”ì„œë“œ ë³€ê²½ ë°°ì—´ì´ ê½‰ ì°¨ë©´(size == list.length) 1.5ë°°ì˜ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ ë³µì œí•œë‹¤. ê¸°ì¡´ ë ˆí¼ëŸ°ìŠ¤ì— ìƒˆë¡œìš´ ë°°ì—´ì˜ ì£¼ì†Œë¥¼ ë‹´ëŠ”ë‹¤. public void add(Object obj) { list[size++] = obj; if (size == list.length) { int oldSize = list.length; int newSize = oldSize + (oldSize / 2); Object[] arr = new Object[newSize]; for (int i = 0; i &lt; list.length; i++) { arr[i] = list[i]; } list = arr; System.out.println(\"ë°°ì—´ í¬ê¸° ì¦ê°€!\"); } list[size++] = obj; } add() ë©”ì„œë“œì˜ ë°°ì—´ í™•ì¥ ë¶€ë¶„ì„ grow() ë©”ì„œë“œë¡œ ì¶”ì¶œ public void add(Object obj) { list[size++] = obj; if (size == list.length) { grow(); } list[size++] = obj; } private void grow() { int oldSize = list.length; int newSize = oldSize + (oldSize / 2); Object[] arr = new Object[newSize]; for (int i = 0; i &lt; list.length; i++) { arr[i] = list[i]; } list = arr; System.out.println(\"ë°°ì—´ í¬ê¸° ì¦ê°€!\"); } Javaì—ì„œ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ë¡œ ë°°ì—´ í¬ê¸° ì¦ê°€í•˜ê¸° Arrays.copyOf( ) í™œìš© â­ ë¹„íŠ¸ ì—°ì‚°ì &gt;&gt; 1ê°€ ê²°ê³¼ëŠ” ë™ì¼í•˜ì§€ë§Œ / 2 ì—°ì‚°ë³´ë‹¤ ì‹¤í–‰ ì†ë„ê°€ ë¹ ë¥´ë‹¤. â­ copyOf(ê¸°ì¡´ ë°°ì—´, ìƒˆë¡œìš´ í¬ê¸°) public void add(Object obj) { list[size++] = obj; if (size == list.length) { int oldSize = list.length; int newSize = oldSize + (oldSize &gt;&gt; 1); list = Arrays.copyOf(list, newSize); } list[size++] = obj; } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 15. ë°°ì—´ í¬ê¸°ë¥¼ ìë™ìœ¼ë¡œ ì¦ê°€ì‹œí‚¤ê¸° ë°°ì—´ì€ ì²˜ìŒ ìƒì„±í•  ë•Œ í¬ê¸°ë¡œ ê³ ì •ëœë‹¤. Â  (í¬ê¸°ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤) ê¸°ì¡´ ë°°ì—´ë³´ë‹¤ ë” í° ë°°ì—´ ìƒì„± í›„ ê¸°ì¡´ ë°°ì—´ì˜ ê°’ì„ ë³µì‚¬í•´ì˜¨ë‹¤.App 16. LinkedList ìë£Œ êµ¬ì¡° êµ¬í˜„í•˜ê¸° : ë°°ì—´ì˜ ë‹¨ì  ê·¹ë³µ1. í•™ìŠµëª©í‘œ LinkedListì˜ êµ¬ë™ ì›ë¦¬ë¥¼ ì„¤ëª…í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë°°ì—´ì„ ì‚¬ìš©í•  ë•Œ ìœ ë¦¬í•œ ê²½ìš°ì™€ LinkedListë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ë¦¬í•œ ê²½ìš°ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë°°ì—´ë¡œ ë°ì´í„° ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ëŒ€ì‹ ì— LinkedList ìë£Œ êµ¬ì¡°ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„° ëª©ë¡ì„ ë‹¤ë£¨ê¸°3. ì‘ì—… ê°’ì„ ë³´ê´€í•œ ë…¸ë“œ ì—­í• ì„ í•  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. Node í´ë˜ìŠ¤ ì¶”ê°€ package bitcamp.myapp.command; public class Node { Object value; Node next; public Node(Object value) { this.value = value; } } Linked List ìë£Œêµ¬ì¡°ë¥¼ êµ¬í˜„í•œë‹¤. LinkedList í´ë˜ìŠ¤ êµ¬í˜„ apend(), delete(), getValue(), index(), getArray(), size() LinkedList package bitcamp.myapp.command; public class LinkedList { Node first; Node last; int size; public void append(Object value) { Node newNode = new Node(value); if (first == null) { first = newNode; } else { last.next = newNode; last = newNode; } size++; } public Object getValue(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == index) { return cursor.value; } cursor = cursor.next; currentIndex++; } return null; } public Object delete(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Node deletedNode = null; size--; if (index == 0) { deletedNode = first; first = first.next; if (first == null) { last = null; } return deletedNode.value; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == (index - 1)) { break; } cursor = cursor.next; currentIndex++; } deletedNode = cursor.next; cursor.next = cursor.next.next; if (cursor.next == null) { last = cursor; } return deletedNode.value; } public int index(Object value) { Node cursor = first; int currentIndex = 0; while (cursor != null) { if (cursor.value == value) { return currentIndex; } cursor = cursor.next; currentIndex++; } return -1; } public Object[] getArray() { Object[] arr = new Object[size]; Node cursor = first; for (int i = 0; i &lt; size; i++) { arr[i] = cursor.value; cursor = cursor.next; } return arr; } public int size() { return size; } } UserList í´ë˜ìŠ¤ì˜ ìˆ˜í¼ í´ë˜ìŠ¤ë¥¼ ArrayList ëŒ€ì‹  LinkedListë¡œ êµì²´í•œë‹¤. UserList í´ë˜ìŠ¤ ë³€ê²½ package bitcamp.myapp.command; import bitcamp.myapp.vo.User; public class UserList extends LinkedList { public User findByNo(int userNo) { for (int i = 0; i &lt; size(); i++) { User user = (User) getValue(i); if (user.getNo() == userNo) { return user; } } return null; } } UserList í´ë˜ìŠ¤ ë³€ê²½ì— ë”°ë¼ UserCommand í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•œë‹¤. UserCommand í´ë˜ìŠ¤ ë³€ê²½ UserList í´ë˜ìŠ¤ì—ì„œ ArrayListì—ì„œ LinkedListë¡œì˜ super í´ë˜ìŠ¤ êµì²´ì— ë”°ë¼ ì‚¬ìš©ë²•(ë©”ì„œë“œ ê·œì¹™)ì´ ë‹¬ë¼ì¡Œê¸° ë•Œë¬¸ì— ì½”ë“œ ë³€ê²½ ë°œìƒí•œë‹¤. ... private void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); userList.append(user); } private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.getArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } ... private void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = userList.findByNo(userNo); if (deletedUser != null) { userList.delete(userList.index(deletedUser)); System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 16. LinkedList ìë£Œ êµ¬ì¡° êµ¬í˜„í•˜ê¸° ë°°ì—´ ë°©ì‹ ì¥ì  ë©”ëª¨ë¦¬ í¬ê¸° ê³ ì • Â  â‡’ Â  ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì ‘ê·¼ì´ ìš©ì´ ë‹¨ì  ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ ëŠ˜ë¦´ ìˆ˜ ì—†ë‹¤(ì¶”ê°€ ì €ì¥ ë¶ˆê°€) Â  â‡’ Â  ìƒˆ ë°°ì—´ì„ ë§Œë“  í›„ ê¸°ì¡´ ë°°ì—´ ê°’ ë³µì œ â‡’ Â  ê°€ë¹„ì§€ê°€ ë§ì´ ìƒì„±ëœë‹¤. ì‚½ì…, ì‚­ì œí•  ë•Œ í•­ëª©ì˜ ê°’ì„ ë°€ê³ , ë‹¹ê¸°ê³  í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ì†ë„ê°€ ë–¨ì–´ì§„ë‹¤. ë‹¨ì  ê·¹ë³µ Â  â‡’ Â  Linked List ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥ ë©”ëª¨ë¦¬ë¥¼ ëŠ˜ë¦¬ê¸° ì‰½ë‹¤. ì‚½ì…, ì‚­ì œê°€ ì‰½ë‹¤. ë‹¨ì  Â  : Â  ë°ì´í„° ì¡°íšŒ ì‹œ ì‹œê°„ì´ ë§ì´ ì†Œìš” ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•ŒëŠ” ë°°ì—´ì´ linkedlistë³´ë‹¤ ë¹ ë¥´ë‹¤. ëŒ€ì‹  ì‚½ì…, ì‚­ì œì˜ ê²½ìš° ë°˜ëŒ€ì´ë‹¤.ğŸ”† Linked Listì˜ êµ¬ë™ ì›ë¦¬ - (1) ì…ë ¥ ì…ë ¥ Â  : Â  append() ë©”ì„œë“œ Â  (add() ë©”ì„œë“œ) @Override public void add(Object value) { Node newNode = new Node(value); // if (first == null) { last = first = newNode; } else { last.next = newNode; last = newNode; // } size++; } ìƒˆ ê°’ì„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ìœ¼ë©´ ê°’ì„ ë°›ì•„ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ìƒì„±í•œë‹¤. ê¸°ì¡´ì˜ ë…¸ë“œê°€ ì—†ë‹¤ë©´ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì²« ë…¸ë“œì™€ ëë…¸ë“œë¡œ ì„¤ì •í•œë‹¤. ê¸°ì¡´ì˜ ë…¸ë“œê°€ ìˆë‹¤ë©´ ê¸°ì¡´ì˜ ë§ˆì§€ë§‰ ë…¸ë“œì˜ next í•„ë“œ ì— ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ë„£ì–´ ì—°ê²°ì‹œí‚¨ë‹¤. ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ í•œë‹¤. sizeë¥¼ 1 ì¦ê°€ì‹œí‚¨ë‹¤. ğŸ”† Linked Listì˜ êµ¬ë™ ì›ë¦¬ - (2) ì¡°íšŒ ì¡°íšŒ Â  : Â  getValue() ë©”ì„œë“œ Â  (get() ë©”ì„œë“œ) @Override public Object get(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == index) { return cursor.value; } cursor = cursor.next; currentIndex++; } return null; } list.getValue(index)ë¥¼ í˜¸ì¶œí•˜ë©´ ë¨¼ì € indexê°€ ìœ íš¨í•œì§€ í‰ê°€í•œë‹¤. ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ nullì„ ë°˜í™˜í•œë‹¤. í˜„ì¬ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ Node ê°ì²´(cursor)ì™€ í˜„ì¬ ì¸ë±ìŠ¤(currentIndex)ë¥¼ ë§Œë“ ë‹¤. cursorê°€ nullì´ ì•„ë‹Œ ì–´ë– í•œ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¨ë‹¤ë©´ ë°˜ë³µ ì‹œí–‰í•œë‹¤. ë°˜ë³µí•˜ë‹¤ê°€ currentIndexì™€ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ indexê°€ ê°™ì€ ê²½ìš° ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ë…¸ë“œì˜ ê°’ì„ ë°˜í™˜í•œë‹¤. indexê°€ ê°™ì§€ ì•Šë‹¤ë©´ cursorë¥¼ ë‹¤ìŒ ë…¸ë“œë¡œ ì´ë™ì‹œí‚¤ê³  í˜„ì¬ ì¸ë±ìŠ¤ë„ 1ì¦ê°€ì‹œì¼œì¤€ë‹¤. ëª¨ë‘ ëŒì•„ë„ ì°¾ì§€ ëª»í•œë‹¤ë©´ nullì„ ë°˜í™˜í•œë‹¤. 0ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ê¸° list.getValue(0) í˜„ì¬ ìƒíƒœ Â  : Â  first-[200], last-[400] cursorëŠ” ì²«ë²ˆì§¸ ë…¸ë“œë¡œ, currentIndexëŠ” 0ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤. (cursor-[200], currentIndex-[0]) êº¼ë‚´ë ¤ëŠ” ê°’ : 0ë²ˆ Â  Â  Â  currentIndex : 0ë²ˆ â‡’ Â  ì²«ë²ˆì§¸ ë…¸ë“œì˜ ê°’ì„ êº¼ë‚¸ë‹¤. Â  â‡’ Â  ì¦‰ â€œí™ê¸¸ë™â€ì„ returní•œë‹¤. 1ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ê¸° list.getValue(1) í˜„ì¬ ìƒíƒœ Â  : Â  first-[200], last-[400] cursor-[200], currentIndex-[0] êº¼ë‚´ë ¤ëŠ” ê°’ : 1ë²ˆ Â  Â  Â  currentIndex : 0ë²ˆ â‡’ Â  ê°™ì§€ ì•Šìœ¼ë¯€ë¡œ cursorë¥¼ ë‹¤ìŒìœ¼ë¡œ ì´ë™ (cursor.next) â‡’ Â  êº¼ë‚´ë ¤ëŠ” ê°’ : 1ë²ˆ Â  Â  Â  currentIndex : 1ë²ˆ â‡’ Â  2ë²ˆì§¸ ë…¸ë“œì˜ ê°’ì„ êº¼ë‚¸ë‹¤. Â  â‡’ Â  â€œì„êº½ì •â€ì„ returní•œë‹¤. 2ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ê¸° list.getValue(2) í˜„ì¬ ìƒíƒœ Â  : Â  first-[200], last-[400] cursor-[200], currentIndex-[0] êº¼ë‚´ë ¤ëŠ” ê°’ : 2ë²ˆ Â  Â  Â  currentIndex : 0ë²ˆ â‡’ Â  ê°™ì§€ ì•Šìœ¼ë¯€ë¡œ cursorë¥¼ ë‹¤ìŒìœ¼ë¡œ ì´ë™ (cursor.next) â‡’ Â  êº¼ë‚´ë ¤ëŠ” ê°’ : 2ë²ˆ Â  Â  Â  currentIndex : 1ë²ˆ â‡’ Â  ê°™ì§€ ì•Šìœ¼ë¯€ë¡œ cursorë¥¼ ë‹¤ìŒìœ¼ë¡œ ì´ë™ (cursor.next) â‡’ Â  êº¼ë‚´ë ¤ëŠ” ê°’ : 2ë²ˆ Â  Â  Â  currentIndex : 2ë²ˆ â‡’ Â  3ë²ˆì§¸ ë…¸ë“œì˜ ê°’ì„ êº¼ë‚¸ë‹¤. Â  â‡’ Â  â€œìœ ê´€ìˆœâ€ì„ returní•œë‹¤. ğŸ”† Linked Listì˜ êµ¬ë™ ì›ë¦¬ : (3) ì‚­ì œ - â‘  ì²«ë²ˆì§¸ ë…¸ë“œâ­ ì‚­ì œ Â  : Â  delete() ë©”ì„œë“œ Â  (remove() ë©”ì„œë“œ) ì œê±°í•˜ëŠ” ë°©ì‹ì€ ê²½ìš°ì˜ ìˆ˜ë¥¼ 3ê°€ì§€ë¡œ ë‚˜ëˆ ì„œ ì œê±°í•´ì•¼ í•œë‹¤. ì²«ë²ˆì§¸ ë…¸ë“œë¥¼ ì œê±°í•˜ëŠ” ê²½ìš° ì¤‘ê°„ ë…¸ë“œë¥¼ ì œê±°í•˜ëŠ” ê²½ìš° ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ì œê±°í•˜ëŠ” ê²½ìš° ì²«ë²ˆì§¸ ê°’ì„ ì œê±°í•˜ê¸° Â  (0ë²ˆì§¸ ê°’ ì œê±°) @Override public Object remove(int index) { if (index &lt; 0 || index &gt;= size) { **** return null; } Node deletedNode = null; size--; if (index == 0) { deletedNode = first; first = first.next; if (first == null) { last = null; } return deletedNode.value; } ì œê±°ë¥¼ ì›í•˜ëŠ” ê°’ì˜ ì¸ë±ìŠ¤ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤. í•´ë‹¹ indexë¥¼ ìœ íš¨ì„± ê²€ì‚¬í•œë‹¤. ìœ íš¨í•˜ë‹¤ë©´ ì œê±° ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ìš°ì„  size--í•œë‹¤. (ì§€ì—­ ë³€ìˆ˜ì´ë¯€ë¡œ ì°¾ì•„ì•¼ í•˜ëŠ” ë…¸ë“œ ë³€ìˆ˜ë¥¼ ë¯¸ë¦¬ ì„ ì–¸í•˜ê³  nullë¡œ ì´ˆê¸°í™”) ì œê±°í•  ë…¸ë“œì˜ ì¸ë±ìŠ¤ê°€ 0ì¼ ë•Œ ì œê±°í•  ë…¸ë“œ ì •ë³´ë¥¼ ë”°ë¡œ ì €ì¥í•˜ê³  firstê°€ 2ë²ˆì§¸ ë…¸ë“œ(first.next)ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ í•œë‹¤. ë§Œì•½ ë°”ë€ firstê°€ nullì„ ê°€ë¦¬í‚¨ë‹¤ë©´, ì¦‰ ë‹¤ìŒ ë…¸ë“œë¥¼ ê°€ë¦¬ì¼°ëŠ”ë° ê·¸ê²ƒì´ nullì´ë¼ë©´ ë§ˆì§€ë§‰ ë…¸ë“œ ì—­ì‹œ nullë¡œ í•´ì¤˜ì•¼ í•œë‹¤. ë”°ë¡œ ì €ì¥í•œ ë…¸ë“œì˜ ê°’ì„ ë°˜í™˜í•œë‹¤. firstê°€ nullì¼ ë•Œ lastë„ nullì´ ë˜ê²Œ í•˜ëŠ” ì¡°ê±´ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤. â­ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ì‚­ì œí•˜ë©´ ì£¼ì†Œê°€ 400ë²ˆì§€ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ fisrtê°€ ê°€ë¦¬í‚¤ì§€ ì•Šê³  nullì„ ê°€ë¦¬í‚¨ë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ì§ lastëŠ” ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆê¸° ë•Œë¬¸ì— ë§ˆì§€ë§‰ ë…¸ë“œê°€ ê°€ë¹„ì§€ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ ğŸ”† Linked Listì˜ êµ¬ë™ ì›ë¦¬ : (3) ì‚­ì œ - â‘¡ ì¤‘ê°„ ë…¸ë“œâ­ ì¤‘ê°„ ê°’ì„ ì œê±°í•˜ê¸° í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” currentIndexì„ ë§Œë“¤ê³  í˜„ì¬ ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ëŠ” cursorë¼ëŠ” ë…¸ë“œë¥¼ ë§Œë“ ë‹¤. í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ ì¦ê°€ì‹œí‚¤ë©° cursor ë…¸ë“œë¥¼ ì´ë™ì‹œì¼œì„œ ì›í•˜ëŠ” ë…¸ë“œë¥¼ ì°¾ê³  ì œê±°í•˜ëŠ” ë°©ì‹ì´ë‹¤. Â  (ì¡°íšŒì™€ ë™ì¼) ë‹¨, cursor ë…¸ë“œë¥¼ ì œê±°ë¥¼ ì›í•˜ëŠ” ë…¸ë“œ ë°”ë¡œ ì „ê¹Œì§€ ì´ë™ì‹œí‚¨ë‹¤. ì œê±°ë¥¼ ì›í•˜ëŠ” ë…¸ë“œì˜ ë°”ë¡œ ì „ ë…¸ë“œì˜ next ê°’ì„ ë°”ê¿”ì„œ ì—°ê²°ì„ ì°¨ë‹¨í•˜ê³  ê·¸ ë‹¤ìŒ ê²ƒê³¼ ì—°ê²°í•˜ì—¬ ì œê±°í•œë‹¤. Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == (index - 1)) { break; } cursor = cursor.next; currentIndex++; } deletedNode = cursor.next; **cursor.next** = **cursor.next.next**; cursorë¼ëŠ” ë…¸ë“œë¥¼ ë§Œë“¤ê³  ì²« ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ í•œë‹¤. í˜„ì¬ ì¸ë±ìŠ¤ ì •ë³´(currentIndex)ë¡œ cursorì™€ ê°™ì´ ì›€ì§ì¸ë‹¤. ì¡°íšŒì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë°˜ë³µë¬¸ì„ í†µí•´ ì´ë™í•˜ë©° cursorì™€ currentIndexë¥¼ ì§€ìš°ë ¤ëŠ” ë…¸ë“œ ë°”ë¡œ ì „ê¹Œì§€ë§Œ ì´ë™ì‹œí‚¨ë‹¤. ë°”ë¡œ ì „ì˜ ë…¸ë“œì— ë„ë‹¬í•˜ë©´ ë‹¤ìŒ ë…¸ë“œ(cursor.next)ì˜ ì •ë³´ë¥¼ ë”°ë¡œ ì €ì¥í•´ë‘ê³  ë‹¤ìŒ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë˜ ê²ƒì„ ë‹¤ë‹¤ìŒ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½ ì˜ˆì‹œ Â  (4ë²ˆì§¸ ë…¸ë“œ ì œê±°) cursorê°€ 2ë²ˆ(400)ì— ë„ë‹¬í–ˆì„ë•Œ 2ë²ˆì˜ nextë¥¼ 500ì—ì„œ 600ìœ¼ë¡œ ë°”ê¾¸ë©´ ì—°ê²°ì´ ëŠì–´ì§€ê³  4ë²ˆ(600)ì´ ë’¤ì— ë¶™ëŠ”ë‹¤. ê¸°ì¡´ cursor.nextëŠ” 500ë²ˆì§€ë¡œ ì‚­ì œí•˜ë ¤ëŠ” ë…¸ë“œì˜ ì£¼ì†Œì´ê³  cursor.next.nextëŠ” 600ë²ˆì§€ì´ë‹¤. ğŸ”† Linked Listì˜ êµ¬ë™ ì›ë¦¬ : (3) ì‚­ì œ - â‘¢ ë§ˆì§€ë§‰ ë…¸ë“œâ­ ë§ˆì§€ë§‰ ê°’ì„ ì œê±°í•˜ê¸° ì¤‘ê°„ ê°’ ì œê±°ì™€ ê³¼ì •ì€ ë™ì¼í•˜ê²Œ ì œê±°ë¥¼ ì›í•˜ëŠ” ë…¸ë“œ(ë§ˆì§€ë§‰ ë…¸ë“œ) ë°”ë¡œ ì „ê¹Œì§€ cursor ë…¸ë“œë¥¼ ì´ë™ì‹œí‚¨ ë’¤ ì œê±°í•œë‹¤. ë‹¨, ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ì œê±°í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ ì½”ë“œê°€ í•„ìš”í•˜ë‹¤. if (cursor.next == null) { last = cursor; } ì¤‘ê°„ ê°’ ì œê±°ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ì œê±°í•œë‹¤ë©´ í˜„ì¬ cursorê°€ ê°€ë¦¬í‚¤ëŠ” ë…¸ë“œê°€ ìƒˆë¡œìš´ ë§ˆì§€ë§‰ ë…¸ë“œê°€ ë˜ê³  cursor.nextëŠ” nullì„ ë‚˜íƒ€ë‚¼ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ lastëŠ” ì œê±°ëœ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆìœ¼ë¯€ë¡œ cursor ë…¸ë“œê°€ ê°€ë¦¬í‚¤ëŠ” ë…¸ë“œë¡œ ë°”ê¿”ì¤€ë‹¤. ê·¸ë˜ì•¼ ê°€ë¹„ì§€ê°€ ë˜ì–´ì„œ ê°€ë¹„ì§€ ì²­ì†Œê°€ ë  ìˆ˜ ìˆë‹¤. ê°€ë¹„ì§€ ì²­ì†Œ ë¬¸ì œ Â  (ê³¼ê±°) ì´ ë°©ë²•ì€ ê°€ë¹„ì§€ ì²­ì†Œ ì‹œ ë¬¸ì œê°€ ìˆë‹¤. ìœ ê´€ìˆœ ë…¸ë“œë¥¼ ì§€ì›Œë„ ì„êº½ì • ë…¸ë“œì˜ Next ê°’ì´ ìœ ê´€ìˆœ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆì–´ì„œ ê°€ë¹„ì§€ê°€ ì•ˆ ëœë‹¤.ê·¸ ë‹¤ìŒ ì„êº½ì • ë…¸ë“œë¥¼ ì§€ì›Œë„ ì„êº½ì •ì„ í™ê¸¸ë™ì´ ê°€ë¦¬í‚¤ê¸° ë•Œë¬¸ì— ê°€ë¹„ì§€ê°€ ì•ˆ ëœë‹¤. ì¦‰, ìœ ê´€ìˆœ, ì„êº½ì • ë…¸ë“œë¥¼ ì§€ì›Œë„ ì´ê²ƒë“¤ì˜ reference countê°€ 1ì”© ìˆëŠ” ê²ƒì´ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ í™ê¸¸ë™ì„ ì§€ìš°ë©´ ì´í›„ ì²­ì†Œ ì‹œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ í™ê¸¸ë™ì€ ì§€ìš°ì§€ë§Œ ë ˆí¼ëŸ°ìŠ¤ ì¹´ìš´íŠ¸ê°€ ìˆëŠ” ì„êº½ì •ê³¼ ìœ ê´€ìˆœì„ ì§€ìš°ì§€ ì•ŠëŠ”ë‹¤.ë‹¤ìŒ ì²­ì†Œí•  ë•Œ ì„êº½ì •ì„ ì§€ì›Œì§€ê³  ê·¸ ë‹¤ìŒ ì²­ì†Œí•  ë•Œ ìœ ê´€ìˆœì´ ì§€ì›Œì§„ë‹¤. ê°€ë¹„ì§€ê°€ ê°€ë¦¬í‚¤ëŠ” ê²ƒë“¤ ì¤‘ ë ˆí¼ëŸ°ìŠ¤ ì¹´ìš´íŠ¸ê°€ 1ì¸ ì• ë“¤ì€ ê°€ë¹„ì§€ê°€ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ë‹¤.first.value = null;, first.next = null;ì´ë ‡ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜, ì´ ë¬¸ì œëŠ” ì•„ì£¼ ì˜ˆì „ì— ìˆë˜ ë¬¸ì œì´ë‹¤. ì§€ê¸ˆì€ í•´ê²°í•˜ëŠ” ê¸°ëŠ¥ì´ ë“¤ì–´ ìˆë‹¤. ğŸ‘ï¸â€ğŸ—¨ï¸[ê¸°ìˆ  ë©´ì ‘] ì† ì½”ë”© í…ŒìŠ¤íŠ¸ ì‹œ LinkedListì˜ remove( ) ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê¸° remove() @Override public Object remove(int index) { if (index &lt; 0 || index &gt;= size) { **** return null; } Node deletedNode = null; size--; if (index == 0) { deletedNode = first; first = first.next; if (first == null) { last = null; } return deletedNode.value; } Node cursor = first; int currentIndex = 0; while (cursor != null) { if (currentIndex == (index - 1)) { break; } cursor = cursor.next; currentIndex++; } deletedNode = cursor.next; **cursor.next** = **cursor.next.next**; if (cursor.next == null) { last = cursor; } return deletedNode.value; } ğŸ”† ìƒì†ì˜ ë‹¨ì  : super í´ë˜ìŠ¤ ë³€ê²½ì— ë”°ë¥¸ ì½”ë“œ ìˆ˜ì • ê¸°ì¡´ì˜ UserListëŠ” ArrayListë¥¼ ìƒì† ë°›ì•˜ì§€ë§Œ LinkedListë¡œ super í´ë˜ìŠ¤ë¥¼ ì „í™˜í•˜ë©´ ê°™ì€ ê¸°ëŠ¥ì´ì§€ë§Œ ì´ë¦„ì´ ë‹¬ë¼ì„œ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤." }, { "title": "App 14. ìƒì†ì˜ ì¼ë°˜í™” ê¸°ë²•", "url": "/posts/app-14/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "ìƒì†, Generalization, Object, Complier, JVM", "date": "2024-12-20 10:00:00 +0900", "snippet": "App 14. ê³µí†µ ì½”ë“œ ë¶„ë¦¬ì™€ ì‚¬ìš©í•˜ê¸° : ìƒì†ì˜ ì¼ë°˜í™”(generalization) ê¸°ë²•1. í•™ìŠµëª©í‘œ ìƒì†ì˜ ê¸°ë²• ì¤‘ ì¼ë°˜í™”(generalization)ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš© í•˜ê¸° ì‰½ë„ë¡ ë¦¬íŒ©í† ë§ í•˜ê¸°3. ì‘ì—… UserList, ProjectList, BoardList í´ë˜ìŠ¤ì—ì„œ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ...", "content": "App 14. ê³µí†µ ì½”ë“œ ë¶„ë¦¬ì™€ ì‚¬ìš©í•˜ê¸° : ìƒì†ì˜ ì¼ë°˜í™”(generalization) ê¸°ë²•1. í•™ìŠµëª©í‘œ ìƒì†ì˜ ê¸°ë²• ì¤‘ ì¼ë°˜í™”(generalization)ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš© í•˜ê¸° ì‰½ë„ë¡ ë¦¬íŒ©í† ë§ í•˜ê¸°3. ì‘ì—… UserList, ProjectList, BoardList í´ë˜ìŠ¤ì—ì„œ ê³µí†µ ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ì—¬ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ì •ì˜í•œë‹¤. ArrayList í´ë˜ìŠ¤ ì¶”ê°€ ë©”ì„œë“œ ì´ë¦„ ìˆ˜ì • Â  (delete( ) Â  â†’ Â  remove( )) ê¸°ì¡´ì˜ delete( )ëŠ” ë²ˆí˜¸ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ í•´ë‹¹í•˜ëŠ” ê°ì²´ë¥¼ ì°¾ê³ (findByNo( )), ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì—ì„œì˜ ê·¸ ê°ì²´ì˜ indexë¥¼ ì°¾ê³ (indexOf( )), ì´ indexë¡œ ë°°ì—´ì—ì„œ í•´ë‹¹ ê°ì²´ë¥¼ ì œê±°í–ˆë‹¤. remove( )ëŠ” ì™¸ë¶€ì—ì„œ findByNo( )ì™€ indexOf( )ë¡œ indexë¥¼ êµ¬í•´ì„œ ì´ indexë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ”ë‹¤. indexê°€ ìœ íš¨í•œì§€ size í•„ë“œë¥¼ ì´ìš©í•˜ì—¬ í‰ê°€ í›„, ì´ indexë¡œ ë°°ì—´ì—ì„œ ê°ì²´ë¥¼ ì œê±°í•œë‹¤. size() ë©”ì„œë“œ ìƒì„± Â  Â  â‡’ Â  Â  í•„ë“œê°€ private ì´ë¯€ë¡œ ì‚¬ìš©í•˜ë ¤ê³  get() ë©”ì„œë“œ ìƒì„± ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì€ indexì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê³  ìœ íš¨í•˜ë‹¤ë©´ ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê°ì²´ë¥¼ ë°˜í™˜ ArrayList package bitcamp.myapp.command; public class ArrayList { private static final int MAX_SIZE = 100; private Object[] list = new Object[MAX_SIZE]; private int size = 0; public void add(Object obj) { list[size++] = obj; } public Object[] toArray() { Object[] arr = new Object[size]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = list[i]; } return arr; } public int indexOf(Object obj) { for (int i = 0; i &lt; size; i++) { if (list[i] == obj) { return i; } } return -1; } public Object remove(int index) { if (index &lt; 0 || index &gt;= size) { return null; } Object deletedObj = list[index]; for (int i = index + 1; i &lt; size; i++) { list[i - 1] = list[i]; } list[--size] = null; return deletedObj; } public int size() { return size; } public Object get(int index) { if (index &lt; 0 || index &gt;= size) { return null; } return list[index]; } } UserList í´ë˜ìŠ¤ ë³€ê²½ ArrayListë¥¼ ìƒì†ë°›ì•„ì„œ ê³µí†µ ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê¸° ArrayListì˜ size í•„ë“œë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì§€ë§Œ ìƒì†ì´ë¼ë„ private í•„ë“œëŠ” ê·¸ëƒ¥ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ëª…ì‹œì  í˜•ë³€í™˜ìœ¼ë¡œ Object ê°ì²´ ë¦¬í„´ì„ ë°›ê¸° (ê°ì²´ì— ë‹´ëŠ” ê²ƒì´ User ê°ì²´ì´ë¯€ë¡œ ë‚˜ì˜¤ëŠ” ê²ƒë„ User ê°ì²´) package bitcamp.myapp.command; import bitcamp.myapp.vo.User; public class UserList extends ArrayList { public User findByNo(int userNo) { for (int i = 0; i &lt; size(); i++) { User user = (User) get(i); if (user.getNo() == userNo) { return user; } } return null; } } UserCommand í´ë˜ìŠ¤ ë³€ê²½ UserCommand .... private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.toArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } ... private void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = userList.findByNo(userNo); if (deletedUser != null) { userList.remove(userList.indexOf(deletedUser)); System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } ProjectList í´ë˜ìŠ¤ ë³€ê²½ package bitcamp.myapp.command; import bitcamp.myapp.vo.Project; public class ProjectList extends ArrayList { public Project findByNo(int projectNo) { for (int i = 0; i &lt; size(); i++) { Project project = (Project) get(i); if (project.getNo() == projectNo) { return project; } } return null; } } ProjectCommand í´ë˜ìŠ¤ ë³€ê²½ ProjectCommand ... private void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (Object obj : projectList.toArray()) { Project project = (Project) obj; System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } ... private void deleteProject() { int projectNo = Prompt.inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ Project deletedProject = projectList.findByNo(projectNo); if (deletedProject != null) { projectList.remove(projectList.indexOf(deletedProject)); System.out.printf(\"%dë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedProject.getNo()); } else { System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } BoardList í´ë˜ìŠ¤ ë³€ê²½ package bitcamp.myapp.command; import bitcamp.myapp.vo.Board; public class BoardList extends ArrayList { public Board findByNo(int boardNo) { for (int i = 0; i &lt; size(); i++) { Board board = (Board) get(i); if (board.getNo() == boardNo) { return board; } } return null; } } BoardCommand í´ë˜ìŠ¤ ë³€ê²½ BoardCommand ... private void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Object obj : boardList.toArray()) { Board board = (Board) obj; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } ... private void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = boardList.findByNo(boardNo); if (deletedBoard != null) { boardList.remove(boardList.indexOf(deletedBoard)); System.out.printf(\"%dë²ˆ ê²Œì‹œê¸€ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedBoard.getNo()); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } Project í´ë˜ìŠ¤ë„ ë©¤ë²„ ë°°ì—´ì„ArrayListë¡œ ë‹¤ë£¨ë„ë¡ í•œë‹¤. Project í´ë˜ìŠ¤ ë³€ê²½ ArrayListë¡œ ë°”ê¾¸ë©´ ë” ì´ìƒ memberSize í•„ë“œê°€ í•„ìš” ì—†ë‹¤. ìˆ˜ì •ì— ë”°ë¼ addMember(), containsMember(), countMembers(), deleteMember()ë¥¼ ì œê±°í•œë‹¤. ì´ ê¸°ëŠ¥ë“¤ì€ ArrayListì˜ ë©”ì„œë“œë¡œ ì²˜ë¦¬í•œë‹¤. getMembers() ë©”ì„œë“œë¥¼ ì¶”ê°€í•œë‹¤. Project package bitcamp.myapp.vo; import bitcamp.myapp.command.ArrayList; public class Project { private static int seqNo; private int no; private String title; private String description; private String startDate; private String endDate; private ArrayList members = new ArrayList(); public static int getNextSeqNo() { return ++seqNo; } public int getNo() { return no; } public void setNo(int no) { this.no = no; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getDescription() { return description; } public void setDescription(String description) { this.description = description; } public String getStartDate() { return startDate; } public void setStartDate(String startDate) { this.startDate = startDate; } public String getEndDate() { return endDate; } public void setEndDate(String endDate) { this.endDate = endDate; } public ArrayList getMembers() { return members; } } indexOf()ë¥¼ ì´ìš©í•´ì„œ ì¡´ì¬ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ê³  ìˆìœ¼ë©´ trueë¥¼ ë°˜í™˜í•˜ë„ë¡ ArrayList í´ë˜ìŠ¤ì— contains() ë©”ì„œë“œ ì¶”ê°€ public boolean contains(Object obj) { return indexOf(obj) != -1; } ProjectCommand í´ë˜ìŠ¤ ë³€ê²½ addMembers(), deleteMembers()ëŠ” ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ Project ê°ì²´ì˜ ì£¼ì†Œë¥¼ ì£¼ë©´ì„œ ê·¸ ì¸ìŠ¤í„´ìŠ¤ í•œí…Œ getMemebers() í•˜ë„ë¡ í•œë‹¤. ì¦‰ Project ê°ì²´ê°€ ì“°ëŠ” ArrayList ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ë¼ê³  í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ArrayListì—ëŠ” ì´ Project ê°ì²´ì— ì†í•œ User ê°ì²´ë“¤ì´ ì €ì¥ë˜ì–´ ìˆìœ¼ë©°, ArrayList í´ë˜ìŠ¤ì—ëŠ” add, delete, ì¸ë±ìŠ¤ ì°¾ê¸°, ì „ì²´ ë°°ì—´ ë³µì œ ë“±ì˜ ë™ì‘ì´ ì •ì˜ë˜ì–´ ìˆë‹¤. App ... private void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = projectList.findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.getMembers().size(); i++) { User user = (User) project.getMembers().get(i); System.out.printf(\"- %s\\n\", user.getName()); } } ... private void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = userList.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.getMembers().contains(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.getMembers().add(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private void deleteMembers(Project project) { for (int i = 0; i &lt; project.getMembers().size(); i++) { User member = (User) project.getMembers().get(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.getMembers().remove(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } ê²°ê³¼ ë³€ê²½ ì—†ìŒ ğŸ”† 14. ê³µí†µ ì½”ë“œ ë¶„ë¦¬ ë° ì‚¬ìš©í•˜ê¸° : ìƒì†ì˜ ì¼ë°˜í™”(Generalization) ê¸°ë²• ê³µí†µ ì½”ë“œ ë¶„ë¦¬ Â  â‡’ Â  â€œì¬ì‚¬ìš©â€ ìƒì†ì˜ ì¼ë°˜í™” ê¸°ë²• ì—¬ëŸ¬ ê°œì˜ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì†ì„±ì´ë‚˜ ë™ì‘ì„ í•˜ë‚˜ì˜ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì¶”ì¶œí•˜ëŠ” ê¸°ë²• ğŸ”† Object í´ë˜ìŠ¤ Javaì˜ ì–´ë–¤ ê°ì²´ë¼ë„ ì´ëŸ¬í•œ ë©”ì„œë“œë“¤ì„ ë‹¤ ê°–ê³  ìˆë‹¤.ğŸ”† Object í´ë˜ìŠ¤ì™€ ìƒì† ê´€ê³„ğŸ”† ìƒì† ê´€ê³„ extends Objectê°€ ìƒëµë˜ì–´ ìˆì§€ë§Œ Object í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ê³  ìˆë‹¤.ğŸ”† ìƒì† ê´€ê³„ì™€ ë©”ì„œë“œ í˜¸ì¶œ A obj = new A(); obj.m1(); ---------&gt; A.m1() A í´ë˜ìŠ¤ ê°ì²´ ìƒì„± í›„ obj ë ˆí¼ëŸ°ìŠ¤ì— í• ë‹¹ í›„ m1() ë©”ì„œë“œ í˜¸ì¶œ ì‹œ Aí´ë˜ìŠ¤ì— ìˆëŠ” ë©”ì„œë“œì´ë¯€ë¡œ ë°”ë¡œ í˜¸ì¶œí•œë‹¤. obj.toString(); --------&gt; ~~A.toString()~~ ---------&gt; Object.toString() í´ë˜ìŠ¤ AëŠ” toString() ë©”ì„œë“œê°€ ì—†ë‹¤. ê·¸ë˜ì„œ ìƒìœ„ì¸ Objectë¡œ ë”°ë¼ ì˜¬ë¼ê°€ì„œ ì°¾ê³  toString() í˜¸ì¶œí•œë‹¤. â‡’ Â  ê·¸ë˜ì„œ ê°ì²´ì§€í–¥ì€ ì‹¤í–‰ ì†ë„ê°€ ëŠë¦¬ë‹¤. ğŸ”† ìƒì† ê´€ê³„ II C obj = new C(); obj.toString(); í´ë˜ìŠ¤ CëŠ” Bë¥¼ BëŠ” Aë¥¼ ìƒì†í•˜ê³  ìˆë‹¤. í´ë˜ìŠ¤ Cì˜ toString( ) ë©”ì„œë“œ í˜¸ì¶œ ì‹œ í´ë˜ìŠ¤ CëŠ” toString() ë©”ì„œë“œê°€ ì—†ë‹¤. ê·¸ë˜ì„œ ìƒìœ„ì¸ Bë¡œ ë”°ë¼ ì˜¬ë¼ê°€ì„œ ì°¾ê³  toString() í˜¸ì¶œí•œë‹¤. í•˜ì§€ë§Œ í´ë˜ìŠ¤ Bë„ toString() ë©”ì„œë“œê°€ ì—†ë‹¤. ê²°êµ­ ì´ë ‡ê²Œ íƒ€ê³  ì˜¬ë¼ê°€ì„œ Object í´ë˜ìŠ¤ì˜ toString() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤. ğŸ”† ìƒì†ì˜ ì˜ë¯¸ ìƒì†ì˜ ì˜ë¯¸ Â  â‡’ Â  ì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤ Â  ( X ) ìƒì†ì˜ ì˜ë¯¸ Â  â‡’ Â  ì½”ë“œë¥¼ ê³µìœ í•œë‹¤ Â  ( O ) AëŠ” Aì´ê³  ObjectëŠ” Objectì´ë‹¤. ë‹¨ì§€ AëŠ” Objectë¥¼ ìê¸° ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒ ë¿ì´ë‹¤. (ê³µìœ ) ì»´íŒŒì¼ í›„ì—ë„ Object í´ë˜ìŠ¤ëŠ” í•„ìš”í•˜ë‹¤. ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë¿ì´ë‹ˆê¹Œpublic class Test05 { static class A {} static class B {} static class C {} static class X { void m1() {} } static class Y extends X { void m2() {} } static class Z extends Y { void m3() {} }} A, B, C í´ë˜ìŠ¤ì—ëŠ” super classì˜ ë©”ì„œë“œëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. Yí´ë˜ìŠ¤ì—ì„œ m2( )ëŠ” ìˆì–´ë„ ìƒì†ë°›ì€ m1( )ì€ ì—†ë‹¤. ì¦‰ ë³µì‚¬í•´ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹Œ ê³µìœ ì´ë‹¤. ğŸ”† ë¶„ë¥˜ ê³„ì¸µë„ì™€ í˜¸ì¹­ ì¹˜ì™€ì™€ë¥¼ í¬ìœ ë¥˜ë¼ê³  í•  ìˆ˜ ìˆë‹¤. ì¹˜ì™€ì™€ëŠ” ê°œì§€ë§Œ í¬ìœ ë¥˜ì˜ íŠ¹ì§•ì„ ê°–ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. â‡’ Â  ì´ì²˜ëŸ¼ í•˜ìœ„ë¥¼ ìƒìœ„ë¡œ ì´ì•¼ê¸° í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ìƒìœ„ ë¶„ë¥˜ë¥¼ í•˜ìœ„ ë¶„ë¥˜ë¡œ ê°€ë¥´í‚¬ ìˆ˜ëŠ” ì—†ë‹¤. í˜ë¥´ì‹œì•ˆ ê°ì²´ ëŠ” â€˜ìƒë¬¼â€™ì´ë¼ê³  ë§í•  ìˆ˜ ìˆê³ , â€˜ë™ë¬¼â€™, â€˜í¬ìœ ë¥˜â€™, â€˜ê³ ì–‘ì´â€™, â€˜í˜ë¥´ì‹œì•ˆ ê³ ì–‘ì´â€™ë¼ê³  í•  ìˆ˜ ìˆë‹¤. í¬ìœ ë¥˜ ê°ì²´ ëŠ” â€˜í¬ìœ ë¥˜â€™, â€˜ë™ë¬¼â€™, â€˜ìƒë¬¼â€™ì´ë¼ê³  ë§í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜, â€˜ê°œâ€™ë¼ê³  ë§í•  ìˆ˜ ì—†ë‹¤. ê°œì˜ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, â€˜ì¹˜ì™€ì™€â€™ë¼ê³  ë§í•  ìˆ˜ ì—†ë‹¤. ğŸ”† Javaì˜ í´ë˜ìŠ¤ ê³„ì¸µë„ì™€ ë ˆí¼ëŸ°ìŠ¤ ê³„ì¸µë„ UML í‘œí˜„ Â  : Â  í•˜ìœ„ì—ì„œ ìƒìœ„ë¡œ ì†ì´ ë¹ˆ í™”ì‚´í‘œ í‘œì‹œ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë ˆí¼ëŸ°ìŠ¤ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì£¼ì†Œë¥¼ ë‹´ì„ ìˆ˜ ìˆë‹¤. ì¦‰, ìƒìœ„ ë¶„ë¥˜ëª…ìœ¼ë¡œ í•˜ìœ„ ë¶„ë¥˜ ê°ì²´ë¥¼ ê°€ë¦¬í‚¬ ìˆ˜ ìˆë‹¤. MotorCycle m = new MotorCycle();m.engine = -;m.cc = -;m.chain = -; (ìƒìœ„ì˜ ê²ƒë„ ì‚¬ìš© ê°€ëŠ¥)m.capacity = -; (ìƒìœ„ì˜ ê²ƒë„ ì‚¬ìš© ê°€ëŠ¥)Bicycle bi = new MotoCycle(); ì´ê²ƒë„ ê°€ëŠ¥ (í—ˆìš©)bi.chain = -;bi.capacity = -; ìì‹ ì˜ íŠ¹ì§•(ë³€ìˆ˜)ë¿ë§Œ ì•„ë‹ˆë¼ ìƒìœ„ ê°œë…ë“¤ì˜ íŠ¹ì§•ë“¤(ë³€ìˆ˜ë“¤)ë„ ê°–ê³  ìˆë‹¤. í•˜ìœ„ ë¶„ë¥˜ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ìƒìœ„ ë¶„ë¥˜ í´ë˜ìŠ¤ì˜ í•„ë“œë„ ìƒì„±í•œë‹¤.ğŸ”† Object í´ë˜ìŠ¤ II ê²°ë¡  Â  : Â  Javaì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” Objectì˜ ìì†ì´ë‹¤. Ojbect obj = all ì¸ìŠ¤í„´ìŠ¤; â€˜objâ€™ë¼ëŠ” ë ˆí¼ëŸ°ìŠ¤ëŠ” ëª¨ë“  ê²ƒë“¤ì„ ë‹¤ ê°€ë¦¬í‚¬ ìˆ˜ ìˆë‹¤ëŠ” ëœ» ğŸ”† ê°œë°œìì˜ ì˜ë„ í•´ì„í•˜ê¸° void m1(Object obj) {} m1() ë©”ì„œë“œë¥¼ ë§Œë“  ê°œë°œìì˜ ì˜ë„ëŠ” â€œíŒŒë¼ë¯¸í„° ê°’ìœ¼ë¡œ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¼ë„ ë‹¤ ë°›ê² ë‹¤â€œëŠ” ì˜ë¯¸ [ex] prinln() ë©”ì„œë“œ â€¦ Object m2() {-} m2() ë©”ì„œë“œë¥¼ ë§Œë“  ê°œë°œìì˜ ì˜ë„ëŠ” ì´ ë©”ì„œë“œëŠ” ì–´ë–¤ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ ì£¼ì†Œë¥¼ ë¦¬í„´í•  ê²ƒì´ë‹¤. ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ìƒí™©ì— ë”°ë¼ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´í•˜ëŠ”ì§€ íŒŒì•…í•˜ê³  ë¦¬í„´ê°’ì„ ì‚¬ìš©í•´ë¼. ğŸ”† ìƒì† ê´€ê³„ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± â­ obj.add(); ArrayListì˜ add()ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ objì˜ 200ë²ˆì§€ ì£¼ì†Œë¥¼ ë„˜ê¸´ë‹¤. â­ Sub Classì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ Super Classì˜ í•„ë“œë„ ìƒì„±í•œë‹¤. â­ğŸ”† Complierì™€ JVMì˜ ì—­í•  êµ¬ë¶„ â­ ê°€ëŠ¥ private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object obj : userList.toArray()) { User user = (User) obj; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } User user = (User) obj; ì´ë ‡ê²Œ ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì— ë“¤ì–´ ìˆëŠ” ê²ƒì´ User ê°ì²´ë¼ê³  ì•Œë ¤ì£¼ë©´ ì»´íŒŒì¼ëŸ¬ê°€ ë„˜ì–´ê°„ë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” JVMì—ì„œ ì‹¤í–‰ ì˜¤ë¥˜ê°€ ëœ¨ë“  ë§ë“  ìƒê´€í•˜ì§€ ì•ŠëŠ”ë‹¤. ë¬¸ë²•ë§Œì„ ìƒê°í•œë‹¤. private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object user : userList.toArray()) { System.out.printf(\"%d %s %s\\n\", ((User) user).getNo(), ((User) user).getName(), ((User) user).getEmail()); } } ì´ë ‡ê²Œë„ ê°€ëŠ¥í•˜ê¸´ í•˜ë‹¤. (User) user.getNo()ëŠ” ì•ˆ ëœë‹¤. ë¦¬í„´í•œ ê°’ì„ User í´ë˜ìŠ¤ë¡œ í˜•ë³€í™˜ í•œë‹¤ëŠ” ëœ»ì´ëœë‹¤. ë¶ˆê°€ëŠ¥ private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (Object user : userList.toArray()) { System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } ì´ê±´ ì˜¤ë¥˜ì´ë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” userë¼ëŠ” ë ˆí¼ëŸ°ìŠ¤ì— ì–´ë–¤ ê²ƒì´ ë“¤ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” userê°€ Object í´ë˜ìŠ¤ì´ë¯€ë¡œ getNo()ë„ Object í´ë˜ìŠ¤ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì—†ìœ¼ë‹ˆê¹Œ ì—ëŸ¬ë¥¼ í‘œì‹œí•œë‹¤. private void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (User user : userList.toArray()) { System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } userList.toArray()ëŠ” ì†ì—ëŠ” User ê°ì²´ê°€ ë“¤ì–´ìˆì§€ë§Œ Object ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì´ë¯€ë¡œ ê·¸ê²ƒì„ ë‹´ëŠ” ì• ë„ Objectì—¬ì•¼ í•œë‹¤ê³  ì»´íŒŒì¼ëŸ¬ê°€ ìƒê°í•˜ê³  ì—ëŸ¬ë¼ê³  í•œë‹¤. JVMê³¼ ì»´íŒŒì¼ëŸ¬ë¥¼ ì„ì–´ì„œ ìƒê°í•˜ë©´ ì•ˆ ëœë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” ë¬¸ë²•ë§Œì„ í™•ì¸í•œë‹¤. ì‹¤í–‰ì„ í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ì•ˆì— ë­ê°€ ìˆëŠ”ì§€ëŠ” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì§€ ì•ŠëŠ”ë‹¤. " }, { "title": "App 13. ìŠ¤í…Œí‹±ê³¼ ì¸ìŠ¤í„´ìŠ¤", "url": "/posts/app-13/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "Staic, Instance, method, call", "date": "2024-12-19 10:00:00 +0900", "snippet": "App 13. ìŠ¤í…Œí‹± í•„ë“œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° : ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ì‚¬ìš©1. í•™ìŠµëª©í‘œ ìŠ¤íƒœí‹± í•„ë“œì˜ í•œê³„ë¥¼ ì´í•´í•˜ê³  ì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì™€ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ â€˜ê²Œì‹œíŒâ€™ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ” â€˜ê³µì§€ì‚¬í•­â€™ì„ êµ¬í˜„í•˜ê¸°â€™3. ì‘ì—… App í´ë˜ìŠ¤ì— ê³µì§€ì‚¬í•­ ë©”ë‰´ ì¶”ê°€ ë° ë„ì›€ë§ í‘œì‹œ ì¶”ê°€ Ap...", "content": "App 13. ìŠ¤í…Œí‹± í•„ë“œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° : ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ì‚¬ìš©1. í•™ìŠµëª©í‘œ ìŠ¤íƒœí‹± í•„ë“œì˜ í•œê³„ë¥¼ ì´í•´í•˜ê³  ì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì™€ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ â€˜ê²Œì‹œíŒâ€™ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ” â€˜ê³µì§€ì‚¬í•­â€™ì„ êµ¬í˜„í•˜ê¸°â€™3. ì‘ì—… App í´ë˜ìŠ¤ì— ê³µì§€ì‚¬í•­ ë©”ë‰´ ì¶”ê°€ ë° ë„ì›€ë§ í‘œì‹œ ì¶”ê°€ App ... public class App { static String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ê³µì§€ì‚¬í•­\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; static String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {} }; ... public static void processMenu(String menuTitle, String[] menus) { if (menuTitle.equals(\"ë„ì›€ë§\")) { System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); return; } printSubMenu(menuTitle, menus); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { switch (menuTitle) { case \"íšŒì›\": executeUserCommand(subMenuTitle); break; case \"í”„ë¡œì íŠ¸\": executeProjectCommand(subMenuTitle); break; case \"ê²Œì‹œíŒ\": executeBoardCommand(subMenuTitle); break; case \"ê³µì§€ì‚¬í•­\": System.out.println(\"ê³µì§€ì‚¬í•­ì…ë‹ˆë‹¤.\"); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); break; } } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } ... ê²Œì‹œíŒê³¼ ë™ì¼í•œ ê¸°ëŠ¥ì¸ ê³µì§€ì‚¬í•­ì„ ì¶”ê°€ë¡œ ë§Œë“¤ ë•Œ ê²Œì‹œíŒì„ ë³µì‚¬í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆë‹¤. â‡’ Â  ê·¸ëŸ¬ë‚˜, ì´ ë°©ë²•ì€ ë‚˜ì¤‘ì— ìœ ì§€ ë³´ìˆ˜ê°€ ë²ˆê±°ë¡­ë‹¤. BoardListê°€ ì—¬ëŸ¬ ê°œì˜ ë°ì´í„° ëª©ë¡ì„ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ ë³€ê²½ BoardList í´ë˜ìŠ¤ ë³€ê²½ ìŠ¤íƒœí‹± í•„ë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ ë³€ê²½ ìŠ¤íƒœí‹± ë©”ì„œë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¡œ ë³€ê²½ BoardList package bitcamp.myapp.command; import bitcamp.myapp.vo.Board; public class BoardList { private final int MAX_SIZE = 100; private Board[] boards = new Board[MAX_SIZE]; private int boardLength = 0; public void add(Board board) { boards[boardLength++] = board; } public Board[] toArray() { Board[] arr = new Board[boardLength]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = boards[i]; } return arr; } public Board delete(int boardNo) { Board deletedBoard = findByNo(boardNo); if (deletedBoard == null) { return null; } int index = indexOf(deletedBoard); for (int i = index + 1; i &lt; boardLength; i++) { boards[i - 1] = boards[i]; } boards[--boardLength] = null; return deletedBoard; } public Board findByNo(int boardNo) { for (int i = 0; i &lt; boardLength; i++) { Board board = boards[i]; if (board.getNo() == boardNo) { return board; } } return null; } public int indexOf(Board board) { for (int i = 0; i &lt; boardLength; i++) { if (boards[i] == board) { return i; } } return -1; } } BoardCommandê°€ ìì‹ ë§Œì˜ BoardListë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½ BoardCommand í´ë˜ìŠ¤ ë³€ê²½ ìŠ¤íƒœí‹± í•„ë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ ë³€ê²½ ìŠ¤íƒœí‹± ë©”ì„œë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¡œ ë³€ê²½ BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand { BoardList boardList = new BoardList(); public void executeBoardCommand(String command) { System.out.printf(\"[%s]\\n\", command); switch (command) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); boardList.add(board); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Board board : boardList.toArray()) { System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = boardList.findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = boardList.findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = boardList.delete(boardNo); if (deletedBoard != null) { System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } } App í´ë˜ìŠ¤ ë³€ê²½ ê²Œì‹œíŒì˜ ê²Œì‹œê¸€ì„ ì €ì¥í•  BoardCommand ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. ê³µì§€ì‚¬í•­ ê²Œì‹œê¸€ì„ ì €ì¥í•  BoardCommand ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. App public class App { static String[] mainMenus = {\"íšŒì›\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ê³µì§€ì‚¬í•­\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; static String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {} }; static BoardCommand boardCommand = new BoardCommand(); static BoardCommand noticeCommand = new BoardCommand(); ... public static void processMenu(String menuTitle, String[] menus) { if (menuTitle.equals(\"ë„ì›€ë§\")) { System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); return; } printSubMenu(menuTitle, menus); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { switch (menuTitle) { case \"íšŒì›\": executeUserCommand(subMenuTitle); break; case \"í”„ë¡œì íŠ¸\": executeProjectCommand(subMenuTitle); break; case \"ê²Œì‹œíŒ\": boardCommand.executeBoardCommand(subMenuTitle); break; case \"ê³µì§€ì‚¬í•­\": noticeCommand.executeBoardCommand(subMenuTitle); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); break; } } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } ... ë‚˜ë¨¸ì§€ í´ë˜ìŠ¤ë“¤ë„ ë°ì´í„°ë¥¼ ëª©ì ì— ë”°ë¼ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ BoardCommandì™€ BoardListì²˜ëŸ¼ ë³€ê²½ ë‹¨, ProjectCommandëŠ” UserList ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ìƒì„±ìë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” userListë¥¼ ë°›ì•„ì•¼ í•œë‹¤. public class ProjectCommand { ProjectList projectList = new ProjectList(); UserList userList; public ProjectCommand(UserList userlist) { this.userList = userlist; } ... ProjectCommandë¡œ ë„˜ê²¨ì£¼ëŠ” UserListëŠ” UserCommandì—ì„œ ìƒì„±í•œ UserListì—¬ì•¼ í•œë‹¤. ì‚¬ìš© ì¤‘ì¸ UserListë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œë¥¼ ìƒì„± Â  (getUserList()) public class UserCommand { UserList userList = new UserList(); .... **public UserList getUserList() { return this.userList; }** } App í´ë˜ìŠ¤ì—ì„œ UserCommand.getUserList()ë¥¼ ì‚¬ìš©í•˜ì—¬ ProjectCommandì— UserListë¥¼ ë„˜ê²¨ì¤€ë‹¤. App í´ë˜ìŠ¤ë„ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì™€ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ ì •ë¦¬í•œë‹¤. main()ì˜ ì½”ë“œë¥¼ executeApp() ë©”ì„œë“œë¡œ ë½‘ì•„ë‚¸ë‹¤. App package bitcamp.myapp; import bitcamp.myapp.command.BoardCommand; import bitcamp.myapp.command.ProjectCommand; import bitcamp.myapp.command.UserCommand; import bitcamp.myapp.util.Prompt; public class App { ... UserCommand userCommand = new UserCommand(); BoardCommand boardCommand = new BoardCommand(); BoardCommand noticeCommand = new BoardCommand(); ProjectCommand projectCommand = new ProjectCommand(userCommand.getUserList()); public static void main(String[] args) { new App().executeApp(); } void executeApp() { printMenu(); String command; while (true) { try { command = Prompt.input(\"ë©”ì¸&gt;\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo, mainMenus); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= 5) { processMenu(menuTitle, subMenus[menuNo - 1]); } else { System.out.println(menuTitle); } } } } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); Prompt.close(); } void printMenu() { String bold = \"\\u001B[1m\"; String red = \"\\u001B[31m\"; String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String line = \"--------------------------------------------\"; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); for (int i = 0; i &lt; mainMenus.length; i++) { if (i == mainMenus.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, mainMenus[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, mainMenus[i]); } } System.out.println(bold + line + reset); } void printSubMenu(String menuTitle, String[] menus) { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } boolean isValidateMenu(int menuNo, String[] menus) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } String getMenuTitle(int menuNo, String[] menus) { return isValidateMenu(menuNo, menus) ? menus[menuNo - 1] : null; } void processMenu(String menuTitle, String[] menus) { if (menuTitle.equals(\"ë„ì›€ë§\")) { System.out.println(\"ë„ì›€ë§ì…ë‹ˆë‹¤.\"); return; } printSubMenu(menuTitle, menus); while (true) { String command = Prompt.input(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { switch (menuTitle) { case \"íšŒì›\": userCommand.executeUserCommand(subMenuTitle); break; case \"í”„ë¡œì íŠ¸\": projectCommand.executeProjectCommand(subMenuTitle); break; case \"ê²Œì‹œíŒ\": boardCommand.executeBoardCommand(subMenuTitle); break; case \"ê³µì§€ì‚¬í•­\": noticeCommand.executeBoardCommand(subMenuTitle); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); break; } } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } } ê²°ê³¼ ğŸ”† 13. ìŠ¤í…Œí‹± í•„ë“œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° : ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ì‚¬ìš© ê·¸ë˜ì„œ ìë°” ê°œë°œìë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ ë§Œë“ ë‹¤. (íŠ¹ë³„í•œ ê²½ìš°ì—ë§Œ ìŠ¤íƒœí‹± í•„ë“œë¥¼ ì‚¬ìš©) ğŸ”† ê³µì§€ì‚¬í•­ ë©”ë‰´ ì²˜ë¦¬ ê³µì§€ì‚¬í•­ì´ BoardCommandë¥¼ ì“°ê³  BoardCommandëŠ” BoardListë¥¼ ì“´ë‹¤ë©´? BoardListì—ëŠ” static fieldì¸ Board[] boardsì™€ int boardLengthê°€ ìˆë‹¤. static í•„ë“œëŠ” í´ë˜ìŠ¤ê°€ ë¡œë”©ë  ë•Œ 1ë²ˆë§Œ ë§Œë“ ë‹¤. ì´ê²ƒì´ ë¬¸ì œì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ BoardCommand2ì™€ BoardList2ë¥¼ ì›ë³¸ì„ ë³µì‚¬í•˜ì—¬ ë§Œë“ ë‹¤. Â  (í´ë˜ìŠ¤ ë³µì œ ì‚¬ìš©) Board í´ë˜ìŠ¤ì—ë„ static ë³€ìˆ˜ì¸ seqNoê°€ ìˆì§€ë§Œ ìƒê´€ì—†ë‹¤. ë³´í†µì˜ ì‚¬ì´íŠ¸ì—ì„  ê²Œì‹œíŒê³¼ ê³µì§€ì‚¬í•­ì˜ seqNoê°€ ì—°ê²°ë˜ì–´ ìˆë‹¤. ì¦‰ ê²Œì‹œíŒì€ 1ê°œì§€ë§Œ ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ë‚˜ëˆ ë‘” ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤ ğŸ”† í´ë˜ìŠ¤ë¥¼ ë³µì œí•´ì„œ ì‚¬ìš©í•  ë•Œ ë¬¸ì œì  Aì— ë²„ê·¸ ë°œê²¬ Â  â‡’ Â  ë²„ê·¸ ìˆ˜ì • Â  â‡’ Â  ë³µì œí•´ì„œ ë§Œë“  ëª¨ë“  í´ë˜ìŠ¤ì— ëŒ€í•´ ìˆ˜ì • ì²˜ë¦¬í•´ì•¼ í•œë‹¤. Aì— ê¸°ëŠ¥ ì¶”ê°€ Â  â‡’ Â  ë³µì œí•´ì„œ ë§Œë“  ëª¨ë“  í´ë˜ìŠ¤ì— ëŒ€í•´ ê¸°ëŠ¥ ì¶”ê°€í•´ì•¼ í•œë‹¤. â‡’ Â  ì´ëŸ° ì´ìœ ë¡œ ìœ ì§€ ë³´ìˆ˜ê°€ í˜ë“¤ë‹¤. â‡’ Â  ì½”ë“œ ì¬ì‚¬ìš©ì´ í˜ë“¤ë‹¤. ğŸ”† í•´ê²°ì±… : ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©, ê·¸ëŸ¬ë‚˜ ë°ì´í„°ëŠ” ë¶„ë¦¬ ì¢Œì¸¡ì²˜ëŸ¼ ë³µì œí•˜ëŠ” ë°©ì‹ì€ ì½”ë“œê°€ ì¤‘ë³µë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤. â‡’ Â  ì¬ì‚¬ìš©ì„± down, ìœ ì§€ ë³´ìˆ˜ì„± down ê²Œì‹œíŒê³¼ ê³µì§€ì‚¬í•­ì´ í•˜ë‚˜ì˜ ì½”ë“œ(BoardCommand)ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ BoardCommandëŠ” BoardListë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ¬ë‚˜ BoardListê°€ ë‹¤ë£¨ëŠ” ë°ì´í„°ëŠ” ë‹¤ë¥´ê²Œ í•œë‹¤ Static Â  â‡’ Â  Instatnce ì „í™˜ ê°™ì€ ì½”ë“œë¡œ ë‹¤ë¥¸ ë³€ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤. new BoardCommand()ë¥¼ í•˜ë©´ new BoardList()ì˜ ì£¼ì†Œë¥¼ ë‹´ì„ ë³€ìˆ˜ë¥¼ ë§Œë“ ë‹¤. this.boardList.add(board); thisëŠ” new BoardCommand()ë¡œ ìƒì„±í•œ BoardCommand í´ë˜ìŠ¤ ê°ì²´ì˜ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì´ ì£¼ì†Œë¥¼ íƒ€ê³  ê°„ ì¸ìŠ¤í„´ìŠ¤ì—ëŠ” new BoardList()ë¡œ ìƒì„±í•œ BoardList í´ë˜ìŠ¤ ê°ì²´ì˜ ì£¼ì†Œê°€ ì¡´ì¬í•œë‹¤. ì´ ê°ì²´ì˜ ì£¼ì†Œë¥¼ BoardList í´ë˜ìŠ¤ì˜ add() ë©”ì„œë“œì— ë„˜ê¸°ê³  add() ë©”ì„œë“œê°€ ì‘ë™í•˜ê²Œ í•œë‹¤. ğŸ”† ì¸ìŠ¤í„´ìŠ¤ì™€ ë©”ì„œë“œ â­ A í´ë˜ìŠ¤ ë ˆí¼ëŸ°ìŠ¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë„ A í´ë˜ìŠ¤ì—¬ì•¼ í•œë‹¤. this ë‚´ì¥ ë³€ìˆ˜ëŠ” ë©”ì„œë“œê°€ ì •ì˜ëœ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì£¼ì†Œë¥¼ ë°›ê¸° ë•Œë¬¸ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, â€œë°ì´í„° íƒ€ì…ì— ë”°ë¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—°ì‚°ìâ€ê°€ ìˆë‹¤. String s = \"hello\"; =&gt; println(s + \"ok\"); int i = 100; =&gt; println(i + 200); ë¬¸ìì—´ì— ëŒ€í•´ ì‚¬ìš©ë˜ëŠ” + ì—°ì‚°ì Â  (ë¬¸ìì—´ ì—°ê²°) ì •ìˆ˜ì— ëŒ€í•´ ì‚¬ìš©ë˜ëŠ” + ì—°ì‚°ì Â  (ë”í•˜ê¸°) String s = \"hello\"; =&gt; s++; ( X )int i = 100; =&gt; i++; String í”¼ì—°ì‚°ìë¥¼ ì²˜ë¦¬í•˜ëŠ” ++ ì—°ì‚°ìê°€ ì •ì˜ë˜ì–´ ìˆì§€ ì•Šë‹¤. addBoard()ê°€ 3400ë²ˆì§€ë¥¼ ì“¸ë•Œ addBoard()ê°€ í˜¸ì¶œí•˜ëŠ” add()ëŠ” 200ë²ˆì§€ë¥¼ ì“´ë‹¤ëŠ” ì˜ë¯¸ addBoard()ì— 4000ë²ˆì§€ë¥¼ ì£¼ë©´ add()ëŠ” ê·¸ ì£¼ì†Œì— ë‹´ê¸´ 700ë²ˆì§€ë¥¼ ì‚¬ìš© BoardCommandê°€ addBoard()ë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì†Œë¥¼ ì•Œë ¤ì£¼ê³  ì´ ì£¼ì†Œì—ëŠ” BoardList ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œê°€ ë“¤ì–´ìˆë‹¤. add()ëŠ” ì£¼ì†Œê°€ í•„ìš”í•˜ê³  ë§ˆì¹¨ ê·¸ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì „ë‹¬í•´ì¤€ë‹¤. ê°ì²´ì§€í–¥ ì¶”ìƒí™” ëª¨ë¸ë§ ê°ì²´í•œí…Œ â€ì‚¬ìš©ìí•œí…Œ ê²Œì‹œê¸€ ì…ë ¥ ë°›ì•„ì„œ ì €ì¥í•˜ë¼ê³ â€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ ì´ ê°ì²´ëŠ” ìƒìì—ê²Œ â€œì‚¬ìš©ìë¡œ ë°›ì€ ê²ƒë“¤ì„ ìˆìœ¼ë‹ˆê¹Œ ì €ì¥í•´ë¼â€ë¼ê³  ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤. ğŸ”† ì¸ìŠ¤í„´ìŠ¤ ê³µìœ  ì˜ì¡´ ê°ì²´ Â  (Dependency) ì—¬ëŸ¬ ê°ì²´ê°€ ê³µìœ í•  ì¸ìŠ¤í„´ìŠ¤ UML í‘œê¸°ë²• Â  (ì¸ìŠ¤í„´ìŠ¤ í‘œê¸°) ì¸ìŠ¤í„´ìŠ¤ëª… : í´ë˜ìŠ¤ëª… ( list : UserList ) â‡’ Â  í‘œê¸°í•˜ì§€ ì•Šì•„ë„ ëª¨ë¸ì„ ì´í•´í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ë‹¤ë©´ ìƒëµ ê°€ëŠ¥ " }, { "title": "App 11-12. ì‹ë³„ ë²ˆí˜¸ ë° GRASPì˜ High Cohesion", "url": "/posts/app-11-12/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "Instance, Reference", "date": "2024-12-18 10:00:00 +0900", "snippet": "App 11. ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ ë¶€ì—¬í•˜ê¸°1. í•™ìŠµëª©í‘œ ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ì˜ í•„ìš”ì„±ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. ìŠ¤íƒœí‹± í•„ë“œì™€ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¥¼ êµ¬ë¶„í•˜ì—¬ ë‹¤ë£° ìˆ˜ ìˆë‹¤. íŠ¹ì • í•„ë“œ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ íšŒì› ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ í”„ë¡œì íŠ¸ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ ê²Œì‹œíŒ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ ì‹ë³„ ë²ˆí˜¸ë¡œ ë°ì´...", "content": "App 11. ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ ë¶€ì—¬í•˜ê¸°1. í•™ìŠµëª©í‘œ ë°ì´í„° ì‹ë³„ ë²ˆí˜¸ì˜ í•„ìš”ì„±ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. ìŠ¤íƒœí‹± í•„ë“œì™€ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¥¼ êµ¬ë¶„í•˜ì—¬ ë‹¤ë£° ìˆ˜ ìˆë‹¤. íŠ¹ì • í•„ë“œ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ íšŒì› ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ í”„ë¡œì íŠ¸ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ ê²Œì‹œíŒ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ë¥¼ ë¶€ì—¬ ì‹ë³„ ë²ˆí˜¸ë¡œ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸°3. ì‘ì—… Â  - Â  ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ ë¶€ì—¬ íšŒì› ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ í•„ë“œ ì¶”ê°€ User í´ë˜ìŠ¤ ë³€ê²½ seqNo ìŠ¤íƒœí‹± í•„ë“œ ë° getNextSeqNo() ìŠ¤íƒœí‹± ë©”ì„œë“œ ì¶”ê°€ User instanceë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ ê³µí†µ ì‚¬ìš©í•˜ëŠ” í•„ë“œì´ë‹¤. ì¦‰ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¥¼ ê³„ì† ì¨ì•¼í•œë‹¤. â‡’ Â  ë”± 1ê°œë§Œ ì‚¬ìš© Â  Â  (ê·¸ëŸ¬ë‚˜ í•¨ë¶€ëŸ¬ ë°”ê¾¸ë©´ ì•ˆë˜ë¯€ë¡œ private) no ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ë° getter/setter ì¶”ê°€ User package bitcamp.myapp.vo; public class User { private static int seqNo; private int no; private String name; private String email; private String password; private String tel; public static int getNextSeqNo() { return ++seqNo; } public int getNo() { return no; } public void setNo(int no) { this.no = no; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getEmail() { return email; } public void setEmail(String email) { this.email = email; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public String getTel() { return tel; } public void setTel(String tel) { this.tel = tel; } } ì‹ë³„ ë²ˆí˜¸ ìë™ ë¶€ì—¬ ë° ì‹ë³„ ë²ˆí˜¸ë¡œ ì°¾ê¸° UserCommand í´ë˜ìŠ¤ ë³€ê²½ addUser(), listUser(), viewUser(), findByNo(), updateUser(), deleteUser() ë³€ê²½ ê¸°ì¡´ì˜ íšŒì›ì„ ì°¾ëŠ” ë¡œì§ì„ findByNo()ì„ í™œìš©í•œë‹¤. ê¸°ì¡´ì˜ findByNo()ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ì¸ë±ìŠ¤ë¡œ ìœ íš¨ì„± ê²€ì‚¬ í›„ ë°”ë¡œ ë°°ì—´ì—ì„œ êº¼ëƒˆë‹¤ë©´, ë°°ì—´ì˜ ê°ì²´ë¥¼ ìˆœíšŒí•˜ë©° í•´ë‹¹ ê°ì²´ì˜ noì™€ íŒŒë¦¬ë¯¸í„°ë¡œ ë°›ì€ userNoê°€ ì¼ì¹˜í•˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. UserCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class UserCommand { private static final int MAX_SIZE = 100; private static User[] users = new User[MAX_SIZE]; private static int userLength = 0; public static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } private static void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); users[userLength++] = user; } private static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; userLength; i++) { User user = users[i]; System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } private static void viewUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } private static void updateUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } int index = indexOf(user); for (int i = index + 1; i &lt; userLength; i++) { users[i - 1] = users[i]; } users[--userLength] = null; System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } public static User findByNo(int userNo) { for (int i = 0; i &lt; userLength; i++) { User user = users[i]; if (user.getNo() == userNo) { return user; } } return null; } public static int indexOf(User user) { for (int i = 0; i &lt; userLength; i++) { if (users[i] == user) { return i; } } return -1; } } indexOf() ì¶”ê°€ íŒŒë¦¬ë¯¸í„°ë¡œ User ê°ì²´ë¥¼ ë°›ì•„ì„œ ë°°ì—´ì—ì„œ í•´ë‹¹ User ê°ì²´ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜ public static int indexOf(User user) { for (int i = 0; i &lt; userLength; i++) { if (users[i] == user) { return i; } } return -1; } ê²Œì‹œíŒ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ í•„ë“œ ì¶”ê°€ Board í´ë˜ìŠ¤ ë³€ê²½ Board package bitcamp.myapp.vo; import java.util.Date; public class Board { private static int seqNo; private int no; private String title; private String content; private Date createdDate; private int viewCount; public static int getNextSeqNo() { return ++seqNo; } public int getNo() { return no; } public void setNo(int no) { this.no = no; } public Date getCreatedDate() { return createdDate; } public void setCreatedDate(Date createdDate) { this.createdDate = createdDate; } public int getViewCount() { return viewCount; } public void setViewCount(int viewCount) { this.viewCount = viewCount; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getContent() { return content; } public void setContent(String content) { this.content = content; } } ì‹ë³„ ë²ˆí˜¸ ìë™ ë¶€ì—¬ ë° ì‹ë³„ ë²ˆí˜¸ë¡œ ì°¾ê¸° BoardCommand í´ë˜ìŠ¤ ë³€ê²½ BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand { private static final int MAX_SIZE = 100; private static Board[] boards = new Board[MAX_SIZE]; private static int boardLength = 0; public static void executeBoardCommand(String command) { System.out.printf(\"[%s]\\n\", command); switch (command) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private static void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); boards[boardLength++] = board; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private static void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (int i = 0; i &lt; boardLength; i++) { Board board = boards[i]; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private static void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private static void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } int index = indexOf(board); for (int i = index + 1; i &lt; boardLength; i++) { boards[i - 1] = boards[i]; } boards[--boardLength] = null; System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } public static Board findByNo(int boardNo) { for (int i = 0; i &lt; boardLength; i++) { Board board = boards[i]; if (board.getNo() == boardNo) { return board; } } return null; } public static int indexOf(Board board) { for (int i = 0; i &lt; boardLength; i++) { if (boards[i] == board) { return i; } } return -1; } } í”„ë¡œì íŠ¸ ë°ì´í„°ì— ì‹ë³„ ë²ˆí˜¸ í•„ë“œ ì¶”ê°€ Project í´ë˜ìŠ¤ ë³€ê²½ Project package bitcamp.myapp.vo; public class Project { private static int seqNo; private int no; private String title; private String description; private String startDate; private String endDate; private User[] members = new User[10]; private int memberSize; public static int getNextSeqNo() { return ++seqNo; } public int getNo() { return no; } public void setNo(int no) { this.no = no; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getDescription() { return description; } public void setDescription(String description) { this.description = description; } public String getStartDate() { return startDate; } public void setStartDate(String startDate) { this.startDate = startDate; } public String getEndDate() { return endDate; } public void setEndDate(String endDate) { this.endDate = endDate; } public void addMember(User user) { members[memberSize++] = user; } public boolean containsMember(User user) { for (int i = 0; i &lt; memberSize; i++) { if (members[i] == user) { return true; } } return false; } public int countMembers() { return this.memberSize; } public User getMember(int index) { return members[index]; } public void deleteMember(int index) { for (int i = index + 1; i &lt; memberSize; i++) { members[i - 1] = members[i]; } members[--memberSize] = null; } } containsMember() ë©”ì„œë“œ ë³€ê²½ ê¸°ì¡´ì—ëŠ” ì‚¬ìš©ì ì´ë¦„ìœ¼ë¡œ ì°¾ì•˜ì§€ë§Œ ì´ì œëŠ” ê°ì²´ ì°¸ì¡°ë¥¼ ë¹„êµí•œë‹¤. public boolean containsMember(User user) { for (int i = 0; i &lt; memberSize; i++) { if (members[i] == user) { return true; } } return false; } ë¬¸ì œ ìƒí™© ì´ë ‡ê²Œ ë¹„êµí•´ë„ ê°™ì€ ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤. ê°™ì€ ë°ì´í„°ë¥¼ ê°™ë”ë¼ë„ ê°ì²´ì˜ ì£¼ì†Œê°€ ë‹¤ë¥´ë¯€ë¡œ ê°™ì§€ ì•Šë‹¤ê³  íŒë‹¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤. â‡’ Â  ë‚˜ì¤‘ì— equals()ì™€ hashCode()ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ noê°€ ê°™ìœ¼ë©´ ê°™ì€ ê°ì²´ë¡œ íŒë‹¨í•˜ë„ë¡ ì²˜ë¦¬í•´ì•¼ í•œë‹¤. ì‹ë³„ ë²ˆí˜¸ ìë™ ë¶€ì—¬ ë° ì‹ë³„ ë²ˆí˜¸ë¡œ ì°¾ê¸° ProjectCommand í´ë˜ìŠ¤ ë³€ê²½ Project package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class ProjectCommand { private static final int MAX_SIZE = 100; private static Project[] projects = new Project[MAX_SIZE]; private static int projectLength = 0; public static void executeProjectCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } private static void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); project.setNo(Project.getNextSeqNo()); projects[projectLength++] = project; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private static void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (int i = 0; i &lt; projectLength; i++) { Project project = projects[i]; System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } private static void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.countMembers(); i++) { User user = project.getMember(i); System.out.printf(\"- %s\\n\", user.getName()); } } private static void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } int index = indexOf(project); for (int i = index + 1; i &lt; projectLength; i++) { projects[i - 1] = projects[i]; } projects[--projectLength] = null; System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } private static void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = UserCommand.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.containsMember(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.addMember(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private static void deleteMembers(Project project) { for (int i = 0; i &lt; project.countMembers(); i++) { User member = project.getMember(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.deleteMember(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } public static Project findByNo(int projectNo) { for (int i = 0; i &lt; projectLength; i++) { Project project = projects[i]; if (project.getNo() == projectNo) { return project; } } return null; } public static int indexOf(Project project) { for (int i = 0; i &lt; projectLength; i++) { if (projects[i] == project) { return i; } } return -1; } } ê²°ê³¼ ğŸ”† ë³€ìˆ˜ ì„ ì–¸ê³¼ ë³€ìˆ˜ ë³€ìˆ˜ ì„ ì–¸ Â  : Â  ë³€ìˆ˜ë¥¼ ìƒì„±ì‹œí‚¤ëŠ” ëª…ë ¹ë¬¸ ë³€ìˆ˜ Â  : Â  ë©”ëª¨ë¦¬ static int seqNo; Â  â‡’ Â  í´ë˜ìŠ¤ê°€ ë¡œë”©ë  ë•Œ í•œ ë²ˆ ì‹¤í–‰ String name; Â  â‡’ Â  new ëª…ë ¹ì„ ë§Œë‚  ë•Œë§ˆë‹¤ ì‹¤í–‰ í´ë˜ìŠ¤ ë¡œë”© ì‹œ Method Areaì— ì‘ì„±í•œ ì½”ë“œê°€ ê·¸ëŒ€ë¡œ ì˜¬ë¼ê°„ë‹¤. í´ë˜ìŠ¤ ë¡œë”© ê³¼ì • í´ë˜ìŠ¤ê°€ ë¡œë”©ëœë‹¤. **class A { int seqNo; }** ë¡œë”©ëœ ëª…ë ¹ë¬¸ ì¤‘ì—ì„œ static í•„ë“œ ìƒì„±ë¬¸(= ë³€ìˆ˜ ì„ ì–¸)ì„ ì‹¤í–‰ ì¦‰, static í•„ë“œì˜ ë©”ëª¨ë¦¬ëŠ” Method Areaì— ì¡´ì¬í•œë‹¤. seqNo **[ 0 ]** : **ë³€ìˆ˜(ë©”ëª¨ë¦¬)** =&gt; **Method Area** static ë¸”ë¡ì„ ì‹¤í–‰ ğŸ”† ë³€ìˆ˜ ì„ ì–¸ê³¼ ë³€ìˆ˜ 2 Method Area ì‘ì„±í•œ í´ë˜ìŠ¤ê°€ ì´ ì˜ì—­ìœ¼ë¡œ ì˜¬ë¼ê°„ë‹¤. static í•„ë“œì˜ ë©”ëª¨ë¦¬ê°€ ì—¬ê¸°ì— ìƒì„±ëœë‹¤. User obj objë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œë¥¼ ë‹´ì„ local ë³€ìˆ˜ë¥¼ JVM Stackë§Œë“¤ë¼ëŠ” ëª…ë ¹ë¬¸ new User(); ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ëª…ë ¹ë¬¸ (ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ëŒ€í•œ ì„¤ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ User ì¸ìŠ¤í„´ìŠ¤ë¥¼ Heapì— ë§Œë“¤ë¼ëŠ” ëª…ë ¹) App 12. ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ê¸° Â  : Â  GRASPì˜ High Cohesion ì„¤ê³„ íŒ¨í„´1. í•™ìŠµëª©í‘œ GRASP ë°©ë²•ë¡ ì˜ High Cohesion ì„¤ê³„ íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤. ìº¡ìŠí™”(encapsulation)ë¥¼ ì´í•´í•˜ê³  ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ GRASP ë°©ë²•ë¡ ì˜ High Cohesion ì„¤ê³„ íŒ¨í„´ì— ë”°ë¼ UserCommand í´ë˜ìŠ¤ì˜ ì—­í• ì„ ë‚˜ëˆˆë‹¤. UserCommand í´ë˜ìŠ¤ëŠ” UIë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì— ì§‘ì¤‘í•œë‹¤. ProjectCommand, BoardCommand í´ë˜ìŠ¤ë„ UserCommand í´ë˜ìŠ¤ì²˜ëŸ¼ ì²˜ë¦¬í•œë‹¤.3. ì‘ì—… UserCommandì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì—­í• ì„ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤. UserCommand í´ë˜ìŠ¤ ë³€ê²½ UserListë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  UI ì²˜ë¦¬ë¥¼ ì „ë‹´í•œë‹¤. UserCommandì˜ addUser(), deleteUser()ì—ì„œ ë³´ë©´ ë°°ì—´ì— ì¶”ê°€/ì‚­ì œí•˜ëŠ” ë¶€ë¶„ì„ ë‹¤ë¥¸ ë©”ì„œë“œë¡œ ì²˜ë¦¬í•œë‹¤. Â  â‡’ Â  ì •ë³´ ì€ë‹‰ delete()ëŠ” í•´ë‹¹ íšŒì› ì‚­ì œ í›„ ê·¸ íšŒì› ê°ì²´ë¥¼ ë°˜í™˜ (ì‹¤ë¬´ì—ì„œëŠ” true/falseë¥¼ returní•˜ê¸°ë³´ë‹¤ ì‚­ì œë˜ëŠ” ê°ì²´ë¥¼ returní•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤) UserCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class UserCommand { public static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } private static void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); user.setNo(User.getNextSeqNo()); UserList.add(user); } private static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (User user : UserList.toArray()) { System.out.printf(\"%d %s %s\\n\", user.getNo(), user.getName(), user.getEmail()); } } private static void viewUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = UserList.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } private static void updateUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User user = UserList.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteUser() { int userNo = inputInt(\"íšŒì›ë²ˆí˜¸?\"); User deletedUser = UserList.delete(userNo); if (deletedUser != null) { System.out.printf(\"'%s' íšŒì›ì„ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\", deletedUser.getName()); } else { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); } } } UserList í´ë˜ìŠ¤ ì¶”ê°€ Â  : Â  User ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ëŠ” ì¼ì„ ë‹´ë‹¹í•œë‹¤. toArray()ëŠ” í˜„ì¬ ê¹Œì§€ì˜ ë°°ì—´ì„ ë³µì‚¬í•˜ì—¬ ë°˜í™˜í•œë‹¤. UserCommandì—ì„œ findByNo(), indexOf()ë¥¼ ê°€ì ¸ì˜¨ë‹¤ Â  Â  (ë¦¬í™í† ë§ ì´ìš©) UserList package bitcamp.myapp.command; import bitcamp.myapp.vo.User; public class UserList { private static final int MAX_SIZE = 100; private static User[] users = new User[MAX_SIZE]; private static int userLength = 0; public static void add(User user) { users[userLength++] = user; } public static User[] toArray() { User[] arr = new User[userLength]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = users[i]; } return arr; } public static User findByNo(int userNo) { for (int i = 0; i &lt; userLength; i++) { User user = users[i]; if (user.getNo() == userNo) { return user; } } return null; } public static int indexOf(User user) { for (int i = 0; i &lt; userLength; i++) { if (users[i] == user) { return i; } } return -1; } public static User delete(int userNo) { User deletedUser = findByNo(userNo); if (deletedUser == null) { return null; } int index = UserList.indexOf(deletedUser); for (int i = index + 1; i &lt; userLength; i++) { users[i - 1] = users[i]; } users[--userLength] = null; return deletedUser; } } ProjectCommandì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì—­í• ì„ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤. ProjectList í´ë˜ìŠ¤ ì¶”ê°€ Â  : Â  Project ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ëŠ” ì¼ì„ ë‹´ë‹¹í•œë‹¤. ProjectList package bitcamp.myapp.command; import bitcamp.myapp.vo.Project; public class ProjectList { private static final int MAX_SIZE = 100; private static Project[] projects = new Project[MAX_SIZE]; private static int projectLength = 0; public static void add(Project project) { projects[projectLength++] = project; } public static Project[] toArray() { Project[] arr = new Project[projectLength]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = projects[i]; } return arr; } public static Project findByNo(int projectNo) { for (int i = 0; i &lt; projectLength; i++) { Project project = projects[i]; if (project.getNo() == projectNo) { return project; } } return null; } public static int indexOf(Project project) { for (int i = 0; i &lt; projectLength; i++) { if (projects[i] == project) { return i; } } return -1; } public static Project delete(int projectNo) { Project deletedProject = ProjectList.findByNo(projectNo); if (deletedProject == null) { return null; } int index = ProjectList.indexOf(deletedProject); for (int i = index + 1; i &lt; projectLength; i++) { projects[i - 1] = projects[i]; } projects[--projectLength] = null; return deletedProject; } } ProjectCommand í´ë˜ìŠ¤ ë³€ê²½ ProjectListë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  UI ì²˜ë¦¬ë¥¼ ì „ë‹´í•œë‹¤. ProjectCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; import static bitcamp.myapp.util.Prompt.inputInt; public class ProjectCommand { public static void executeProjectCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } private static void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); project.setNo(Project.getNextSeqNo()); ProjectList.add(project); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private static void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (Project project : ProjectList.toArray()) { System.out.printf(\"%d %s %s ~ %s\\n\", project.getNo(), project.getTitle(), project.getStartDate(), project.getEndDate()); } } private static void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = ProjectList.findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.countMembers(); i++) { User user = project.getMember(i); System.out.printf(\"- %s\\n\", user.getName()); } } private static void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); Project project = ProjectList.findByNo(projectNo); if (project == null) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteProject() { int projectNo = Prompt.inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ Project deletedProject = ProjectList.delete(projectNo); if (deletedProject != null) { System.out.printf(\"%dë²ˆ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\\n\", deletedProject.getNo()); } else { System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } private static void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = UserList.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.containsMember(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.addMember(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } private static void deleteMembers(Project project) { for (int i = 0; i &lt; project.countMembers(); i++) { User member = project.getMember(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.deleteMember(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } } BoardCommandì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì—­í• ì„ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤. BoardCommand í´ë˜ìŠ¤ ë³€ê²½ BoardListë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  UI ì²˜ë¦¬ë¥¼ ì „ë‹´í•œë‹¤. BoardCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Board; import java.util.Date; import static bitcamp.myapp.util.Prompt.inputInt; public class BoardCommand { public static void executeBoardCommand(String command) { System.out.printf(\"[%s]\\n\", command); switch (command) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private static void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); board.setNo(Board.getNextSeqNo()); BoardList.add(board); System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } private static void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (Board board : BoardList.toArray()) { System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", board.getNo(), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } private static void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = BoardList.findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } private static void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board board = BoardList.findByNo(boardNo); if (board == null) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } private static void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); Board deletedBoard = BoardList.delete(boardNo); if (deletedBoard != null) { System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } else { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); } } } BoardList í´ë˜ìŠ¤ ì¶”ê°€ Â  : Â  Board ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ëŠ” ì¼ì„ ë‹´ë‹¹í•œë‹¤. BoardList package bitcamp.myapp.command; import bitcamp.myapp.vo.Board; public class BoardList { private static final int MAX_SIZE = 100; private static Board[] boards = new Board[MAX_SIZE]; private static int boardLength = 0; public static void add(Board board) { boards[boardLength++] = board; } public static Board[] toArray() { Board[] arr = new Board[boardLength]; for (int i = 0; i &lt; arr.length; i++) { arr[i] = boards[i]; } return arr; } public static Board delete(int boardNo) { Board deletedBoard = findByNo(boardNo); if (deletedBoard == null) { return null; } int index = indexOf(deletedBoard); for (int i = index + 1; i &lt; boardLength; i++) { boards[i - 1] = boards[i]; } boards[--boardLength] = null; return deletedBoard; } public static Board findByNo(int boardNo) { for (int i = 0; i &lt; boardLength; i++) { Board board = boards[i]; if (board.getNo() == boardNo) { return board; } } return null; } public static int indexOf(Board board) { for (int i = 0; i &lt; boardLength; i++) { if (boards[i] == board) { return i; } } return -1; } } ê²°ê³¼ â‡’ Â  ë³€ê²½ ì—†ìŒ ğŸ”† â˜… ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£¨ëŠ” ì½”ë“œë¥¼ ë¶„ë¦¬í•˜ê¸° â˜… GRASPì˜ High Cohesion í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ê²Œ í•´ë¼ ìº¡ìŠí™” Â  (Encapsulation) ë°ì´í„° ì€ë‹‰ Â  â†’ Â  ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€ ë³µì¡í•œ ë¡œì§ì„ ê°ì¶”ê¸° Â  â†’ Â  ê°€ë…ì„± Up, ë³€ê²½ì„ ìš©ì´í•˜ê²Œ ë°ì´í„° ì€ë‹‰ Â  : Â  private, (default), protected, public Â  â‡’ Â  Access Modifier ë³µì¡í•œ ë¡œì§ì„ ê°ì¶”ê¸° Â  : Â  getter, setter, method" }, { "title": "App 10-2. í”„ë¡œì íŠ¸ ë° ê²Œì‹œíŒ CRUD êµ¬í˜„í•˜ê¸°", "url": "/posts/app-10(2)/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "ë°°ì—´, Date, ë©”ëª¨ë¦¬, JVM", "date": "2024-12-16 16:00:00 +0900", "snippet": "App 10-2. í”„ë¡œì íŠ¸ ë° ê²Œì‹œíŒ CRUD êµ¬í˜„í•˜ê¸°3. í”„ë¡œì íŠ¸ ë° ê²Œì‹œíŒ CRUD ì‘ì—… íŒ¨í‚¤ì§€ ì •ë¦¬ util íŒ¨í‚¤ì§€ Â  : Â  Prompt í´ë˜ìŠ¤ command íŒ¨í‚¤ì§€ Â  : Â  Usercommand í´ë˜ìŠ¤ vo íŒ¨í‚¤ì§€ Â  : Â  User í´ë˜ìŠ¤ ...", "content": "App 10-2. í”„ë¡œì íŠ¸ ë° ê²Œì‹œíŒ CRUD êµ¬í˜„í•˜ê¸°3. í”„ë¡œì íŠ¸ ë° ê²Œì‹œíŒ CRUD ì‘ì—… íŒ¨í‚¤ì§€ ì •ë¦¬ util íŒ¨í‚¤ì§€ Â  : Â  Prompt í´ë˜ìŠ¤ command íŒ¨í‚¤ì§€ Â  : Â  Usercommand í´ë˜ìŠ¤ vo íŒ¨í‚¤ì§€ Â  : Â  User í´ë˜ìŠ¤ ê¸°ì¡´ì—ëŠ” ëª¨ë‘ ë™ì¼ íŒ¨í‚¤ì§€ì— ìˆì—ˆë‹¤. Â  â‡’ Â  (default) static ë©”ì„œë“œë„ ì„œë¡œ ì‚¬ìš© ê°€ëŠ¥ ì´ì œ íŒ¨í‚¤ì§€ê°€ ì„œë¡œ ë‹¬ë¼ì¡Œë‹¤. ì ‘ê·¼ ì œí•œìë¥¼ (default)ì—ì„œ publicìœ¼ë¡œ ë³€ê²½í•œë‹¤. package bitcamp.myapp.util; import java.util.Scanner; public class Prompt { public static Scanner sc = new Scanner(System.in); public static String input(String title) { System.out.printf(\"%s \", title); return sc.nextLine(); } public static void close() { sc.close(); } } User í´ë˜ìŠ¤ ì—­ì‹œ íŒ¨í‚¤ì§€ê°€ ë‹¬ë¼ì¡Œê¸° ë•Œë¬¸ì— í•„ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì ‘ê·¼ ì œí•œìë¥¼ privateìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤. ì™¸ë¶€ì—ì„œ í•´ë‹¹ í•„ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ê±°ë‚˜ ì¡°íšŒí•˜ì§€ ëª»í•˜ë„ë¡ privateìœ¼ë¡œ ë³€ê²½ í•„ë“œì— ì ‘ê·¼í•  ë•ŒëŠ”getter/setterë¥¼ ì‚¬ìš©í•œë‹¤. User package bitcamp.myapp.vo; public class User { private String name; private String email; private String password; private String tel; public String getName() { return name; } public void setName(String name) { this.name = name; } public String getEmail() { return email; } public void setEmail(String email) { this.email = email; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public String getTel() { return tel; } public void setTel(String tel) { this.tel = tel; } } getter/setterë¥¼ ì‚¬ìš©í•¨ì— ë”°ë¥¸ UserCommand ë³€ê²½ UserCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.User; import static bitcamp.myapp.util.Prompt.input; public class UserCommand { static final int MAX_SIZE = 100; static User[] users = new User[MAX_SIZE]; static int userLength = 0; public static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } static void addUser() { User user = new User(); user.setName(Prompt.input(\"ì´ë¦„?\")); user.setEmail(Prompt.input(\"ì´ë©”ì¼?\")); user.setPassword(Prompt.input(\"ì•”í˜¸?\")); user.setTel(Prompt.input(\"ì—°ë½ì²˜?\")); users[userLength++] = user; } static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; userLength; i++) { User user = users[i]; System.out.printf(\"%d %s %s\\n\", (i + 1), user.getName(), user.getEmail()); } } static void viewUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } User user = users[userNo - 1]; System.out.printf(\"ì´ë¦„: %s\\n\", user.getName()); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.getEmail()); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.getTel()); } static void updateUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } User user = users[userNo - 1]; user.setName(input(String.format(\"ì´ë¦„(%s)?\", user.getName()))); user.setEmail(input(String.format(\"ì´ë©”ì¼(%s)?\", user.getEmail()))); user.setPassword(input(\"ì•”í˜¸?\")); user.setTel(input(String.format(\"ì—°ë½ì²˜(%s)?\", user.getTel()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } static void deleteUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } for (int i = userNo; i &lt; userLength; i++) { users[i - 1] = users[i]; } userLength--; users[userLength] = null; System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } } í”„ë¡œì íŠ¸ CRUD ëª…ë ¹ì„ ì²˜ë¦¬í•  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ì •ë³´ë¥¼ ì €ì¥í•  ìƒˆ ë°ì´í„° íƒ€ì…ì„ ì •ì˜ Â  : Â  Project í´ë˜ìŠ¤ ìƒì„± Project package bitcamp.myapp.vo; public class Project { private String title; private String description; private String startDate; private String endDate; private User[] members = new User[10]; private int memberSize; public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getDescription() { return description; } public void setDescription(String description) { this.description = description; } public String getStartDate() { return startDate; } public void setStartDate(String startDate) { this.startDate = startDate; } public String getEndDate() { return endDate; } public void setEndDate(String endDate) { this.endDate = endDate; } } ProjectCommand í´ë˜ìŠ¤ ìƒì„± addProject(), listProject(), viewProject(), updateProject(), deleteProject() ìƒì„± ProjectCommand package bitcamp.myapp.command; import bitcamp.myapp.util.Prompt; import bitcamp.myapp.vo.Project; public class ProjectCommand { static final int MAX_SIZE = 100; static Project[] projects = new Project[MAX_SIZE]; static int projectLength = 0; public static void executeProjectCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addProject(); break; case \"ëª©ë¡\": listProject(); break; case \"ì¡°íšŒ\": viewProject(); break; case \"ë³€ê²½\": updateProject(); break; case \"ì‚­ì œ\": deleteProject(); break; } } static void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); projects[projectLength++] = project; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } static void listProject() { System.out.println(\"ë²ˆí˜¸ í”„ë¡œì íŠ¸ ê¸°ê°„\"); for (int i = 0; i &lt; projectLength; i++) { Project project = projects[i]; System.out.printf(\"%d %s %s ~ %s\\n\", (i + 1), project.getTitle(), project.getStartDate(), project.getEndDate()); } } static void viewProject() { int projectNo = Integer.parseInt(Prompt.input(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\")); // 1ë¶€í„° ì‹œì‘ if (projectNo &lt; 1 || projectNo &gt; projectLength) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } Project project = projects[projectNo - 1]; System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); // ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); } static void updateProject() { int projectNo = Integer.parseInt(Prompt.input(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\")); if (projectNo &lt; 1 || projectNo &gt; projectLength) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } Project project = projects[projectNo - 1]; project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } static void deleteProject() { int projectNo = Integer.parseInt(Prompt.input(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\")); if (projectNo &lt; 1 || projectNo &gt; projectLength) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } for (int i = projectNo; i &lt; projectLength; i++) { projects[i - 1] = projects[i]; } projects[--projectLength] = null; // ê°€ë¹„ì§€ ì²˜ë¦¬ System.out.println(\"ì‚­ì œ í–ˆìŠµë‹ˆë‹¤.\"); } } App í´ë˜ìŠ¤ ë³€ê²½ íŒ€ ë©”ë‰´ ì œê±° í”„ë¡œì íŠ¸ ë“±ë¡í•  ë•Œ íŒ€ì›ì„ ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. Prompt í´ë˜ìŠ¤ ë¦¬íŒ©í† ë§ inputInt() ë©”ì„œë“œ ì¶”ê°€ public static int inputInt(String title) { return Integer.parseInt(input(title)); } ê¸°ì¡´ì˜ input()ìœ¼ë¡œ ë°›ì€ ê²ƒì„ Integer.parseInt()ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì„ inputInt()ë¡œ ë°”ê¿”ì¤€ë‹¤. input() ë©”ì„œë“œ ë³€ê²½ Â  : Â  format ê¸°ëŠ¥ ì¶”ê°€ public static String input(String format, Object ... args) { System.out.printf(format + \" \", args); return sc.nextLine(); } ProjectCommand.addProject() ë³€ê²½ ì¶”ê°€í•  íŒ€ì›ì˜ íšŒì› ë²ˆí˜¸ë¥¼ ë°›ëŠ”ë‹¤. Â  (0ë²ˆ ì¢…ë£Œê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€) UserCommandì˜ findByNo()ë¡œ íšŒì›ë²ˆí˜¸ë¡œ í•´ë‹¹ ì‚¬ìš©ìë¥¼ ì°¾ëŠ”ë‹¤. íšŒì› ìœ íš¨ì„± ê²€ì‚¬ í›„, containsMember()ë¡œ ì´ë¯¸ ì¶”ê°€í•œ íšŒì› ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ê³ , addMember()ë¡œ íŒ€ì›ì„ ìµœì¢…ì ìœ¼ë¡œ ì¶”ê°€í•œë‹¤. static void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); while (true) { int userNo = Prompt.inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = UserCommand.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.containsMember(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.addMember(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } projects[projectLength++] = project; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } UserCommand.findByNo() ì¶”ê°€ ë°›ì€ íšŒì› ë²ˆí˜¸ì˜ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•´ì¤€ë‹¤. public static User findByNo(int userNo) { if (userNo &lt; 1 || userNo &gt; userLength) { return null; } return users[userNo - 1]; } Project.addMember() ì¶”ê°€ public void addMember(User user) { members[memberSize++] = user; } Project.containsMember() ì¶”ê°€ ê¸°ì¡´ì— ë‹´ê¸´ ë©¤ë²„ì˜ ì´ë¦„ë“¤ê³¼ í˜„ì¬ ì¶”ê°€í•˜ëŠ” ì‚¬ìš©ìì˜ ì´ë¦„ì„ ë¹„êµí•œë‹¤. public boolean containsMember(User user) { for (int i = 0; i &lt; memberSize; i++) { User member = members[i]; if (member.getName().equals(user.getName())) { return true; } } return false; } í”„ë¡œì íŠ¸ ì¡°íšŒí•  ë•Œ íŒ€ì›ì„ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. ProjectCommand.viewProject() ë³€ê²½ countMembers()ë¡œ íŒ€ì›ì˜ ìˆ˜ë¥¼ íŒŒì•…í•˜ê³  íŒ€ì›ì˜ ìˆ˜ë§Œí¼ ë°˜ë³µë¬¸ì„ ëŒë©° getMember(index)ë¡œ ë©¤ë²„ë¥¼ ê°€ì ¸ì™€ì„œ ì´ë¦„ì„ êº¼ë‚¸ë‹¤. static void viewProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); // 1ë¶€í„° ì‹œì‘ if (projectNo &lt; 1 || projectNo &gt; projectLength) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } Project project = projects[projectNo - 1]; System.out.printf(\"í”„ë¡œì íŠ¸ëª…: %s\\n\", project.getTitle()); // ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° System.out.printf(\"ì„¤ëª…: %s\\n\", project.getDescription()); System.out.printf(\"ê¸°ê°„: %s ~ %s\\n\", project.getStartDate(), project.getEndDate()); System.out.println(\"íŒ€ì›:\"); for (int i = 0; i &lt; project.countMembers(); i++) { System.out.printf(\"- %s\\n\", project.getMemebrs(i).getName()); } } Project.countMembers() ì¶”ê°€ privateì´ë¯€ë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ í•„ë“œë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ë‹¤ ì“¸ ìˆ˜ ì—†ë‹¤. public int countMembers() { return this.memberSize; } thisëŠ” ìƒëµ ê°€ëŠ¥ Project.getMember() ì¶”ê°€ public User getMember(int index) { return members[index]; } í”„ë¡œì íŠ¸ ë³€ê²½í•  ë•Œ íŒ€ì›ì„ ì‚­ì œ, ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. ProjectCommand.updateProject() ë³€ê²½ íŒ€ì›ì„ ì œê±°í•˜ëŠ” ë©”ì„œë“œì™€ íŒ€ì›ì„ ë“±ë¡í•˜ëŠ” ë©”ì„œë“œë¥¼ ë¯¸ë¦¬ í˜¸ì¶œí•˜ê³  ë‚˜ì¤‘ì— ì •ì˜í•œë‹¤. static void updateProject() { int projectNo = inputInt(\"í”„ë¡œì íŠ¸ ë²ˆí˜¸?\"); if (projectNo &lt; 1 || projectNo &gt; projectLength) { System.out.println(\"ì—†ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.\"); return; } Project project = projects[projectNo - 1]; project.setTitle(Prompt.input(String.format(\"í”„ë¡œì íŠ¸ëª…(%s)?\", project.getTitle()))); project.setDescription(Prompt.input(String.format(\"ì„¤ëª…(%s)?\", project.getDescription()))); project.setStartDate(Prompt.input(String.format(\"ì‹œì‘ì¼(%s)?\", project.getStartDate()))); project.setEndDate(Prompt.input(String.format(\"ì¢…ë£Œì¼(%s)?\", project.getEndDate()))); System.out.println(\"íŒ€ì›:\"); deleteMembers(project); addMembers(project); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } ProjectCommand.addMembers() ì¶”ê°€ ê¸°ì¡´ì— addProejct()ì˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. private static void addMembers(Project project) { while (true) { int userNo = inputInt(\"ì¶”ê°€í•  íŒ€ì› ë²ˆí˜¸?(ì¢…ë£Œ: 0)\"); if (userNo == 0) { break; } User user = UserCommand.findByNo(userNo); if (user == null) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); continue; } if (project.containsMember(user)) { System.out.printf(\"'%s'ì€ í˜„ì¬ íŒ€ì›ì…ë‹ˆë‹¤.\\n\", user.getName()); continue; } project.addMember(user); System.out.printf(\"'%s'ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\\n\", user.getName()); } } ê¸°ì¡´ì˜ addProject()ë„ ê°„ê²°í•´ì§„ë‹¤. static void addProject() { Project project = new Project(); project.setTitle(Prompt.input(\"í”„ë¡œì íŠ¸ëª…?\")); project.setDescription(Prompt.input(\"ì„¤ëª…?\")); project.setStartDate(Prompt.input(\"ì‹œì‘ì¼?\")); project.setEndDate(Prompt.input(\"ì¢…ë£Œì¼?\")); System.out.println(\"íŒ€ì›:\"); addMembers(project); projects[projectLength++] = project; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } ProjectCommand.deleteMembers() ì¶”ê°€ deleteMEmber(index)ë¡œ Projectì˜ í•´ë‹¹ ë©¤ë²„ë¥¼ ì‚­ì œí•œë‹¤. private static void deleteMembers(Project project) { for (int i = 0; i &lt; project.countMembers(); i++) { User member = project.getMember(i); String str = input(\"íŒ€ì›(%s) ì‚­ì œ?\", member.getName()); if (str.equalsIgnoreCase(\"y\")) { project.deleteMember(i); System.out.printf(\"'%s' íŒ€ì›ì„ ì‚­ì œí•©ë‹ˆë‹¤.\\n\", member.getName()); } else { System.out.printf(\"'%s' íŒ€ì›ì„ ìœ ì§€í•©ë‹ˆë‹¤.\\n\", member.getName()); } } } equalsIgnoreCase()ë¥¼ ì´ìš©í•˜ì—¬ ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ Y, yë¥¼ ëª¨ë‘ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤. Project.deleteMember() ì¶”ê°€ public void deleteMember(int index) { for (int i = index + 1; i &lt; memberSize; i++) { members[i - 1] = members[i]; } members[--memberSize] = null; } ê²Œì‹œê¸€ CRUD ëª…ë ¹ì„ ì²˜ë¦¬í•  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ì •ë³´ë¥¼ ì €ì¥í•  ìƒˆ ë°ì´í„° íƒ€ì…ì„ ì •ì˜ Â  : Â  Board í´ë˜ìŠ¤ ìƒì„± Board package bitcamp.myapp.vo; public class Board { private String title; private String content; public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getContent() { return content; } public void setContent(String content) { this.content = content; } } BoardCommand í´ë˜ìŠ¤ ìƒì„± BoardCommand public class BoardCommand { private static final int MAX_SIZE = 100; private static Board[] boards = new Board[MAX_SIZE]; private static int boardLength = 0; public static void executeBoardCommand(String command) { System.out.printf(\"[%s]\\n\", command); switch (command) { case \"ë“±ë¡\": addBoard(); break; case \"ì¡°íšŒ\": viewBoard(); break; case \"ëª©ë¡\": listBoard(); break; case \"ë³€ê²½\": updateBoard(); break; case \"ì‚­ì œ\": deleteBoard(); break; } } private static void addBoard() { System.out.println(\"ê²Œì‹œíŒ ë“±ë¡\"); } private static void listBoard() { System.out.println(\"ê²Œì‹œíŒ ëª©ë¡\"); } private static void viewBoard() { System.out.println(\"ê²Œì‹œíŒ ì¡°íšŒ\"); } private static void updateBoard() { System.out.println(\"ê²Œì‹œíŒ ë³€ê²½\"); } private static void deleteBoard() { System.out.println(\"ê²Œì‹œíŒ ì‚­ì œ\"); } } ê²Œì‹œê¸€ ë“±ë¡ì„ êµ¬í˜„í•œë‹¤. Â  (addBoard()) createdDateëŠ” java.util.Dateë¥¼ ì‚¬ìš© private static void addBoard() { Board board = new Board(); board.setTitle(Prompt.input(\"ì œëª©?\")); board.setContent(Prompt.input(\"ë‚´ìš©?\")); board.setCreatedDate(new Date()); boards[boardLength++] = board; System.out.println(\"ë“±ë¡í–ˆìŠµë‹ˆë‹¤.\"); } ê²Œì‹œê¸€ ëª©ë¡ì„ êµ¬í˜„í•œë‹¤. Â  (listBoard()) createdDateëŠ” java.util.Dateë¥¼ ì‚¬ìš©í•˜ê³  ì¶œë ¥ í˜•ì‹ì„ ì§€ì •í•´ì¤€ë‹¤. %tY-%3$tm-%3$td Â  â‡’ Â  2024-06-19 ë’¤ì˜ í•­ëª©ì„ 2ë²ˆ ì´ìƒ ì‚¬ìš©í•  ë•ŒëŠ” ë²ˆí˜¸ë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤. private static void listBoard() { System.out.println(\"ë²ˆí˜¸ ì œëª© ì‘ì„±ì¼ ì¡°íšŒìˆ˜\"); for (int i = 0; i &lt; boardLength; i++) { Board board = boards[i]; System.out.printf(\"%d %s %tY-%3$tm-%3$td %d\\n\", (i + 1), board.getTitle(), board.getCreatedDate(), board.getViewCount()); } } ê²Œì‹œê¸€ ì¡°íšŒë¥¼ êµ¬í˜„í•œë‹¤. Â  (viewBoard()) ê²Œì‹œê¸€ì„ ì¡°íšŒí•  ë•Œ ì¡°íšŒìˆ˜ë¥¼ 1 ì¦ê°€ì‹œì¼œì¤€ë‹¤. ë‚ ì§œ í˜•ì‹ (ì—°ì›”ì¼ ì‹œë¶„ì´ˆ) Â  â‡’ Â  %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS â‡’ Â  2024-06-19 12:09:16 private static void viewBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); if (boardNo &lt; 1 || boardNo &gt; boardLength) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } Board board = boards[boardNo - 1]; board.setViewCount(board.getViewCount() + 1); System.out.printf(\"ì œëª©: %s\\n\", board.getTitle()); System.out.printf(\"ë‚´ìš©: %s\\n\", board.getContent()); System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); System.out.printf(\"ì¡°íšŒìˆ˜: %d\\n\", board.getViewCount()); } ê²Œì‹œê¸€ ë³€ê²½ì„ êµ¬í˜„í•œë‹¤. Â  (updateBoard()) private static void updateBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); if (boardNo &lt; 1 || boardNo &gt; boardLength) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } Board board = boards[boardNo - 1]; board.setTitle(Prompt.input(\"ì œëª©(%s)?\", board.getTitle())); board.setContent(Prompt.input(\"ë‚´ìš©(%s)?\", board.getContent())); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } ê²Œì‹œê¸€ ì‚­ì œë¥¼ êµ¬í˜„í•œë‹¤. Â  (deleteBoard()) private static void deleteBoard() { int boardNo = inputInt(\"ê²Œì‹œê¸€ ë²ˆí˜¸?\"); if (boardNo &lt; 1 || boardNo &gt; boardLength) { System.out.println(\"ì—†ëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤.\"); return; } for (int i = boardNo; i &lt; boardLength; i++) { boards[i - 1] = boards[i]; } boards[--boardLength] = null; System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } 4. ì•Œì•„ ë‘ê¸° ê°œë°œìê°€ ë©”ì„œë“œë¥¼ ìƒì„±í•˜ëŠ” ìœ í˜• 2ê°€ì§€ ë¨¼ì € ë©”ì„œë“œë¥¼ ì •ì˜í•˜ëŠ” ë°©ì‹ ë‹¤ë¥¸ ì½”ë“œì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©í•  ì§€ í˜¸ì¶œì„ ë¨¼ì €í•˜ê³  ì´í›„ì— ì •ì˜í•˜ëŠ” ë°©ì‹ equalsIgnoreCase() ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì•ˆ í•˜ê³  ë¹„êµí•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ğŸ”† ë°°ì—´ì˜ í•­ëª©ì„ ì—°ì†ìœ¼ë¡œ ì‚­ì œí•  ë•Œ ì¸ë±ìŠ¤ê°€ 2ì¼ ë•Œ Cê°€ ì•„ë‹ˆê³  Dì´ë‹¤. 0 1 2 =&gt; i = 2ì¼ ë•Œ [A][C][D][][][][][][][] ğŸ”† ê²Œì‹œê¸€ ì…ë ¥ê³¼ ë©”ëª¨ë¦¬ JVMì´ ë©”ëª¨ë¦¬ë¥¼ ê´€ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” 3ê°€ì§€ ì˜ì—­ Method Area ì˜ì—­ â‡’ Â  ëª¨ë“  í´ë˜ìŠ¤, ë©”ì„œë“œ ë“±ì˜ ì½”ë“œë“¤ì€ Method Area ì˜ì—­ì— ì¡´ì¬í•œë‹¤. private static final int MAX_SIZE = 100; private static Board[] boards = new Board[MAX_SIZE]; private static int boardLength = 0; MAX_SIZE boards boardLength [ ][300ë²ˆì§€][ ] â‡’ Â  Method Areaì— ìˆëŠ” boardsì—ëŠ” Heap ë©”ëª¨ë¦¬ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œê°€ ë‹´ê¸´ë‹¤. â‡’ Â  ì´ëŸ¬í•œ static ë³€ìˆ˜ ì¦‰ í´ë˜ìŠ¤ ë³€ìˆ˜ëŠ” ì´ Method Areaì— ìƒì„±ëœë‹¤. JVM Stack ì˜ì—­ Method Areaì˜ addProject()ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ addProject()ê°€ ì‚¬ìš©í•  ë³€ìˆ˜ì¸ board(Boardì˜ ë ˆí¼ëŸ°ìŠ¤)ë¼ëŠ” ë³€ìˆ˜ê°€ JVM Stackì— í”„ë ˆì„(board : [200])ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤. ë‹¤ë¥¸ ì˜ˆì‹œë¡œ Promptì˜ intput() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë ˆì„(format : [ ], args : [ ]ë¼ëŠ” íŒŒë¼ë¯¸í„°ë“¤)ì´ ìƒê¸°ê³  í˜¸ì¶œì´ ëë‚˜ë©´ í”„ë ˆì„ì€ ì œê±°ëœë‹¤. addProject()ê°€ ëë‚˜ë©´ board : [200]ì´ ë“¤ì–´ìˆëŠ” í”„ë ˆì„ë„ ì‚¬ë¼ì§„ë‹¤. Heap ì˜ì—­ new Board(); ëª…ë ¹ ì‹œ title content 200-[ ][ ] Boardì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” Heap ì˜ì—­ì— ë§Œë“¤ì–´ì§„ë‹¤. new Board[Max_SIZE]ëŠ” ì•„ë˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ Heap ì˜ì—­ì— ìƒì„±í•œë‹¤. 0 99 300-[200ë²ˆì§€][][....][] ğŸ”† ë³€ìˆ˜ ì´ˆê¸°í™” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ í´ë˜ìŠ¤ ë³€ìˆ˜ëŠ” ë”°ë¡œ ì´ˆê¸°í™”í•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ íƒ€ì…ì— ë§ê²Œ ì´ˆê¸°í™”ëœë‹¤. Method Area ì˜ì—­ class A { static int v1; void m1() { Board b = new Board(); } } ì´ ì½”ë“œëŠ” Method Areaì— ìˆë‹¤. v1 : [0] v1ì´ë¼ëŠ” ë³€ìˆ˜ëŠ” A í´ë˜ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ë¡œë”©ë  ë•Œ ìë™ ìƒì„±ë˜ë©° íƒ€ì…ì— ë§ì¶°ì„œ ìë™ ì´ˆê¸°í™”ëœë‹¤. JVM Stack ì˜ì—­ ì¦‰, ì§€ì—­ ë³€ìˆ˜ëŠ” ë³€ìˆ˜ì˜ ê°’ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì§ì ‘ ì´ˆê¸°í™”ì‹œì¼œì•¼ í•œë‹¤. Heap ì˜ì—­ new Board();ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì•„ë˜ì˜ ë©”ëª¨ë¦¬ title content createdDate viewCount [null][ null ][ null ][ 0 ] ğŸ”† new Date( ) java.util.Date [ex] Wed Jun 19 11:58:07 KST 2024 ë‚ ì§œ ì‚½ì… Formatting í˜„ì¬ ë‚ ì§œ ë° ì‹œê° ì •ë³´ Â  : Â  java.util.Date Â  â†’ Â  ê°ì²´ ìƒì„± Â  â†’ Â  ì˜µì…˜ í™œìš©í•˜ì—¬ ì›í•˜ëŠ” ì •ë³´ ë½‘ì•„ë‚´ê¸° í•œ ê°œì˜ ê°’ì„ ì—¬ëŸ¬ ê³³ì— ì‚½ì…í•  ìˆ˜ ìˆë‹¤. 3$ Â  : Â  3ë²ˆì§¸ ê°’ Â  (ì§€ì • ì‚¬ìš©ë²•) System.out.printf(\"%d %s %tY-%3$tm-%3$td\", (i + 1), board.getTitle(), board.getCreatedDate()); =&gt; 2024-06-19 3$ : 3ë²ˆì§¸ ê°’ (ì§€ì • ì‚¬ìš©ë²•) System.out.printf(\"ì‘ì„±ì¼: %1$tY-%1$tm-%1$td %1$tH:%1$tM:%1$tS\\n\", board.getCreatedDate()); =&gt; 2024-06-19 12:09:16 print( ), println( ), printf( ) ì‚¬ìš©ë²•ğŸ”† ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ board Â  : Â  ë ˆí¼ëŸ°ìŠ¤ Â  (200ë²ˆì§€) 200-[title][content][createdDate][viewCount] Â  : Â  ì¸ìŠ¤í„´ìŠ¤ ê¸°ìˆ ì  ì¸¡ë©´ getTitle() ë©”ì„œë“œì—ê²Œ ì¸ìŠ¤í„´ìŠ¤ ì£¼ì†Œ(200ë²ˆì§€)ë¥¼ ì£¼ê³ , ë©”ì„œë“œê°€ ê°’ì„ ë¦¬í„´í•œë‹¤. (ë©”ì„œë“œëŠ” thisë¼ëŠ” ë³€ìˆ˜ë¥¼ í†µí•´ì„œ ë°›ê³  ì ‘ê·¼í•œë‹¤) ê¸°ìˆ ì  ì¸¡ë©´ì„ ì¶”ìƒì ì¸ í‘œí˜„ìœ¼ë¡œ ë°”ê¾¸ë©´ ê°œë…ì  ì¸¡ë©´ì´ë‹¤. ê°ì²´ì§€í–¥ ê°œë…ì  ì¸¡ë©´ board ê°ì²´ì—ê²Œ ê°’ì„ êº¼ë‚´ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ë‹¤. ê·¸ëŸ¼ board ê°ì²´ê°€ ê°’ì„ ë¦¬í„´í•œë‹¤. " }, { "title": "App 10-1. íšŒì› CRUD êµ¬í˜„í•˜ê¸°", "url": "/posts/app-10(1)/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "Static Variables, Instance Variables, Local Variables, ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´", "date": "2024-12-15 10:00:00 +0900", "snippet": "App 10-1. íšŒì› CRUD êµ¬í˜„í•˜ê¸°1. í•™ìŠµëª©í‘œ ë°ì´í„°ì˜ CRUD(create, retrieve/read, update, delete)ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ë¬¸ë²•ì„ ì´ìš©í•˜ì—¬ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•˜ê³  ë©”ì„œë“œë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ ë¬¸ë²•ì„ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. import ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°°ì—´ì„ ì´ìš©í•˜ì—¬ ì¸ìŠ¤í„´...", "content": "App 10-1. íšŒì› CRUD êµ¬í˜„í•˜ê¸°1. í•™ìŠµëª©í‘œ ë°ì´í„°ì˜ CRUD(create, retrieve/read, update, delete)ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ë¬¸ë²•ì„ ì´ìš©í•˜ì—¬ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•˜ê³  ë©”ì„œë“œë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ ë¬¸ë²•ì„ ì´ìš©í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. import ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°°ì—´ì„ ì´ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ íšŒì› CRUD êµ¬í˜„ í”„ë¡œì íŠ¸ CRUD êµ¬í˜„ ê²Œì‹œíŒ CRUD êµ¬í˜„3-1. íšŒì› CRUD ì‘ì—… ê° ì„œë¸Œ ë©”ë‰´ ë§ˆë‹¤ í™œë™ì´ ë‹¤ë¥´ë¯€ë¡œ ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  switch ë¬¸ìœ¼ë¡œ ë¶„ê¸°í•´ì¤€ë‹¤. íšŒì› ì„œë¸Œ ë©”ë‰´ë¥¼ ë‹¤ë£° ë©”ì„œë“œë¥¼ ì •ì˜í•œë‹¤. Â  Â  (executeUserCommand()) íšŒì›ì˜ ì„œë¸Œ ë©”ë‰´ë¥¼ ì„ íƒí•˜ë©´ executeUserCommand()ë¥¼ í˜¸ì¶œí•œë‹¤. Â  Â  (processMenu() ë³€ê²½) public static void processMenu(String menuTitle, String[] menus) { printSubMenu(menuTitle, menus); while (true) { String command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { System.out.println(subMenuTitle); switch (menuTitle) { case \"íšŒì›\": executeUserCommand(subMenuTitle); break; case \"íŒ€\": executeTeamCommand(subMenuTitle); break; case \"í”„ë¡œì íŠ¸\": executeProjectCommand(subMenuTitle); break; case \"ê²Œì‹œíŒ\": executeBoardCommand(subMenuTitle); break; default: System.out.printf(\"%s ë©”ë‰´ì˜ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\n\", menuTitle); break; } } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } static void executeBoardCommand(String command) { System.out.println(command); } static void executeProjectCommand(String command) { System.out.println(command); } static void executeTeamCommand(String command) { System.out.println(command); } static void executeUserCommand(String command) { System.out.println(command); } íšŒì› ë“±ë¡ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. Â  Â  (executeUserCommand() ë³€ê²½) ë©”ë‰´ ì„ íƒ ì‹œ íšŒì› ì„œë¸Œ ë©”ë‰´ì˜ â€ë“±ë¡â€ ë¶€ë¶„ì„ ì¶”ê°€í•œë‹¤. Â  (í•œ ëª…ì˜ íšŒì› ì •ë³´ë¥¼ ì…ë ¥ ë°›ëŠ”ë‹¤.) static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": String name = prompt(\"ì´ë¦„?\"); String email = prompt(\"ì´ë©”ì¼?\"); String password = prompt(\"ì•”í˜¸?\"); String tel = prompt(\"ì—°ë½ì²˜?\"); System.out.printf(\"%s %s %s %s\\n\", name, email, password, tel); break; case \"ëª©ë¡\": break; case \"ì¡°íšŒ\": break; case \"ë³€ê²½\": break; case \"ì‚­ì œ\": break; } } prompt() ë³€ê²½ â€™&gt;â€™ ë¬¸ì ì¶œë ¥ì„ ì œê±°í•œë‹¤. ì´ì— ë§ì¶° ê´€ë ¨ ì½”ë“œë¥¼ ë³€ê²½í•œë‹¤. (prompt() ë©”ì„œë“œì—ì„œ â€œ&gt;â€ ê¸°í˜¸ ê²¹ì¹¨ ë°œìƒí•˜ê¸° ë•Œë¬¸ì—) String í´ë˜ìŠ¤ì˜ format() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ printf ì²˜ëŸ¼ í™œìš© ê°€ëŠ¥ public static String prompt(String title) { System.out.printf(\"%s \", title); return sc.nextLine(); } ... command = prompt(\"ë©”ì¸&gt;\"); ... String command = prompt(String.format(\"ë©”ì¸/%s&gt;\", menuTitle)); íšŒì› ëª©ë¡, ì¡°íšŒ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. Â  Â  (executeUserCommand() ë³€ê²½) ëª©ë¡, ì¡°íšŒë„ ë“±ë¡ ê¸°ëŠ¥ì„ êµ¬í˜„ ì‹œ ì„ ì–¸í•œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‚˜ ë“±ë¡ì—ì„œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ë¡œì»¬ ë³€ìˆ˜ì´ë¯€ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. Â  â‡’ Â  ìƒìœ„ ë¸”ë¡ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ë¡œì»¬ ë³€ìˆ˜ì´ë¯€ë¡œ ì´ˆê¸°í™”ë¥¼ ì‹œì¼œì¤˜ì•¼ í•œë‹¤. Â  â‡’ Â  í´ë˜ìŠ¤ ë³€ìˆ˜ë¡œ ì „í™˜ (í´ë˜ìŠ¤ ë³€ìˆ˜ëŠ” ìë™ ì´ˆê¸°í™”) public class App { static Scanner sc = new Scanner(System.in); static String[] mainMenus = {\"íšŒì›\", \"íŒ€\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; static String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"} }; static String name; static String email; static String password; static String tel; static int memberLength = 0; .... static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": name = prompt(\"ì´ë¦„?\"); email = prompt(\"ì´ë©”ì¼?\"); password = prompt(\"ì•”í˜¸?\"); tel = prompt(\"ì—°ë½ì²˜?\"); System.out.printf(\"%s %s %s %s\\n\", name, email, password, tel); break; case \"ëª©ë¡\": .... ì¶”ê°€ì ìœ¼ë¡œ ë“±ë¡ëœ ì¸ì›ì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” memberLengthë¥¼ í´ë˜ìŠ¤ ë³€ìˆ˜ë¡œ ë§Œë“¤ê³  ì´ˆê¸°ê°’ì„ 0ì„ ì¤€ë‹¤. ì—¬ëŸ¬ ëª…ì˜ íšŒì› ì •ë³´ë¥¼ ì…ë ¥í•˜ë„ë¡ ë³€ê²½í•œë‹¤. Â  Â  (executeUserCommand() ë³€ê²½) íšŒì› ì •ë³´ë¥¼ ë°°ì—´ë¡œ ë°›ëŠ”ë‹¤. ì—¬ëŸ¬ ê°œì˜ ê°’ì„ â€œë“±ë¡â€ í•˜ë ¤ë©´ ë°°ì—´ì„ í™œìš©í•´ì•¼ í•œë‹¤. ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë°”ê¾¸ì§€ ëª»í•˜ë„ë¡ ìƒìˆ˜ë¡œ ì´ˆê¸°í™”í•˜ê³  name ë“±ì˜ í´ë˜ìŠ¤ ë³€ìˆ˜ë¥¼ String[ ] ë°°ì—´ë¡œ ë°”ê¿”ì¤€ë‹¤. (ìƒìˆ˜ ë³€ìˆ˜ëŠ” ë³´í†µ ëŒ€ë¬¸ìë¡œ ì‘ì„±) static final int MAX_SIZE = 100; static String[] name = new String[MAX_SIZE]; static String[] email = new String[MAX_SIZE]; static String[] password = new String[MAX_SIZE]; static String[] tel = new String[MAX_SIZE]; static int memberLength = 0; ... static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": name[memberLength] = prompt(\"ì´ë¦„?\"); email[memberLength] = prompt(\"ì´ë©”ì¼?\"); password[memberLength] = prompt(\"ì•”í˜¸?\"); tel[memberLength] = prompt(\"ì—°ë½ì²˜?\"); memberLength++; break; case \"ëª©ë¡\": System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; memberLength; i++) { System.out.printf(\"%d %s %s\\n\", (i + 1), name[i], email[i]); } break; case \"ì¡°íšŒ\": int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", name[userNo - 1]); System.out.printf(\"ì´ë©”ì¼: %s\\n\", email[userNo - 1]); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", tel[userNo - 1]); break; ë“±ë¡í•  ë•Œë§ˆë‹¤ ë°°ì—´ì˜ ê¸¸ì´ë¥¼ 1ì”© ì¦ê°€í•˜ë„ë¡ í•œë‹¤. ì¡°íšŒ ì‹œ ì…ë ¥ ë°›ëŠ” íšŒì› ë²ˆí˜¸ëŠ” 1ë¶€í„°ì§€ë§Œ, ë°°ì—´ì˜ ê²½ìš° 0ë¶€í„°ì´ë‹¤. íšŒì› ë³€ê²½, ì‚­ì œë¥¼ êµ¬í˜„í•œë‹¤. Â  Â  (executeUserCommand() ë³€ê²½) userNo ì—­ì‹œ ê³µí†µ ì‚¬ìš©ì„ ìœ„í•´ ìƒìœ„ ë¸”ë¡ì—ì„œ ì„ ì–¸í•˜ê³  0ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì¤€ë‹¤. static void executeUserCommand(String command) { System.out.println(command); int userNo = 0; switch (command) { .... case \"ë³€ê²½\": userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } name[userNo - 1] = prompt(String.format(\"ì´ë¦„(%s)?\", name[userNo - 1])); email[userNo - 1] = prompt(String.format(\"ì´ë©”ì¼(%s)?\", email[userNo - 1])); password[userNo - 1] = prompt(\"ì•”í˜¸?\"); tel[userNo - 1] = prompt(String.format(\"ì—°ë½ì²˜(%s)?\", tel[userNo - 1])); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); break; â­ì‚­ì œì˜ ì›ë¦¬â­ ì˜ˆë¥¼ ë“¤ì–´ ë§Œì•½ 7ëª…ì— ëŒ€í•´ì„œ ë“±ë¡í–ˆë‹¤ë©´, (memberLength = 7) 0 1 2 3 4 5 6 7 name ë°°ì—´ì˜ ì¸ìŠ¤í„´ìŠ¤ = 200-[ã…‡][ã…‡][ã…‡][ã…‡][ã…‡][ã…‡][ã…‡][ ]..... (ã…‡ : ê° Stringì˜ ì£¼ì†Œê°’) ì‚­ì œì˜ ë°©ì‹ì€ í•´ë‹¹ userNo ë‹¤ìŒì˜ ê°’ë“¤ì„ ì•ìœ¼ë¡œ 1ì¹¸ì”© ë•¡ê²¨ì™€ì„œ ì œê±°í•œë‹¤. userNo = 3ì¼ ë•Œ (index(i) = 2) Â  â‡’ Â  4ë²ˆë¶€í„° 7ë²ˆê¹Œì§€ ê²ƒë“¤ì´ ì•ìœ¼ë¡œ ë•¡ê²¨ì§„ë‹¤. ì´ë ‡ê²Œ ë˜ë©´ 6ë²ˆê³¼ 7ë²ˆì´ ê°™ì€ ê°’ì„ ê°–ê²Œ ëœë‹¤. Â  (ì¦‰, ê°™ì€ Stringì„ ì°¸ì¡°í•˜ê³  ìˆë‹¤) ê·¸ëŸ¬ë¯€ë¡œ ë§ˆì§€ë§‰ì„ null ì²˜ë¦¬í•´ì¤€ë‹¤. ì´ ê°™ì€ ë°©ì‹ì€ ë§¨ ì•ì´ë‚˜ ë§¨ ë’¤ ì¤‘ê°„ ì–´ë””ë“  ì‚­ì œí•´ë„ ê²°ê³¼ëŠ” ë™ì¼í•˜ë‹¤. case \"ì‚­ì œ\": userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } for (int i = userNo; i &lt; memberLength; i++) { name[i - 1] = name[i]; email[i - 1] = email[i]; password[i - 1] = password[i]; tel[i - 1] = tel[i]; } memberLength--; name[memberLength] = null; email[memberLength] = null; password[memberLength] = null; tel[memberLength] = null; break; íšŒì› ë“±ë¡, ëª©ë¡, ì¡°íšŒ, ë³€ê²½, ì‚­ì œ ì½”ë“œë¥¼ ë³„ë„ì˜ ë©”ì„œë“œë¡œ ë¶„ë¦¬í•œë‹¤. Â  Â  (executeUserCommand() ë³€ê²½) addUser(), listUser(), viewUser(), updateUser(), deleteUser() ë©”ì„œë“œ ì •ì˜ static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } static void addUser() { name[memberLength] = prompt(\"ì´ë¦„?\"); email[memberLength] = prompt(\"ì´ë©”ì¼?\"); password[memberLength] = prompt(\"ì•”í˜¸?\"); tel[memberLength] = prompt(\"ì—°ë½ì²˜?\"); memberLength++; } static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; memberLength; i++) { System.out.printf(\"%d %s %s\\n\", (i + 1), name[i], email[i]); } } static void viewUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", name[userNo - 1]); System.out.printf(\"ì´ë©”ì¼: %s\\n\", email[userNo - 1]); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", tel[userNo - 1]); } static void updateUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } name[userNo - 1] = prompt(String.format(\"ì´ë¦„(%s)?\", name[userNo - 1])); email[userNo - 1] = prompt(String.format(\"ì´ë©”ì¼(%s)?\", email[userNo - 1])); password[userNo - 1] = prompt(\"ì•”í˜¸?\"); tel[userNo - 1] = prompt(String.format(\"ì—°ë½ì²˜(%s)?\", tel[userNo - 1])); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } static void deleteUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } for (int i = userNo; i &lt; memberLength; i++) { name[i - 1] = name[i]; email[i - 1] = email[i]; password[i - 1] = password[i]; tel[i - 1] = tel[i]; } memberLength--; name[memberLength] = null; email[memberLength] = null; password[memberLength] = null; tel[memberLength] = null; } ìƒìœ„ ë¸”ë¡ì— ë‘ì—ˆë˜ int userNo = 0;ì€ ì œê±°í•œë‹¤. íšŒì› ë©”ë‰´ ì²˜ë¦¬ ë©”ì„œë“œë¥¼ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤. UserCommand í´ë˜ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. executeUserCommand(), addUser(), listUser(), viewUser(), updateUser(), deleteUser() ë©”ì„œë“œë¥¼UserCommandë¡œ ì˜®ê¸´ë‹¤. íšŒì› ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ ë° ê´€ë ¨ ë³€ìˆ˜ë¥¼ UserCommandë¡œ ì˜®ê¸´ë‹¤. package bitcamp.myapp; import static bitcamp.myapp.App.prompt; public class UserCommand { static final int MAX_SIZE = 100; static String[] name = new String[MAX_SIZE]; static String[] email = new String[MAX_SIZE]; static String[] password = new String[MAX_SIZE]; static String[] tel = new String[MAX_SIZE]; static int memberLength = 0; static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } static void addUser() { name[memberLength] = prompt(\"ì´ë¦„?\"); email[memberLength] = prompt(\"ì´ë©”ì¼?\"); password[memberLength] = prompt(\"ì•”í˜¸?\"); tel[memberLength] = prompt(\"ì—°ë½ì²˜?\"); memberLength++; } static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; memberLength; i++) { System.out.printf(\"%d %s %s\\n\", (i + 1), name[i], email[i]); } } static void viewUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } System.out.printf(\"ì´ë¦„: %s\\n\", name[userNo - 1]); System.out.printf(\"ì´ë©”ì¼: %s\\n\", email[userNo - 1]); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", tel[userNo - 1]); } static void updateUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } name[userNo - 1] = prompt(String.format(\"ì´ë¦„(%s)?\", name[userNo - 1])); email[userNo - 1] = prompt(String.format(\"ì´ë©”ì¼(%s)?\", email[userNo - 1])); password[userNo - 1] = prompt(\"ì•”í˜¸?\"); tel[userNo - 1] = prompt(String.format(\"ì—°ë½ì²˜(%s)?\", tel[userNo - 1])); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } static void deleteUser() { int userNo = Integer.parseInt(prompt(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; memberLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } for (int i = userNo; i &lt; memberLength; i++) { name[i - 1] = name[i]; email[i - 1] = email[i]; password[i - 1] = password[i]; tel[i - 1] = tel[i]; } memberLength--; name[memberLength] = null; email[memberLength] = null; password[memberLength] = null; tel[memberLength] = null; } } App í´ë˜ìŠ¤ì˜ static ë©”ì„œë“œì¸ prompt()ë¥¼ importí•œë‹¤. ë°˜ëŒ€ë¡œ App í´ë˜ìŠ¤ë„ UserCommandì˜ static ë©”ì„œë“œì¸ executeUserCommand()ë¥¼ importí•œë‹¤. ğŸ’¥ë¬¸ì œ ìƒí™©ğŸ’¥ í˜„ì¬ App í´ë˜ìŠ¤ëŠ” UserCommandì˜ executeUserCommand()ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³ , ë°˜ëŒ€ë¡œ UserCommandëŠ” App í´ë˜ìŠ¤ì˜ prompt()ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ì´ë ‡ê²Œ ìŒë°© ì°¸ì¡° ê´€ê³„ëŠ” ì¢‹ì§€ ì•Šë‹¤. ë”°ë¼ì„œ App í´ë˜ìŠ¤ì—ì„œ prompt()ë¥¼ ë½‘ì•„ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. prompt() ë©”ì„œë“œë¥¼ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œë‹¤. Prompt í´ë˜ìŠ¤ ì •ì˜ prompt() ë©”ì„œë“œë¥¼ Prompt í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ê³  ì´ë¦„ì„ input()ìœ¼ë¡œ ë³€ê²½í•œë‹¤. (ë‹¨, Prompt í´ë˜ìŠ¤ì™€ prompt() ë©”ì„œë“œì˜ ì´ë¦„ì´ ê°™ìœ¼ë¯€ë¡œ) â€ë³€ìˆ˜ or ë©”ì„œë“œâ€ë¥¼ ì´ë™ ì‹œ IntelliJì˜ ë¦¬í™í„°ë§ ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ í•œë²ˆì— ì‹¹ ë°”ë€ë‹¤. ì¶”ê°€ì ìœ¼ë¡œ App í´ë˜ìŠ¤ê°€ ì§ì ‘ Scannerë¥¼ ë‹«ì§€ ì•Šë„ë¡ Prompt í´ë˜ìŠ¤ì— close() ë©”ì„œë“œ ìƒì„± package bitcamp.myapp; import java.util.Scanner; public class Prompt { static Scanner sc = new Scanner(System.in); static String input(String title) { System.out.printf(\"%s \", title); return sc.nextLine(); } static void close() { sc.close(); } } íšŒì› ì •ë³´ë¥¼ í´ë˜ìŠ¤ë¡œ ë‹¤ë£¬ë‹¤. User í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ì—¬ íšŒì› ì •ë³´ë¥¼ User í´ë˜ìŠ¤ë¡œ ë‹¤ë£¬ë‹¤. ë°°ì—´ì€ ê°™ì€ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì‰½ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒì´ê³  í´ë˜ìŠ¤ ë‹¤ë¥¸ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì‰½ê²Œ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒì´ë‹¤. Â  (ì´ ê²½ìš° ê°™ì€ íƒ€ì…ì´ì§€ë§Œ í´ë˜ìŠ¤ë¡œ ë§Œë“ ë‹¤.) ì¦‰, ìƒˆë¡œìš´ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•œë‹¤. Â  Â  (ë©”ëª¨ë¦¬ ì„¤ê³„ë„) package bitcamp.myapp; public class User { String name; String email; String password; String tel; } ì´ ë•Œ í•„ë“œëŠ” Non-static í•„ë“œ Â  = Â  ì¸ìŠ¤í„´ìŠ¤ í•„ë“œë¡œ ë§Œë“ ë‹¤. â‡’ Â  new ëª…ë ¹ì„ í†µí•´ Heap ë©”ëª¨ë¦¬ì— ìƒì„±ëœë‹¤. ì´í›„ UserCommandë¡œ ê°€ì„œ User í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê°€ë…ì„± ì¢‹ê²Œ ë§Œë“ ë‹¤. â‡’ Â  User í´ë˜ìŠ¤ë“¤ì„ ë‹´ëŠ” ë°°ì—´ Â  â‡’ Â  ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì„ í•˜ë‚˜ ë§Œë“ ë‹¤. â‡’ Â  memberLengthë¥¼ userLengthë¡œ ë³€ìˆ˜ ì´ë¦„ì„ ë°”ê¿”ì¤€ë‹¤ package bitcamp.myapp; import static bitcamp.myapp.Prompt.input; public class UserCommand { static final int MAX_SIZE = 100; static User[] users = new User[MAX_SIZE]; static int userLength = 0; static void executeUserCommand(String command) { System.out.println(command); switch (command) { case \"ë“±ë¡\": addUser(); break; case \"ëª©ë¡\": listUser(); break; case \"ì¡°íšŒ\": viewUser(); break; case \"ë³€ê²½\": updateUser(); break; case \"ì‚­ì œ\": deleteUser(); break; } } static void addUser() { User user = new User(); user.name = Prompt.input(\"ì´ë¦„?\"); user.email = Prompt.input(\"ì´ë©”ì¼?\"); user.password = Prompt.input(\"ì•”í˜¸?\"); user.tel = Prompt.input(\"ì—°ë½ì²˜?\"); users[userLength++] = user; } static void listUser() { System.out.println(\"ë²ˆí˜¸ ì´ë¦„ ì´ë©”ì¼\"); for (int i = 0; i &lt; userLength; i++) { User user = users[i]; System.out.printf(\"%d %s %s\\n\", (i + 1), user.name, user.email); } } static void viewUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } User user = users[userNo - 1]; System.out.printf(\"ì´ë¦„: %s\\n\", user.name); System.out.printf(\"ì´ë©”ì¼: %s\\n\", user.email); System.out.printf(\"ì—°ë½ì²˜: %s\\n\", user.tel); } static void updateUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } User user = users[userNo - 1]; user.name = input(String.format(\"ì´ë¦„(%s)?\", user.name)); user.email = input(String.format(\"ì´ë©”ì¼(%s)?\", user.email)); user.password = input(\"ì•”í˜¸?\"); user.tel = input(String.format(\"ì—°ë½ì²˜(%s)?\", user.tel)); System.out.println(\"ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\"); } static void deleteUser() { int userNo = Integer.parseInt(input(\"íšŒì›ë²ˆí˜¸?\")); if (userNo &lt; 1 || userNo &gt; userLength) { System.out.println(\"ì—†ëŠ” íšŒì›ì…ë‹ˆë‹¤.\"); return; } for (int i = userNo; i &lt; userLength; i++) { users[i - 1] = users[i]; } userLength--; users[userLength] = null; System.out.println(\"ì‚­ì œí–ˆìŠµë‹ˆë‹¤.\"); } } users[userLength++] = user;ì€ ë¨¼ì € í• ë‹¹ í›„ 1ì„ ë”í•˜ëŠ” ê²ƒì´ë‹¤. ê²°ê³¼ ğŸ”† ë¡œì»¬ ë³€ìˆ˜, í´ë˜ìŠ¤ ë³€ìˆ˜, í•„ë“œ ë³€ìˆ˜, í´ë˜ìŠ¤ ë¡œë”© ë¡œì»¬ ë³€ìˆ˜ Â  Â  (Local Variables) ë©”ì„œë“œë‚˜ ì´ˆê¸°í™” ë¸”ë¡ ì•ˆì—ì„œ ì„ ì–¸ë˜ê³ , ë¸”ë¡ ë‚´ì—ì„œë§Œ ìœ íš¨í•˜ë‹¤. ë©”ì„œë“œ ì‹¤í–‰ ì‹œ ìƒì„±ë˜ê³ , ì¢…ë£Œ ì‹œ ìŠ¤íƒ ë©”ëª¨ë¦¬ì—ì„œ ì œê±°ëœë‹¤. ë¡œì»¬ ë³€ìˆ˜ëŠ” ì´ˆê¸°í™”ì‹œí‚¤ì§€ ì•Šìœ¼ë©´ ìë™ ì´ˆê¸°í™”ë˜ì§€ ì•ŠëŠ”ë‹¤. í´ë˜ìŠ¤ ë³€ìˆ˜ Â  Â  (Static Variables) í´ë˜ìŠ¤ ë‚´ì—ì„œ staticìœ¼ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë¡œ ì˜¤ë¡œì§€ í´ë˜ìŠ¤ ë³€ìˆ˜ì—ë§Œ staticì„ ë¶™ì¼ ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ ê³µìœ í•˜ëŠ” ë³€ìˆ˜ í´ë˜ìŠ¤ ë¡œë”© ì‹œ Method Areaì— ë§Œë“¤ì–´ì ¸ JVMì„ ì¢…ë£Œí•˜ì§€ ì•ŠëŠ” ì´ìƒ ê³„ì† ë‚¨ì•„ìˆëŠ”ë‹¤. í´ë˜ìŠ¤ ë³€ìˆ˜ëŠ” ìë™ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤. í•„ë“œ ë³€ìˆ˜ Â  Â  (Instatnce Variables) í´ë˜ìŠ¤ ë‚´ì—ì„œ staticê°€ í‚¤ì›Œë“œ ì—†ëŠ” ë³€ìˆ˜ë¡œ ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤ ë³„ë„ë¡œ í• ë‹¹ëœë‹¤. ê°ì²´ê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ ìƒì„±ëœë‹¤. ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©°, ê°ì²´ë§ˆë‹¤ ë…ë¦½ì ì¸ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ê°ì²´ì˜ ë©”ì„œë“œì—ì„œ this í‚¤ì›Œë“œë¥¼ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ë¡œë”© Â  Â  (Java) í´ë˜ìŠ¤ ì‹œì‘ ì‹œ JVMì´ í´ë˜ìŠ¤ íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ í´ë˜ìŠ¤ ë¡œë”©ì´ë¼ í•œë‹¤. í´ë˜ìŠ¤ ë¡œë”©ì€ JVM ë‚´ì—ì„œ í•œ ë²ˆë§Œ ìˆ˜í–‰ëœë‹¤. í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œ ë¡œë”© ë˜ëŠ” ì‹œê°„ì— Method Areaì— ìˆ˜ë°± ê°œì˜ í´ë˜ìŠ¤ê°€ ì˜¬ë¼ê°„ë‹¤. ì˜¬ë¼ê°€ëŠ” í´ë˜ìŠ¤ í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ê±°ë‚˜ ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ê°€ ë˜ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë“¤ (Scanner, String, Integerâ€¦â€¦â€¦) c ì–¸ì–´ í•œ ë²ˆì— ì»´íŒŒì¼ í•˜ì§€ ì•Šê³  ë‚˜ëˆ ì„œ ì»´íŒŒì¼í•˜ì—¬ ì¼ë¶€ëŠ” (*.dll)ë¡œ ë§Œë“¤ê³  ì¼ë¶€ë§Œ .exeíŒŒì¼ë¡œ ëœë‹¤. í•´ë‹¹ ë¶€ë¶„ì„ ì“°ëŠ” ì‹œì ì— .dllê³¼ ì—°ê²°ëœë‹¤. â€¼ï¸ [ì£¼ì˜] í´ë˜ìŠ¤ ê´€ê³„ í´ë˜ìŠ¤ë“¤ ê°„ì˜ ìŒë°© ì°¸ì¡°ë¥¼ í•˜ì§€ë§ˆë¼. ìœ ì§€ ë³´ìˆ˜ í•˜ê¸° í˜ë“¤ë‹¤!! í´ë˜ìŠ¤ ê´€ê³„ë¥¼ ìŒë°©ì—ì„œ Association(ì—°ê´€)ìœ¼ë¡œ ë§Œë“¤ì–´ë¼.ğŸ”† ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ í•„ë“œ ë³€ìˆ˜ê°€ ì €ì¥ë˜ëŠ” ìœ„ì¹˜ê°€ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì´ë‹¤.ğŸ”† ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ 1 â˜… ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ ì¸ìŠ¤í„´ìŠ¤ì˜ ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ì´ë‹¤. í´ë˜ìŠ¤ ë°°ì—´ Â  (ê°ì²´ ë°°ì—´) í•´ë‹¹ í´ë˜ìŠ¤ì˜ ê°ì²´ì˜ ì£¼ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë°°ì—´ë¡œ ì¼ì¢…ì˜ ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ì´ë‹¤. ê°ê° ë©”ëª¨ë¦¬ì— User í´ë˜ìŠ¤ ê°ì²´ì˜ ì£¼ì†Œê°€ ë“¤ì–´ê°„ë‹¤. í´ë˜ìŠ¤ì˜ ê°ì²´ëŠ” ë‹¤ë¥¸ íƒ€ì…ì˜ ë°ì´í„°ë“¤ì„ ì €ì¥í•œë‹¤. ì´ ê²½ìš°, ê°ê°ì˜ í•„ë“œ ë³€ìˆ˜ê°€ ëª¨ë‘ Stringì´ë¯€ë¡œ ëª¨ë‘ ì£¼ì†Œê°’ì´ ì €ì¥ëœë‹¤. ê·¸ë¦¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ì£¼ì†Œê°€ 4100ì¸ ë¹„ì–´ ìˆëŠ” 4ê°œì˜ ë©”ëª¨ë¦¬ê°€ ìƒì„±ë˜ê³  ê°ê°ì˜ í•„ë“œ ë³€ìˆ˜ê°€ í•´ë‹¹ ìœ„ì¹˜ì— ë“¤ì–´ê°„ë‹¤. (primitive íƒ€ì…ì´ë¼ë©´ ê°’ì´ ë“¤ì–´ê°€ê³  Reference íƒ€ì…ì´ë¼ë©´ ì£¼ì†Œê°’ì´ ë“¤ì–´ê°„ë‹¤) users[1]ì—ëŠ” ì•„ì§ User ê°ì²´ì˜ ì£¼ì†Œê°’ì´ ì—†ë‹¤. Â  (nullì¸ ìƒíƒœì´ë¯€ë¡œ) ğŸ”† ë ˆí¼ëŸ°ìŠ¤ ë°°ì—´ 2 users[0].name = \"aaa\"; = user.name = \"aaa\";ğŸ”† í´ë˜ìŠ¤ ë¬¸ë²• ìš°ë¦¬ê°€ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤ë©´ ì´ 2ê°€ì§€ ì¤‘ì— í•˜ë‚˜ì´ë‹¤" }, { "title": "App 09. ìë°” ê¸°ë³¸ ë¬¸ë²• í™œìš© ì—°ìŠµ", "url": "/posts/app-09/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "ì´ì°¨ì›ë°°ì—´, String ë°°ì—´", "date": "2024-12-14 15:00:00 +0900", "snippet": "App 09. ìë°” ê¸°ë³¸ ë¬¸ë²• í™œìš© ì—°ìŠµ1. í•™ìŠµëª©í‘œ ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì…ë ¥ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ì¶œë ¥ë¬¸ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ë‹¤ì°¨ì› ë°°ì—´ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ê° ë©”ë‰´ì— ëŒ€í•œ ì„œë¸Œ ë©”ë‰´ ì¶”ê°€3. ì‘ì—… í”„ë¡¬í”„íŠ¸ë¥¼ ì¶œë ¥í•  ë•Œ ë©”ì¸ ë©”ë‰´ë‚˜ ì„œë¸Œ ë©”ë‰´ íƒ€ì´í‹€ì„ ì¶œë ¥í•œë‹¤. ...", "content": "App 09. ìë°” ê¸°ë³¸ ë¬¸ë²• í™œìš© ì—°ìŠµ1. í•™ìŠµëª©í‘œ ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì…ë ¥ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ì¶œë ¥ë¬¸ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ë‹¤ì°¨ì› ë°°ì—´ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ê° ë©”ë‰´ì— ëŒ€í•œ ì„œë¸Œ ë©”ë‰´ ì¶”ê°€3. ì‘ì—… í”„ë¡¬í”„íŠ¸ë¥¼ ì¶œë ¥í•  ë•Œ ë©”ì¸ ë©”ë‰´ë‚˜ ì„œë¸Œ ë©”ë‰´ íƒ€ì´í‹€ì„ ì¶œë ¥í•œë‹¤. í”„ë¡¬í”„íŠ¸ íƒ€ì´í‹€ì„ ì¶œë ¥í•˜ë„ë¡ prompt() ë©”ì„œë“œë¥¼ ë³€ê²½í•œë‹¤. command = prompt(\"ë©”ì¸\"); ... public static String prompt(String menuTitle) { System.out.printf(\"%s&gt;\\n\", menuTitle); return sc.nextLine(); } â€˜íšŒì›â€™ ë©”ë‰´ì— ëŒ€í•´ ì„œë¸Œ ë©”ë‰´ë¥¼ ì²˜ë¦¬í•œë‹¤. Refactoring ë³´ë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ ë‹¬ì„±ì„ ëª©í‘œë¡œ ì½”ë“œë¥¼ ê°„ë‹¨íˆ ì‘ì„±í•œë‹¤. ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë„ˆë¬´ ì´ìš©í•˜ë ¤ê³  í•˜ì§€ ë§ˆë¼. ë‚˜ì¤‘ì— Refactoring í•  ë•Œ ë” ì˜ ë³´ì¸ë‹¤. if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo); // ì„¤ëª…í•˜ëŠ” ë³€ìˆ˜ if (menuTitle == null) { System.out.println(\"ìœ íš¨í•œ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuTitle.equals(\"íšŒì›\")) { System.out.println(\"[íšŒì›]\"); System.out.println(\"1. ë“±ë¡\"); System.out.println(\"2. ëª©ë¡\"); System.out.println(\"3. ì¡°íšŒ\"); System.out.println(\"4. ë³€ê²½\"); System.out.println(\"5. ì‚­ì œ\"); System.out.println(\"9. ì´ì „\"); } else { System.out.println(menuTitle); } } } ë°°ì—´ë¡œ ì„œë¸Œ ë©”ë‰´ë¥¼ ì €ì¥í•œë‹¤. íšŒì› ë©”ë‰´ ì°½ì—ì„œë„ ì…ë ¥ì„ ë¬´í•œíˆ ë°›ë„ë¡ While ë¬¸ì„ í™œìš©í•œë‹¤. Â  (main ë©”ë‰´ì¼ ë•Œì™€ ë¹„ìŠ·) ë©”ë‰´ ë²ˆí˜¸ 9ë¥¼ ì…ë ¥ ì‹œ ìœ„ì¹˜ê°€ â€œë©”ì¸/íšŒì›â€ì—ì„œ ë‹¤ì‹œ â€œë©”ì¸â€ë¡œ ëŒì•„ê°€ê²Œ ëœë‹¤. static String[] memberMenus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; public static void main(String[] args) { .... if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuTitle.equals(\"íšŒì›\")) { for (int i = 0; i &lt; memberMenus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), memberMenus[i]); } System.out.println(\"9. ì´ì „\"); while (true) { command = prompt(\"ë©”ì¸/íšŒì›\"); if (command.equals(\"menu\")) { System.out.println(\"[íšŒì›]\"); for (int i = 0; i &lt; memberMenus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), memberMenus[i]); } System.out.println(\"9. ì´ì „\"); } else if (command.equals(\"9\")) { break; } else { menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo); printSubMenu()ë¥¼ ì •ì˜í•˜ì—¬ ì„œë¸Œ ë©”ë‰´ë¥¼ ì¶œë ¥í•œë‹¤. â€œíšŒì›â€ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë©”ë‰´ì—ë„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ Methodë¡œ ì¶”ì¶œ } else { if (menuTitle.equals(\"íšŒì›\")) { printSubMenu(menuTitle, memberMenus); while (true) { command = prompt(\"ë©”ì¸/íšŒì›\"); if (command.equals(\"menu\")) { printSubMenu(menuTitle, memberMenus); } else if (command.equals(\"9\")) { break; } else { menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo); ... public static void printSubMenu(String menuTitle, String[] menus) { System.out.printf(\"[%s]\\n\", menuTitle); for (int i = 0; i &lt; menus.length; i++) { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } System.out.println(\"9. ì´ì „\"); } ë©”ë‰´ Titleì´ ë°”ë€Œë©´ promptë„ ìë™ìœ¼ë¡œ ë°”ë€Œë„ë¡ ì„¤ì • while (true) { command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, memberMenus); â€˜íŒ€â€™ ë©”ë‰´ë„ â€˜íšŒì›â€™ ë©”ë‰´ì™€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•œë‹¤. static String[] teamMenus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; ... } else { if (menuTitle.equals(\"íšŒì›\")) { printSubMenu(menuTitle, memberMenus); while (true) { command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, memberMenus); } else if (command.equals(\"9\")) { break; } else { menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { System.out.println(subMenuTitle); } } } } else if (menuTitle.equals(\"íŒ€\")) { printSubMenu(menuTitle, teamMenus); while (true) { command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, teamMenus); } else if (command.equals(\"9\")) { break; } else { menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { System.out.println(subMenuTitle); } } } } else { System.out.println(menuTitle); } ì„œë¸Œ ë©”ë‰´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë¦¬íŒ©í† ë§ í•œë‹¤. ì¤‘ë³µë˜ëŠ” ì½”ë“œ ë°œê²¬ Â  â†’ Â  processMenu() ë©”ì„œë“œë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•œë‹¤. â€˜í”„ë¡œì íŠ¸â€™, â€™ ê²Œì‹œíŒâ€™ ë©”ë‰´ë„ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ static String[] projectMenus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; static String[] boardMenus = {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}; ... String command; while (true) { try { command = prompt(\"ë©”ì¸\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuTitle.equals(\"íšŒì›\")) { processMenu(menuTitle, memberMenus); } else if (menuTitle.equals(\"íŒ€\")) { processMenu(menuTitle, teamMenus); } else if (menuTitle.equals(\"í”„ë¡œì íŠ¸\")) { processMenu(menuTitle, projectMenus); } else if (menuTitle.equals(\"ê²Œì‹œíŒ\")) { processMenu(menuTitle, boardMenus); } else { System.out.println(menuTitle); } } } } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } ... public static void processMenu(String menuTitle, String[] menus) { printSubMenu(menuTitle, menus); while (true) { String command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { int menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { System.out.println(subMenuTitle); } } } } ë°˜ë³µì ì¸ í˜•íƒœë¥¼ ë³´ì¸ë‹¤. Â  â‡’ Â ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì´ì°¨ì› ë°°ì—´ì„ í™œìš©í•œë‹¤. getSubmenuTitle()ë„ ë³€ê²½ static String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, }; command = prompt(\"ë©”ì¸\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= 4) { processMenu(menuTitle, subMenus[menuNo]); } else { System.out.println(menuTitle); } } } .... public static String getSubMenuTitle(int menuNo, String[] menus) { if (isValidateMenu(menuNo)) { return menus[menuNo - 1]; } return null; } isValidateMenu()ì˜ ê²½ìš° ë’¤ì—ì„œ subë©”ë‰´ë„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•  ì˜ˆì •ì´ë‹¤. sub ë©”ë‰´ì—ì„œë„ ìœ íš¨í•˜ì§€ ì•ŠëŠ” ê°’ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. public static void processMenu(String menuTitle, String[] menus) { printSubMenu(menuTitle, menus); while (true) { String command = prompt(\"ë©”ì¸/\" + menuTitle); if (command.equals(\"menu\")) { printSubMenu(menuTitle, menus); } else if (command.equals(\"9\")) { break; } else { try { int menuNo = Integer.parseInt(command); String subMenuTitle = getSubMenuTitle(menuNo, menus); if (subMenuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else { System.out.println(subMenuTitle); } } catch (NumberFormatException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); } } } } ê¸°ëŠ¥ ì™„ë£Œ í›„ ë¦¬íŒ©í† ë§ ìˆ˜í–‰í•œë‹¤. ê¸°ì¡´ì˜ menus ë°°ì—´ì„ mainMenusë¡œ ì´ë¦„ ë³€ê²½ getMenuTitle()ì„ ì„œë¸Œ ë©”ë‰´ë¥¼ ë‹¤ë£° ë•Œë„ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•œë‹¤. getSubmenuTitle() ê³¼ getMenuTitle()ì˜ ì½”ë“œê°€ ë¹„ìŠ·í•˜ë‹¤. Â  â‡’ Â  í•˜ë‚˜ë¡œ í•©ì¹œë‹¤. String command; while (true) { try { command = prompt(\"ë©”ì¸\"); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo, mainMenu); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= 4) { processMenu(menuTitle, subMenus[menuNo]); } else { System.out.println(menuTitle); } } } public static String getMenuTitle(int menuNo, String[] menus) { return isValidateMenu(menuNo, menus) ? menus[menuNo - 1] : null; } isValidateMenu()ë¥¼ ì„œë¸Œ ë©”ë‰´ë¥¼ ë‹¤ë£° ë•Œë„ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í•œë‹¤. public static boolean isValidateMenu(int menuNo, String[] menus) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } ê²°ê³¼ 4. ì•Œì•„ ë‘ê¸° IntelliJì—ì„œ ë³€ìˆ˜ ì´ë¦„ í•œ ë²ˆì— ë°”ê¾¸ê¸° Menus ë°°ì—´ëª…ì„ í´ë¦­ Â  â†’ Â  ì˜¤ë¥¸ìª½ ë§ˆìš°ìŠ¤ Â  â†’ Â  ë¦¬íŒ©í„°ë§ Â  â†’ Â  Rename Â  â†’ Â  ì‚¬ìš©ëœ ëª¨ë“  ê³³ì˜ ì´ë¦„ì´ ë°”ë€ë‹¤. ğŸ”† ë‹¤ì°¨ì› ë°°ì—´ - ê°€ë³€ í¬ê¸° ê°€ë³€ í¬ê¸° í–‰ì˜ ê°œìˆ˜ë§Œ ì§€ì •í•œë‹¤. Â  (ì—´ì˜ ê°œìˆ˜ê°€ ë­ê°€ ë ì§€ ëª¨ë¥¸ë‹¤) int[][] arr = new int[3][]; System.out.println(arr.length); // 3 for (int i = 0; i &lt; arr.length; i++) { System.out.println(arr[i]); } // ê²°ê³¼ null null null ë‹¨ ì´ë•ŒëŠ” ë‚´ë¶€ì˜ ê°’ë“¤ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” null ìƒíƒœì´ë‹¤. int[][]ì€ int ë°°ì—´ì˜ ì£¼ì†Œë¥¼ ë‹´ì„ ë°°ì—´ arr[0] = new int[2]; arr[1] = new int[3]; arr[2] = new int[4]; for (int i = 0; i &lt; arr.length; i++) { System.out.println(arr[i]); } // ê²°ê³¼ [I@4517d9a3 [I@372f7a8d [I@2f92e0f4 ë‚´ë¶€ ë°°ì—´ì„ ì„ ì–¸í•´ì¤˜ì•¼ ë‚´ë¶€ì˜ ê°’ë“¤ì´ 0ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤. ğŸ”† ë‹¤ì°¨ì› ë°°ì—´ - í¬ê¸° ê³ ì • í¬ê¸° ê³ ì • ë¨¼ì € 1ì°¨ì› ë°°ì—´ì„ ë‹´ëŠ” 3ê°œì˜ ë©”ëª¨ë¦¬ê°€ ìƒì„±ëœë‹¤. ê°ê°ì˜ ë©”ëª¨ë¦¬ì— int ê°’ 4ê°œë¥¼ ë‹´ì„ ë©”ëª¨ë¦¬ê°€ ìƒì„±ë˜ê³  ê·¸ ì£¼ì†Œê°’ì´ ë‹´ê¸´ë‹¤. int[][] arr = new int[3][4]; for (int i = 0; i &lt; arr2.length; i++) { for (int j = 0; j &lt; arr2[i].length; j++) { System.out.print(arr2[i][j] + \", \"); } System.out.println(); } 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, int ê°’ì´ ë‹´ê¸°ë¯€ë¡œ ì´ˆê¸°í™” ì‹œ 0ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤. ë¨¼ì € ì‚¬ì´ì¦ˆë¥¼ ê³ ì •í•˜ì—¬ ë§Œë“¤ê³  ë°‘ì—ì„œ ìƒˆë¡œ ë§Œë“¤ë©´ ì‚¬ì´ì¦ˆë¥¼ ê³ ì •í–ˆë˜ ê²ƒë“¤ì€ ë‹¤ ê°€ë¹„ì§€ê°€ ë˜ì–´ë²„ë ¸ë‹¤. int[][] arr2 = new int[3][4]; arr2[0] = new int[] {11, 12}; arr2[1] = new int[] {21, 22, 23}; arr2[2] = new int[] {31, 32, 33, 34}; for (int i = 0; i &lt; arr2.length; i++) { for (int j = 0; j &lt; arr2[i].length; j++) { System.out.print(arr2[i][j] + \", \"); } System.out.println(); } 11, 12, 21, 22, 23, 31, 32, 33, 34, ê³ ì • í¬ê¸°ë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ê°€ë³€ í¬ê¸°ë¡œ ì„ ì–¸í•˜ê³  ì±„ì›Œì£¼ëŠ” ê²ƒê³¼ ê²°ê³¼ì ìœ¼ë¡œ ë™ì¼í•˜ë‹¤. int[][] arr2 = new int[3][4]; = int[][] arr2 = new int[3][]; arr2[0] = new int[4]; arr2[1] = new int[4]; arr2[2] = new int[4]; ê·¸ëŸ¬ë‚˜ ê³ ì • í¬ê¸°ë¥¼ ì„ ì–¸í•˜ê³  ë‹¤ì‹œ ë‚´ë¶€ë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë°”ê¾¸ë©´ ì´ì „ ê²ƒì€ ë‹¤ ê°€ë¹„ì§€ê°€ ë˜ì–´ë²„ë¦°ë‹¤. í”„ë¡œì íŠ¸ë¥¼ í•  ë•ŒëŠ” ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¡œ í—·ê°ˆë¦¬ëŠ” ë¬¸ë²•ì„ ì‚¬ìš©í•´ë³´ê³  í”„ë¡œì íŠ¸ì— ì ìš©í•´ì•¼ í•œë‹¤. ì‹¤ìŠµ package study.lang.variable; public class Test03 { public static void main(String[] args) { int[][] arr = new int[3][]; arr[0] = new int[] {11, 12}; arr[1] = new int[] {21, 22, 23}; arr[2] = new int[] {31, 32, 33, 34}; System.out.println(arr.length); // 3 for (int i = 0; i &lt; arr.length; i++) { for (int j = 0; j &lt; arr[i].length; j++) { System.out.print(arr[i][j] + \", \"); } System.out.println(); } int[][] arr2 = new int[3][4]; arr2[0] = new int[] {11, 12}; arr2[1] = new int[] {21, 22, 23}; arr2[2] = new int[] {31, 32, 33, 34}; System.out.println(arr2.length); // 3 for (int i = 0; i &lt; arr2.length; i++) { for (int j = 0; j &lt; arr2[i].length; j++) { System.out.print(arr2[i][j] + \", \"); } System.out.println(); } } } ğŸ”† String[ ][ ] 2ì°¨ì› ë°°ì—´ ìƒì„± ì‹œ new ì•ˆì— ìƒˆë¡œìš´ newë¥¼ ìš”ì†Œë¡œ ë‘˜ ìˆ˜ ìˆë‹¤. String[][] arr = new String[][] { new String[] {\"aaa\", \"bbb\"}, new String[] {\"ccc\", \"ddd\", \"eee\"}, }; 1. arr : [200ë²ˆì§€] 200-[ ][ ] 2. 400-[\"aaa\"ì˜ ì£¼ì†Œ][\"bbb\"] 500-[\"ccc\"][\"ddd\"][\"eee\"] 3. 200-[ 400 ][ 500 ] new String[], new String[][] ìƒëµ ê°€ëŠ¥ String ë°°ì—´ì¼ ê²½ìš° String[][] subMenus = new String[][] { new String[] {\"ë“±ë¡\", \"ëª©ë¡\"}, new String[] {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\"}, new String[] {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\"}, new String[] {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, }; new String[] ìƒëµ ê°€ëŠ¥ String[][] subMenus = { {\"ë“±ë¡\", \"ëª©ë¡\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\"}, {\"ë“±ë¡\", \"ëª©ë¡\", \"ì¡°íšŒ\", \"ë³€ê²½\", \"ì‚­ì œ\"}, }; ë°”ê¹¥ì˜ new String[] ìƒëµ ê°€ëŠ¥ " }, { "title": "App 06 - 08. Method", "url": "/posts/app-06-08/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "ì˜ˆì™¸ì²˜ë¦¬, next()/nextLine(), Refactoring, Parameter and Argument, extract method", "date": "2024-12-09 10:00:00 +0900", "snippet": "App 06. ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°1. í•™ìŠµëª©í‘œ ëª…ë ¹ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ì¤‘ì— ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. try ~ catch ~ ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ˆì™¸ì²˜ë¦¬ ë¬¸ë²•ì´ í•„ìš”í•œ ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹Œ ë¬¸ìì—´ì„ ì…ë ¥í•  ë•Œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ ì²˜ë¦¬3. ì‘ì—… ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥ ë°›ëŠ” ì½”ë“œë¥¼ try ~ catch ~ ë¬¸ìœ¼ë¡œ ê°...", "content": "App 06. ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°1. í•™ìŠµëª©í‘œ ëª…ë ¹ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ì¤‘ì— ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. try ~ catch ~ ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ˆì™¸ì²˜ë¦¬ ë¬¸ë²•ì´ í•„ìš”í•œ ì´ìœ ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹Œ ë¬¸ìì—´ì„ ì…ë ¥í•  ë•Œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ ì²˜ë¦¬3. ì‘ì—… ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥ ë°›ëŠ” ì½”ë“œë¥¼ try ~ catch ~ ë¬¸ìœ¼ë¡œ ê°ì‹¼ë‹¤. ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ catch ë¸”ë¡ì— ë‘”ë‹¤. int menuNo; while (true) { try { System.out.print(\"&gt;\"); menuNo = sc.nextInt(); // ë¬¸ì ì…ë ¥ ì‹œ ì˜ˆì™¸ ì²˜ë¦¬ if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length) { if (menus[menuNo - 1].equals(\"ì¢…ë£Œ\")) { break; } System.out.println(menus[menuNo - 1] + \"ì…ë‹ˆë‹¤.\"); } else { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } catch (InputMismatchException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); sc.next(); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); sc.close(); ê²°ê³¼ App 07. ë¬¸ìì—´ ë¹„êµì™€ ë°ì´í„° ë³€í™˜ ë‹¤ë£¨ê¸°1. í•™ìŠµëª©í‘œ String.equals( ) ë©”ì„œë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. Integer.parseInt( ) ë©”ì„œë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. Scannerì˜ nextInt( ), next( ), nextLine( )ì„ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ â€˜menuâ€™ ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ë©”ë‰´ ëª©ë¡ì„ ì¶œë ¥3. ì‘ì—… ì‚¬ìš©ì ì…ë ¥ì„ nextLine()ì„ ì‚¬ìš©í•˜ì—¬ ì¤„ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•œë‹¤. â€œmenuâ€ ëª…ë ¹ì„ ì²˜ë¦¬í•œë‹¤. ê·¸ ì™¸ ëª…ë ¹ì€ ì •ìˆ˜ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•œë‹¤. ê¸°ì¡´ì—ëŠ” 1~6ê¹Œì§€ì˜ ì •ìˆ˜ë§Œì„ ìœ íš¨í•˜ë‹¤ê³  ë³´ê³  ë‚˜ë¨¸ì§€ ìˆ˜ë‚˜ ë‹¤ë¥¸ íƒ€ì…ì˜ ì…ë ¥ì€ ì˜ˆì™¸ ë° ì¡°ê±´ ì²˜ë¦¬í–ˆë‹¤. ìš”êµ¬ì‚¬í•­ì¸ â€œmenuâ€ë¥¼ ì…ë ¥ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ë ¤ë©´ nextInt()ê°€ ì•„ë‹Œ nextLine()ì„ ë°›ì•„ì•¼ í•œë‹¤. (ê¸°ì¡´ì˜ ê²°ê³¼ë¥¼ ìµœëŒ€í•œ ì‚´ë¦¬ëŠ” ë°©í–¥ìœ¼ë¡œ ê°€ê¸°) ë³€í˜• ì „ [ë³€í˜• ì „] int menuNo; while (true) { try { System.out.print(\"&gt; \"); menuNo = keyboardScanner.nextInt(); if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length) { if (menus[menuNo - 1] == \"ì¢…ë£Œ\") { break; } System.out.println(menus[menuNo - 1]); } else { System.out.println(\"ìœ íš¨í•œ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } catch (InputMismatchException ex) { System.out.println(\"ìˆ«ìë¡œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.\"); keyboardScanner.next(); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); ë³€í˜• í›„ String command; while (true) { try { System.out.print(\"&gt;\"); command = sc.nextLine(); if (command.equals(\"menu\")) { System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); System.out.println(); for (int i = 0; i &lt; menus.length; i++) { if (i == menus.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, menus[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, menus[i]); } } System.out.println(bold + line + reset); } else { int menuNo = Integer.parseInt(command); // ë¬¸ìì˜ ê²½ìš° ì˜ˆì™¸ë¡œ ì´ë™ if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length) { if (menus[menuNo - 1].equals(\"ì¢…ë£Œ\")) { break; } System.out.println(menus[menuNo - 1] + \"ì…ë‹ˆë‹¤.\"); } else { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } } catch (InputMismatchException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); sc.next(); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); nextInt() ëŒ€ì‹  nextLine() ì‚¬ìš©ì— ë§ì¶° ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë³€ê²½í•œë‹¤. nextLine()ìœ¼ë¡œ ì…ë ¥ì„ ë°›ìœ¼ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë‚  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ Integer.parseInt() ë¶€ë¶„ì´ë‹¤. (â€menuâ€ë¥¼ ì œì™¸í•œ ë‹¤ë¥¸ ë¬¸ìì—´ì„ intë¡œ ë³€í™˜í•  ë•Œ ìƒê¸°ëŠ” ì˜¤ë¥˜) ê¸°ì¡´ì˜ ì˜¤ë¥˜ëŠ” ì •ìˆ˜ê°’ì´ ì•„ë‹Œ ê²½ìš°ì˜ ì˜¤ë¥˜ ì²˜ë¦¬ (InputMismatchException) Â  â‡’ Â  NumberFormatException catch ë¬¸ì—ì„œ sc.next() ì œê±° } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } ê²°ê³¼ ğŸŒ ì•Œì•„ ë‘ê¸° ë¬¸ìì—´ ë¹„êµ ë¬¸ìì—´ì€ â€œ==â€ë¡œ ë¹„êµí•  ìˆ˜ ì—†ë‹¤. equals()ë¡œ ë¹„êµí•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ â€œmenuâ€ë¥¼ ì…ë ¥í•´ë„ catchë¡œ ë„˜ì–´ê°„ë‹¤. if (command == \"menu\") Â  â‡’ Â  **if (command.equals(\"menu\"))** [ì£¼ì˜] Javaì—ì„œëŠ” ë™ì¼ ì—¬ë¶€ë¥¼ ë¹„êµí•  ë•Œ equals()ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. â€œ==â€ìœ¼ë¡œ ë¹„êµí•˜ëŠ” ê²½ìš° ì‹¤ì œ ê°’ì„ ë¹„êµí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³  ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ë¹„êµí•˜ëŠ” ê²ƒì´ë‹¤. â­ì¤‘ìš”â­ nextLine()ê³¼ next() nextInt()ì˜ ê²½ìš° ìˆ«ìë§Œ ì½ì–´ ë“¤ì¸ë‹¤. ì´ë•Œ white space(\\n, ê³µë°±, \\t)ë¥¼ êµ¬ë¶„ìë¡œ í•œë‹¤. ë‹¨ white spaceë¥¼ ì½ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ìˆ«ì ì•ì— white spaceê°€ ìˆëŠ” ê²½ìš° ë¬´ì‹œí•œë‹¤. \\n123 Â  â‡’ Â  123ì„ ì½ì–´ë“¤ì¸ë‹¤. 123\\n456 Â  â‡’ Â  123ì„ ì½ì–´ë“¤ì¸ë‹¤. next()ì˜ ê²½ìš° white space(\\n, ê³µë°±, \\t)ë¥¼ êµ¬ë¶„ìë¡œ í•˜ê³  ë‚˜ë‰œ ì• ë¶€ë¶„ì„ ì½ëŠ”ë‹¤. ë‹¨ white spaceë¥¼ ì½ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ì•ìª½ white spaceëŠ” ë¬´ì‹œí•œë‹¤. hello world\\njava Â  â‡’ Â  ì•ì˜ ê³µë°±ì€ ë¬´ì‹œí•˜ê³  helloë¥¼ ì½ê³  ë°˜í™˜ nextLine()ì˜ ê²½ìš° ì¤„ë°”ê¿ˆ ë¬¸ì(\\n) ê¹Œì§€ì˜ ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ ì½ëŠ”ë‹¤. ì´í›„ ë’¤ì˜ ì¤„ë°”ê¿ˆ ë¬¸ì(\\n) ë¥¼ ì œê±°í•œë‹¤. \\n ê°€ ì•ìª½ì— ìˆë‹¤ë©´ Â  â‡’ Â  â€œâ€ ë¹ˆë¬¸ìì—´ì„ ì½ì–´ë“¤ì´ê³  ì¤„ë°”ê¿ˆ ë¬¸ì(\\n) ë¥¼ ì œê±°í•œë‹¤. hello world\\njava 1ë²ˆì§¸ ì½ê¸° Â  : Â  hello world Â  â‡’ Â  ì¤„ë°”ê¿ˆ ë¬¸ì(\\n) ì œê±° 2ë²ˆì§¸ ì½ê¸° Â  : Â  java ë”°ë¼ì„œ nextLine()ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° Â  â‡’ Â  catch ë¬¸ì—ì„œ next()ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆ ëœë‹¤. nextLine()ì´ ì•„ë‹Œ nextInt()ì¼ ë•ŒëŠ” aaa\\në¥¼ ì…ë ¥ ë°›ìœ¼ë©´ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ê³  ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ì´í›„ next()ê°€ white spaceë¡œ êµ¬ë¶„í•˜ì—¬ aaaë¥¼ ì½ì–´ë“¤ì—¬ì„œ ì—†ì•¤ë‹¤. ê·¸ëŸ¬ë‚˜ nextLine()ì„ ì‚¬ìš©í•˜ë©´ aaa\\në¥¼ ì…ë ¥ ë°›ìœ¼ë©´ aaaë¥¼ ì½ê³  \\nì„ ì œê±°í•œë‹¤. ì´í›„ parseInt()í•  ë•Œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê³  next()ë¥¼ í˜¸ì¶œí•˜ë©´ ì•„ë¬´ê²ƒë„ ì—†ìœ¼ë¯€ë¡œ ì…ë ¥ì„ ê¸°ë‹¤ë¦°ë‹¤. ê·¸ë¦¬ê³  ë°˜ë³µë¬¸ì´ ë„˜ì–´ê°€ì„œ ë‹¤ìŒ ì…ë ¥ì„ ë°›ì„ ë•Œ ì œëŒ€ë¡œ ìˆ«ìë¥¼ ì…ë ¥í•´ë„ nextLine()ì´ ë°›ì§€ ëª»í•˜ê³  next()ê°€ ë¨¼ì € ì½ëŠ”ë‹¤. ë”°ë¼ì„œ ê·¸ ë’¤ë¡œ ì½ëŠ” nextLine()ì€ ë¹ˆë¬¸ìì—´ì„ ì½ì–´ë“¤ì—¬ì„œ ê²°êµ­ ë‹¤ì‹œ ì˜ˆì™¸ë¡œ ì´ë™í•˜ê²Œ ëœë‹¤. ğŸ”† Parameter(ë§¤ê°œë³€ìˆ˜)ì™€ Argument(ì¸ì) ë©”ì„œë“œ ì •ì˜ int parseInt(String s) { xxxxx } s Â  = Â  Parameter Â  : Â  Argumentë¥¼ ë‹´ì„ ë³€ìˆ˜ ë©”ì„œë“œ í˜¸ì¶œ Integer.paseInt(\"100\"); â€100â€ Â  = Â  Argument Â  : Â  parameterì— ì „ë‹¬í•˜ëŠ” ê°’ ì‹¤ë¬´ì—ì„œëŠ” Parameterì™€ Argumentë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  í˜¸ì¹­í•œë‹¤.App 08. ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ëª…ë ¹ë¬¸ ë¬¶ê¸° : ë©”ì„œë“œ ì‚¬ìš©ë²•1. í•™ìŠµëª©í‘œ ìŠ¤íƒœí‹± ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìŠ¤íƒœí‹± í•„ë“œ(ë³€ìˆ˜)ë¥¼ ì •ì˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. import ëª…ë ¹ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì¤‘ë³µ ì½”ë“œë¥¼ ë©”ì„œë“œë¡œ ë¶„ë¦¬ íš¨ê³¼ Â  : Â  ê¸°ëŠ¥ ë³€ê²½ì´ ì‰½ë‹¤. ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ëª…ë ¹ì–´ë¥¼ ë¬¶ì–´ ë©”ì„œë“œë¡œ ë¶„ë¦¬ íš¨ê³¼ Â  : Â  ì½”ë“œì˜ ê¸°ëŠ¥ì„ ì´í•´í•˜ê¸° ì‰½ë‹¤. Â  = Â  ê°€ë…ì„±ì´ ì¢‹ë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ê°•í™” íš¨ê³¼ Â  : Â  ì¬ì‘ì„± ì—†ì´ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Â  = Â  ê°œë°œ ë¹„ìš© ì ˆê°. 3. ì‘ì—… ë©”ë‰´ë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ printMenu() ë©”ì„œë“œë¡œ ë¬¶ì–´ ì‚¬ìš©í•œë‹¤. ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ë©”ì„œë“œë¡œ ë§Œë“¤ì–´ì„œ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ë‹¤. ë©”ë‰´ë¥¼ ì¶œë ¥í•˜ëŠ” ë¶€ë¶„ì€ ë™ì¼í•œ ì½”ë“œê°€ ë°˜ë³µëœë‹¤. ìˆ˜ì • ì‹œ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ë‹¬ë¼ì§€ëŠ” ìœ„í—˜ì´ ìˆë‹¤. ì´ë ‡ê²Œ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ í•˜ë‚˜ì˜ ë©”ì„œë“œë¡œ ë¬¶ì–´ì¤€ë‹¤. ë³€ìˆ˜ì¸ boldAnsi, appTitle ë“±ì€ â€œë©”ë‰´ ì¶œë ¥â€ ê¸°ëŠ¥ì—ë§Œ ì‚¬ìš©ë˜ë¯€ë¡œ ë©”ì„œë“œì— ë„£ì–´ì¤€ë‹¤. ë‹¨, ë©”ë‰´ ë°°ì—´ì˜ ê²½ìš° main()ì—ì„œë„ ì‚¬ìš©í•˜ë¯€ë¡œ static í´ë˜ìŠ¤ ë³€ìˆ˜ë¡œ ë§Œë“ ë‹¤. public class App { static Scanner sc = new Scanner(System.in); static String[] menus = {\"íšŒì›\", \"íŒ€\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; public static void main(String[] args) { printMenu(); // ë©”ì„œë“œë¡œ ì „í™˜ String command; while (true) { try { System.out.print(\"&gt;\"); command = sc.nextLine(); if (command.equals(\"menu\")) { printMenu(); // ë©”ì„œë“œë¡œ ì „í™˜ } else { .... } public static void printMenu() { String bold = \"\\u001B[1m\"; String red = \"\\u001B[31m\"; String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String line = \"--------------------------------------------\"; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); System.out.println(); for (int i = 0; i &lt; menus.length; i++) { if (i == menus.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, menus[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, menus[i]); } } System.out.println(bold + line + reset); } } ì‚¬ìš©ìë¡œë¶€í„° ëª…ë ¹ì„ ì…ë ¥ ë°›ëŠ” ì½”ë“œë¥¼ prompt() ë©”ì„œë“œë¡œ ë¬¶ì–´ ì‚¬ìš©í•œë‹¤. public static void main(String[] args) { printMenu(); String command; while (true) { try { command = prompt(); if (command.equals(\"menu\")) { printMenu(); } else { .... } public static String prompt() { System.out.print(\"&gt;\"); return sc.nextLine(); } ë©”ë‰´ ë²ˆí˜¸ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•˜ëŠ” ì½”ë“œë¥¼ isValidateMenu() ë©”ì„œë“œë¡œ ë¬¶ì–´ ì‚¬ìš©í•œë‹¤. .... String command; while (true) { try { command = prompt(); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); // ë¬¸ìì˜ ê²½ìš° ì˜ˆì™¸ë¡œ ì´ë™ if (isValidateMenu(menuNo)) { if (menus[menuNo - 1].equals(\"ì¢…ë£Œ\")) { break; } System.out.println(menus[menuNo - 1] + \"ì…ë‹ˆë‹¤.\"); } else { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } .... public static boolean isValidateMenu(int menuNo) { return menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length; } ë©”ë‰´ íƒ€ì´í‹€ì„ ì•Œì•„ë‚´ëŠ” ì½”ë“œë¥¼ getMenuTitle() ë©”ì„œë“œë¡œ ë¬¶ì–´ ì‚¬ìš©í•œë‹¤. .... command = prompt(); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); // ë¬¸ìì˜ ê²½ìš° ì˜ˆì™¸ë¡œ ì´ë™ if (isValidateMenu(menuNo)) { if (getMenuTitle(menuNo).equals(\"ì¢…ë£Œ\")) { break; } System.out.println(getMenuTitle(menuNo) + \"ì…ë‹ˆë‹¤.\"); } else { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } .... public static String getMenuTitle(int menuNo) { return menus[menuNo - 1]; } ë©”ë‰´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¡°ê±´ë¬¸(ìœ íš¨í•œ ë²ˆí˜¸, ìœ íš¨í•˜ì§€ ì•Šì€ ë²ˆí˜¸, ì¢…ë£Œ)ì„ ì •ë¦¬í•œë‹¤. public static void main(String[] args) { printMenu(); String command; while (true) { try { command = prompt(); if (command.equals(\"menu\")) { printMenu(); } else { int menuNo = Integer.parseInt(command); String menuTitle = getMenuTitle(menuNo); if (menuTitle == null) { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } else if (menuTitle.equals(\"ì¢…ë£Œ\")) { break; } else { System.out.println(menuTitle); } } } catch (NumberFormatException e) { System.out.println(\"ë©”ë‰´ë¥¼ ìˆ«ìë¡œ ì…ë ¥í•˜ì„¸ìš”.\"); } public static String getMenuTitle(int menuNo) { if (isValidateMenu(menuNo)) { return menus[menuNo - 1]; } return null; } ê²°ê³¼ â‡’ ë³€ê²½ ì—†ìŒ ğŸ”† ë©”ì„œë“œ (Method) ë©”ì„œë“œ Â  - Â  ëª…ë ¹ë¬¸ ë¬¶ìŒ UML (Unified Modeling Language)ë¥¼ ì‚¬ìš©í•´ì„œ ì½”ë“œë¥¼ ê¸€ê³¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ refactoring ê¸°ë²• ì¤‘ extract methodì„ ì‚¬ìš©í•œë‹¤. Class Diagram ì‚¬ì´íŠ¸ Â  : Â  https://app.diagrams.net/ ì½”ë“œ ë¦¬í™í† ë§&lt;/span&gt;ì„ í•˜ë©´ ê°€ë…ì„±ì´ ì¢‹ì•„ì ¸ ì´í•´ê°€ ë¹¨ë¼ì§€ê³  ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§€ë¯€ë¡œ ê°œë°œ ì‹œê°„ì´ ë‹¨ì¶•ëœë‹¤. ê¶ê·¹ì ìœ¼ë¡œ ê°œë°œ ë¹„ìš©ì´ ì ˆê°ëœë‹¤. ë©”ì„œë“œ í˜¸ì¶œ Â  *printMenu*(); ë©”ì„œë“œì— ë¬¶ì¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ â€œë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤â€ë¼ê³  ë¶€ë¥¸ë‹¤. " }, { "title": "ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì¤€ë¹„", "url": "/posts/project-preparation/", "categories": "ê°œì¸ ê³µë¶€, bitcamp ìˆ˜ì—…, ê¸°ì´ˆ", "tags": "Markdown, Hash Code, Package, Refactoring", "date": "2024-12-08 02:00:00 +0900", "snippet": "ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì¤€ë¹„ğŸ”† í”„ë¡œì íŠ¸ ìƒì„± ë° ë¹Œë“œ, ì‹¤í–‰ ì €ì¥ì†Œ(git/bitcamp-mystudy/)ì— í”„ë¡œì íŠ¸ í´ë”(myapp) ìƒì„± Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì´ìš©í•´ í”„ë¡œì íŠ¸ í´ë” êµ¬ì„±í•˜ê¸° &gt;Exception in thread \"main\" java.util.NoSuchElementException at java.base/j...", "content": "ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì¤€ë¹„ğŸ”† í”„ë¡œì íŠ¸ ìƒì„± ë° ë¹Œë“œ, ì‹¤í–‰ ì €ì¥ì†Œ(git/bitcamp-mystudy/)ì— í”„ë¡œì íŠ¸ í´ë”(myapp) ìƒì„± Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì´ìš©í•´ í”„ë¡œì íŠ¸ í´ë” êµ¬ì„±í•˜ê¸° &gt;Exception in thread \"main\" java.util.NoSuchElementException at java.base/java.util.Scanner.throwFor(Scanner.java:945) at java.base/java.util.Scanner.next(Scanner.java:1602) at java.base/java.util.Scanner.nextInt(Scanner.java:2267) at java.base/java.util.Scanner.nextInt(Scanner.java:2221) at bitcamp.myapp.App.main(App.java:39) ê°œâ€¦.ğŸ”† í•´ì‹œì½”ë“œ í•´ì‹œì½”ë“œ Â  = Â  ì‹ë³„ì½”ë“œ Â  (ì£¼ë¯¼ë²ˆí˜¸ì™€ ê°™ì€ ê²ƒ)" }, { "title": "App 01 - 05. Java ê¸°ë³¸ ë¬¸ë²•", "url": "/posts/app-01-05/", "categories": "ê°œì¸ ê³µë¶€, myapp í˜¼ì ë‹¤ì‹œí•´ë³´ê¸°, 1ë‹¨ê³„-Javaê¸°ì´ˆ", "tags": "Gradle, println(), ANSI, Scanner, ë°˜ë³µë¬¸, ì¡°ê±´ë¬¸", "date": "2024-12-08 01:00:00 +0900", "snippet": "App 01. ìë°” í”„ë¡œì íŠ¸ ì¤€ë¹„í•˜ê¸°1. í•™ìŠµ ëª©í‘œ Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë°” í”„ë¡œì íŠ¸ í´ë”ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. Gradle ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼(build.gradle)ì—ì„œ ì‹¤í–‰í•  í´ë˜ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì½˜ì†”ë¡œ ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤. IntelliJ IDEì—ì„œ ...", "content": "App 01. ìë°” í”„ë¡œì íŠ¸ ì¤€ë¹„í•˜ê¸°1. í•™ìŠµ ëª©í‘œ Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë°” í”„ë¡œì íŠ¸ í´ë”ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. Gradle ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼(build.gradle)ì—ì„œ ì‹¤í–‰í•  í´ë˜ìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. Gradle ë¹Œë“œ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì½˜ì†”ë¡œ ê°’ì„ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤. IntelliJ IDEì—ì„œ Gradle í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ myapp í´ë”ë¥¼ ë§Œë“¤ê³  ìë°” í”„ë¡œì íŠ¸ í´ë”ë¡œ êµ¬ì„± IntelliJ IDEë¡œ í”„ë¡œì íŠ¸ ê°€ì ¸ì˜¨ í›„ ì‹¤í–‰3. ì‘ì—… Git Repo ìƒì„± Â  (bitcamp-myapp2) ëª…ë ¹ í”„ë¡¬í”„íŠ¸ Â  (~/git/bitcamp-myapp2) river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-myapp2 (main) $ gradle init Starting a Gradle Daemon, 2 incompatible and 1 stopped Daemons could not be reused, use --status for details Found existing files in the project directory: 'C:\\Users\\river\\git\\bitcamp-myapp2'. Directory will be modified and existing files may be overwritten. Continue? (default: no) [yes, no] yes Select type of build to generate: 1: Application 2: Library 3: Gradle plugin 4: Basic (build structure only) Enter selection (default: Application) [1..4] 1 Select implementation language: 1: Java 2: Kotlin 3: Groovy 4: Scala 5: C++ 6: Swift Enter selection (default: Java) [1..6] 1 Enter target Java version (min: 7, default: 21): Project name (default: bitcamp-myapp2): Select application structure: 1: Single application project 2: Application and library project Enter selection (default: Single application project) [1..2] 1 Select build script DSL: 1: Kotlin 2: Groovy Enter selection (default: Kotlin) [1..2] 2 Select test framework: 1: JUnit 4 2: TestNG 3: Spock 4: JUnit Jupiter Enter selection (default: JUnit Jupiter) [1..4] Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no] &gt; Task :init Learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.10.2/samples/sample_building_java_applications.html BUILD SUCCESSFUL in 1m 46s 1 actionable task: 1 executed Build ì™„ë£Œ í…ŒìŠ¤íŠ¸ river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-myapp2 (main) $ gradle run &gt; Task :app:run Hello World! BUILD SUCCESSFUL in 1s 2 actionable tasks: 2 executed build.gradle ìˆ˜ì • IntelliJì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ë¨¼ì € ìˆ˜ì •í•œ í›„ Â  (ê¸°ì¡´ : org.example.App Â  â‡’ Â  bitcamp.myapp.App) application { // Define the main class for the application. mainClass = 'bitcamp.myapp.App' } IntelliJì—ì„œ gradle run ì‹¤í–‰ &gt; Task :app:run Hello World! BUILD SUCCESSFUL in 178ms 3 actionable tasks: 1 executed, 2 up-to-date ì˜¤í›„ 12:48:27: ì‹¤í–‰ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤ 'run'. App 02. ë©”ë‰´ ë§Œë“¤ê¸°1. í•™ìŠµëª©í‘œ ë¬¸ìì—´ ë° ìˆ«ì ë“±ì„ ë¦¬í„°ëŸ´ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ì¶œë ¥ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ì½˜ì†”ë¡œ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì œëª©ê³¼ ê¸°ë³¸ ë©”ë‰´ ì¶œë ¥3. ì‘ì—… ì œëª©ì„ ì €ì¥í•  ë³€ìˆ˜ ì„ ì–¸ ë° ì´ˆê¸°í™” êµ¬ë¶„ì„ ì„ ì €ì¥í•  ë³€ìˆ˜ ì„ ì–¸ ë° ì´ˆê¸°í™” ë©”ë‰´ë¥¼ ì €ì¥í•  ë³€ìˆ˜ ì„ ì–¸ ë° ì´ˆê¸°í™” ì œëª©, êµ¬ë¶„ì„ , ë©”ë‰´ë¥¼ ì¶œë ¥í•  ë¬¸ì¥ ì‘ì„± package bitcamp.myapp; public class App { public static void main(String[] args) { String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String menu1 = \"1. íšŒì›\"; String menu2 = \"2. íŒ€\"; String menu3 = \"3. í”„ë¡œì íŠ¸\"; String menu4 = \"4. ê²Œì‹œíŒ\"; String menu5 = \"5. ë„ì›€ë§\"; String menu6 = \"6. ì¢…ë£Œ\"; String line = \"--------------------------------------------\"; System.out.println(line); System.out.println(appTitle); System.out.println(); System.out.println(menu1); System.out.println(menu2); System.out.println(menu3); System.out.println(menu4); System.out.println(menu5); System.out.println(menu6); System.out.println(line); } } ğŸ”† Java í´ë˜ìŠ¤ëª… ê´€ë¡€ í´ë˜ìŠ¤ ì´ë¦„ì€ ì¹´ë©œ í‘œê¸°ë²• ì‚¬ìš©í•˜ëŠ” ê²ƒì´ International Rule (í´ë˜ìŠ¤ëª…ì´ ì—¬ëŸ¬ ë‹¨ì–´ì¸ ê²½ìš° ë‹¨ì–´ ì‚¬ì´ì˜ â€˜_â€™ëŠ” ê´€ë¡€ìƒ ì‚¬ìš© ì•ˆí•¨) ì²«ë‹¨ì–´ëŠ” ì†Œë¬¸ìë¡œ ì‹œì‘, ë‹¤ìŒ ë‹¨ì–´ëŠ” ëŒ€ë¬¸ìë¡œ ì‹œì‘ ë³€ìˆ˜ëª… ì•ì— ìˆ«ìë¡œ ì‹œì‘ ë¶ˆê°€ëŠ¥ App 03. ANSI ì´ìŠ¤ì¼€ì´í”„ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥ ë¬¸ìì—´ ê¾¸ë¯¸ê¸°1ï¸. í•™ìŠµëª©í‘œ ANSI ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤. Gradle ë¹Œë“œ ë„êµ¬ì˜ ì˜µì…˜ì„ ì´ìš©í•˜ì—¬ ì½˜ì†” ì¶œë ¥ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. ì½”ë“œ ì •ë¦¬ ê¸°ë²• ì¤‘ â€˜ì„¤ëª…í•˜ëŠ” ë³€ìˆ˜â€™ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì• í”Œë¦¬ì¼€ì´ì…˜ ì œëª©ì„ ë³¼ë“œì²´ë¡œ ì¶œë ¥ ìœ„, ì•„ë˜ êµ¬ë¶„ì„ ì„ ë³¼ë“œì²´ë¡œ ì¶œë ¥ â€˜6. ì¢…ë£Œâ€™ ë©”ë‰´ë¥¼ ë¹¨ê°•ìƒ‰ + ë³¼ë“œì²´ë¡œ ì¶œë ¥ Gradle ë””ë²„ê¹… ì¶œë ¥ì€ ì œê±°3. ì‘ì—… êµ¬ë¶„ì„ , ì œëª©, ì¢…ë£Œ ë©”ë‰´ì— ANSI ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìë¥¼ ì ìš© ì½”ë“œ ì •ë¦¬ ê¸°ë²• â€˜ì„¤ëª…í•˜ëŠ” ë³€ìˆ˜â€™ë¥¼ ì ìš©í•˜ì—¬ ANSI ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìë¥¼ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥ ì œì–´ public class App { public static void main(String[] args) { String bold = \"\\u001B[1m\"; // ë¦¬í™í† ë§ : ë³€ìˆ˜ì— ë‹´ì•„ë‘ê¸° String red = \"\\u001B[31m\"; // ì¢€ ë” ì½ê¸° ì‰½ê²Œ ë³€í•¨ String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String menu1 = \"1. íšŒì›\"; String menu2 = \"2. íŒ€\"; String menu3 = \"3. í”„ë¡œì íŠ¸\"; String menu4 = \"4. ê²Œì‹œíŒ\"; String menu5 = \"5. ë„ì›€ë§\"; String menu6 = \"6. ì¢…ë£Œ\"; String line = \"--------------------------------------------\"; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); System.out.println(); System.out.println(menu1); System.out.println(menu2); System.out.println(menu3); System.out.println(menu4); System.out.println(menu5); System.out.println(bold + red + menu6 + reset); System.out.println(bold + line + reset); } } Gradle ì½˜ì†” ì¶œë ¥ ì œì–´ Â  : Â  ì‹¤í–‰ Â  / Â  êµ¬ì„±í¸ì§‘ Â  / Â  ì‹¤í–‰ ì˜µì…˜ ì¶”ê°€(--quiet) ì½˜ì†” ì œì–´ë¥¼ í•˜ì—¬ run --quietë¡œ ì‹¤í–‰í•¨. (gradle ì½˜ì†” ì¶œë ¥ ì œì–´ ì„¤ëª…) ğŸ”† ë¦¬í™í† ë§ Â  - Â  ì„¤ëª…í•˜ëŠ” ë³€ìˆ˜ ë¦¬í™í† ë§ ì„¤ëª… ì•„ë˜ì˜ ì½”ë“œëŠ” ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ìš”êµ¬ ì‚¬í•­ ë§Œì¡±ì´ í™•ì¸ë˜ë©´ System.out.println(\"\\u001B[31mì•ˆë…•í•˜ì„¸ìš”\\u001B[0m\"); ì•„ë˜ ì²˜ëŸ¼ ë¦¬í™í† ë§(ä¸­ â€™ì„¤ëª…í•˜ëŠ” ë³€ìˆ˜â€™)ì„ í•˜ì—¬ ì½”ë“œë¥¼ ì •ë¦¬í•œë‹¤. String red = \"\\u001B[31m\"; // ë¹¨ê°• String bold = \"\\u001B[1m\"; // ë³¼ë“œì²´ String reset = \"\\u001B[0m\"; // ë¦¬ì…‹ System.out.println(red + bold + (i+1) + \". \" + menu[i] + reset); ë³€ìˆ˜ ì„ ì–¸ ê·¸ ìì²´ë¡œ ì„¤ëª…ì´ ëœë‹¤. App 04. í‘œì¤€ ì…ë ¥ ìŠ¤íŠ¸ë¦¼(í‚¤ë³´ë“œ ì…ë ¥) í™œìš©1. í•™ìŠµëª©í‘œ í‚¤ë³´ë“œ ì…ë ¥ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰ì„ ë¶„ê¸°í•  ìˆ˜ ìˆë‹¤. ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ëª…ë ¹ë¬¸ì„ ë°˜ë³µí•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. Gradleë¡œ run íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•  ë•Œ í‚¤ë³´ë“œë¥¼ í‘œì¤€ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ì‚¬ìš©ìë¡œë¶€í„° ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥ ë°›ê¸° ë©”ë‰´ ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” ë©”ë‰´ ì´ë¦„ì„ ì¶œë ¥ ì¢…ë£Œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ì‹¤í–‰ì„ ì¢…ë£Œ3. ì‘ì—… í”„ë¡¬í”„íŠ¸ë¥¼ í†µí•´ ì…ë ¥ ë°›ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„ java.util.Scanner, System.in ì‚¬ìš© Â  Â  (import java.util.Scanner) import java.util.Scanner; public class App { public static void main(String[] args) { Scanner sc = new Scanner(System.in); ë°˜ë³µë¬¸(do ~ while ë¬¸)ì„ ì´ìš©í•˜ì—¬ ë©”ë‰´ ì…ë ¥ì„ ë°˜ë³µí•´ì„œ ì²˜ë¦¬ String bold = \"\\u001B[1m\"; // ë¦¬í™í† ë§ : ë³€ìˆ˜ì— ë‹´ì•„ë‘ê¸° String red = \"\\u001B[31m\"; // ì¢€ ë” ì½ê¸° ì‰½ê²Œ ë³€í•¨ String reset = \"\\u001B[0m\"; String appTitle = \"[íŒ€ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ]\"; String line = \"--------------------------------------------\"; String[] menu = {\"íšŒì›\", \"íŒ€\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; System.out.println(bold + line + reset); System.out.println(bold + appTitle + reset); System.out.println(); for (int i = 0; i &lt; menu.length; i++) { if (i == menu.length - 1) { System.out.printf(\"%s%s%d. %s%s\\n\", bold, red, i + 1, menu[i], reset); } else { System.out.printf(\"%d. %s\\n\", i + 1, menu[i]); } } ë©”ë‰´ ë²ˆí˜¸ì— ë”°ë¼ ì¶œë ¥ ë¬¸êµ¬ë¥¼ ë³€ê²½í•˜ëŠ” ì¡°ê±´(switch ë¬¸)ì„ ì²˜ë¦¬ int menuNo; do { System.out.print(\"&gt;\"); menuNo = sc.nextInt(); switch (menuNo) { case 1: System.out.println(menu[0] + \"ì…ë‹ˆë‹¤.\"); break; case 2 : System.out.println(menu[1] + \"ì…ë‹ˆë‹¤.\"); break; case 3 : System.out.println(menu[2] + \"ì…ë‹ˆë‹¤.\"); break; case 4 : System.out.println(menu[3] + \"ì…ë‹ˆë‹¤.\"); break; case 5 : System.out.println(menu[4] + \"ì…ë‹ˆë‹¤.\"); break; case 6 : System.out.println(menu[5] + \"ì…ë‹ˆë‹¤.\"); break; default: System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } while (menuNo != menu.length); System.out.println(bold + line + reset); â›”[ì˜¤ë¥˜ ë°œìƒ]â›” Â  - Â  java.util.NoSuchElementException Scanner ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ì„ ë°›ì„ ë•Œ ì˜¤ë¥˜ ë°œìƒ &gt;Exception in thread \"main\" java.util.NoSuchElementException at java.base/java.util.Scanner.throwFor(Scanner.java:945) at java.base/java.util.Scanner.next(Scanner.java:1602) at java.base/java.util.Scanner.nextInt(Scanner.java:2267) at java.base/java.util.Scanner.nextInt(Scanner.java:2221) at bitcamp.myapp.App.main(App.java:39) í‘œì¤€ ì…ë ¥ ìŠ¤íŠ¸ë¦¼(System.in)ì„ í™œì„±í•´ì•¼ í•œë‹¤. build.gradle ìˆ˜ì •í•˜ê¸° run { standardInput = System.in } ê¸°ë³¸ ê°’ì€ empty streamì´ë‹¤. ê²°ê³¼ ğŸ”† import ë¬¸ ì½”ë“œì— ì§ì ‘ ë„£ëŠ” ë°©ë²• 1 java.io.InputStream keyboard = System.in; java.util.Scanner keyboardScanner = new java.util.Scanner(keyboard); ì½”ë“œì— ì§ì ‘ ë„£ëŠ” ë°©ë²• 2 java.util.Scanner keyboardScanner = new java.util.Scanner(System.in); System.inì€ Scannerì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ìë™ìœ¼ë¡œ ì¸ì‹ëœë‹¤. import ë¬¸ì„ ì‚¬ìš©í•œ ê°„ê²°í•œ ë°©ë²• import java.util.Scanner; Scanner sc = new Scanner(System.in); Java êµì¬ - [ex99] 200ë²ˆëŒ€ = ì…ë ¥ ì²˜ë¦¬ ê´€ë ¨ğŸ”† í‘œì¤€ ì…ë ¥ì„ í‚¤ë³´ë“œ ì…ë ¥ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²• gradleë¡œ ì‹¤í–‰í•  ë•Œ gradleì—ì„œëŠ” ì…ì¶œë ¥ì´ ì—†ë‹¤. ê·¸ë˜ì„œ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤. build.gradleì˜ run ë¶€ë¶„ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤. run { standardInput = System.in // ê¸°ë³¸ ê°’ì€ empty stream ì´ë‹¤. } ğŸ”† Gradleì˜ standardInput (í‘œì¤€ ì…ë ¥) gradle.org ì‚¬ì´íŠ¸(http://gradle.org)ì— ê°€ì„œ ì„¤ì • ë§¤ë‰´ì–¼ ë³´ê¸° docs ë©”ë‰´ Â  â†’ Â  user guide Â  â†’ Â  reference Â  â†’ Â  core plugins â†’ Â  packaing and distribution í•­ëª©ì˜ application í´ë¦­ â†’ Â  Tasksì˜ run Â  â†’ Â  JavaExecì˜ í´ë¦­ Â  â†’ Â  Propertiesì˜ standardInput í•­ëª© ë³´ê¸° standardInput Â  : The standard input stream for the process executing the command. The stream is closed after the process completes. Defaults to an empty stream. (í‘œì¤€ ì…ë ¥ì´ ì„¤ì •ì´ ì•ˆ ë˜ì–´ìˆëŠ” ê²ƒì´ ë””í´íŠ¸ ê°’ì´ë‹¤.) ğŸ”† Scannerì˜ close( ) ScannerëŠ” ì‚¬ìš©ì„ ë‹¤ í•œ ê²½ìš° close() í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ìš°ë¦¬ëŠ” í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê³  ì¢…ë£Œí•˜ì§€ë§Œ, ì„œë²„ì—ì„œëŠ” ê³„ì†í•´ì„œ ì‹¤í–‰í•˜ë¯€ë¡œ ìì›ì„ ë‚­ë¹„í•˜ê²Œ ë˜ì–´ ìì› ë¶€ì¡±ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì„ ì™„ë£Œí•œ ìì›ì€ ë°˜í™˜í•´ì•¼ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤(í”„ë¡œê·¸ë¨)ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.ë‹¨, JVMì„ ì¢…ë£Œí•˜ë©´ JVMì´ ì‚¬ìš©í•œ ëª¨ë“  ìì›ì€ ê°•ì œ íšŒìˆ˜ëœë‹¤. Â  (OSê°€ ê°•ì œ íšŒìˆ˜)App 05. ë°°ì—´ì„ í™œìš©í•˜ì—¬ ë©”ë‰´ ëª©ë¡ ë‹¤ë£¨ê¸°1. í•™ìŠµëª©í‘œ ë°°ì—´ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. for ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ì—¬ ë°°ì—´ì„ ë‹¤ë£° ìˆ˜ ìˆë‹¤. while ë°˜ë³µë¬¸ê³¼ breakë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤. printf()ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ìì—´ì˜ ì¶œë ¥ í¬ë§·ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.2. ìš”êµ¬ì‚¬í•­ ë©”ë‰´ë¥¼ ë°°ì—´ì— ì €ì¥í•˜ì—¬ ì¶œë ¥3. ì‘ì—… ë©”ë‰´ë¥¼ ê°œë³„ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ëŒ€ì‹ ì— String[ ] ë°°ì—´ì— ì €ì¥í•œë‹¤. for ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ì—¬ ë©”ë‰´ë¥¼ ì¶œë ¥í•œë‹¤. ë©”ë‰´ë¥¼ ì²˜ë¦¬í•  ë•Œ switch ~ case ë¬¸ ëŒ€ì‹ ì— if ~ else ì¡°ê±´ë¬¸ì„ ì´ìš©í•œë‹¤. ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©ì ì…ë ¥ì„ ì²˜ë¦¬í•  ë•Œ do ~ while ëŒ€ì‹ ì— while ê³¼ breakë¥¼ ì´ìš©í•œë‹¤. ìˆ˜ì • ì „ int menuNo; do { System.out.print(\"&gt; \"); menuNo = sc.nextInt(); if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length) { if (menus[menuNo - 1] != \"ì¢…ë£Œ\") { System.out.println(menus[menuNo - 1]); } } else { System.out.println(\"ë©”ë‰´ ë²ˆí˜¸ê°€ ì˜³ì§€ ì•ŠìŠµë‹ˆë‹¤.\"); } } while (menus[menuNo - 1] != \"ì¢…ë£Œ\"); System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); do ~ whileì„ ì¼ì„ ë•Œ ë°°ì—´ì„ ë²”ìœ„ë¥¼ ë„˜ì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•¨ menuNoë¥¼ ë°°ì—´ì˜ í¬ê¸° ì´ìƒì˜ ê°’ìœ¼ë¡œ ì…ë ¥ ì‹œ ì—ëŸ¬ ë°œìƒ while (menus[menuNo - 1] != \"ì¢…ë£Œ\"); // ì˜¤ë¥˜ ë°œìƒ ë¶€ë¶„ ë§Œì•½ í‚¤ë³´ë“œ ì…ë ¥ì´ 9ì¸ ê²½ìš°, menus[9 - 1 = 8]ì„ ì°¸ì¡°í•´ì•¼ í•˜ëŠ”ë° ë°°ì—´ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œë‹¤. ìˆ˜ì • í›„ int menuNo; while (true) { System.out.print(\"&gt;\"); menuNo = sc.nextInt(); if (menuNo &gt;= 1 &amp;&amp; menuNo &lt;= menus.length) { if (menus[menuNo - 1] == \"ì¢…ë£Œ\") { break; } System.out.println(menus[menuNo - 1] + \"ì…ë‹ˆë‹¤.\"); } else { System.out.println(\"ì˜¬ë°”ë¥¸ ë©”ë‰´ ë²ˆí˜¸ê°€ ì•„ë‹™ë‹ˆë‹¤.\"); } } System.out.println(\"ì¢…ë£Œí•©ë‹ˆë‹¤.\"); ê²°ê³¼ ğŸŒ ì•Œì•„ ë‘ê¸° ë°°ì—´ ì´ˆê¸°í™” ë°°ì—´ì„ ì´ˆê¸°í™” í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ ì”© ë„£ì„ ìˆ˜ ìˆì§€ë§Œ í•œ ë²ˆì— ë„£ì„ ìˆ˜ ìˆë‹¤. String[] menus = new String[6]; menus[0] = \"íšŒì›\"; ... menus[5] = \"ì¢…ë£Œ\"; String[] menus = {\"íšŒì›\", \"íŒ€\", \"í”„ë¡œì íŠ¸\", \"ê²Œì‹œíŒ\", \"ë„ì›€ë§\", \"ì¢…ë£Œ\"}; If ì¡°ê±´ ë³€ê²½ ifë¬¸ì˜ ì¡°ê±´ì„ menus[i] == â€œì¢…ë£Œâ€ë¡œ ë°”ê¾¼ë‹¤. â‡’ Â  ì¸ë±ìŠ¤ë¡œ ì œì–´í•˜ëŠ” ê²ƒë³´ë‹¤ ë©”ë‰´ë¥¼ ì¶”ê°€í•  ë•Œ ìë™ìœ¼ë¡œ ì¢…ë£Œ ë©”ë‰´ë§Œì„ ì„ íƒ ê°€ëŠ¥ for (int i = 0; i &lt; menu.length; i++) { if (i == 5) { System.out.println(redAnsi + boldAnsi + (i + 1) + \". \" + menu[i] + resetAnsi); } else { System.out.println((i + 1) + \". \" + menu[i]); } } for (int i = 0; i &lt; menus.length; i++) { if (menus[i] == \"ì¢…ë£Œ\") { System.out.printf(\"%s%d. %s%s\\n\", (redAnsi + boldAnsi), (i + 1), menus[i], resetAnsi); } else { System.out.printf(\"%d. %s\\n\", (i + 1), menus[i]); } } " }, { "title": "SpringBoot ê³„ì¸µ êµ¬ì¡°", "url": "/posts/oop-layeredarchitecture/", "categories": "ì½”ë”© ì§€ì‹, OOP, Layer", "tags": "Layer, Controller, Service, DAO, DataBasea", "date": "2024-12-05 11:00:00 +0900", "snippet": "ê³„ì¸µ êµ¬ì¡°ê³„ì¸µ êµ¬ì¡°(Layered Architecture)ë€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ì„œ API ì„œë²„ë¥¼ ë§Œë“¤ ë•Œ â‡’ Â  í•´ë‹¹ í”„ë ˆì„ì›Œí¬ êµ¬ì¡°ë¥¼ ì§€í‚¤ë©° ë§Œë“¤ì–´ì•¼ í•œë‹¤. Â  (í˜‘ì—…ì˜ ë¬¸ì œ) ê³„ì¸µ êµ¬ì¡°ì˜ í•µì‹¬ Â  : Â  â€œê´€ì‹¬ì‚¬ ë¶„ë¦¬â€ â‡’ Â  ì¦‰, â€œë‚´ê°€ ë‹´ë‹¹í•˜ëŠ” ì—…ë¬´ë§Œ ì‹ ê²½ ì“°ê³  ë‹¤ë¥¸ ë¶€ë¶„ì€ ë‹¤ë¥¸ ê³„ì¸µ...", "content": "ê³„ì¸µ êµ¬ì¡°ê³„ì¸µ êµ¬ì¡°(Layered Architecture)ë€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ì„œ API ì„œë²„ë¥¼ ë§Œë“¤ ë•Œ â‡’ Â  í•´ë‹¹ í”„ë ˆì„ì›Œí¬ êµ¬ì¡°ë¥¼ ì§€í‚¤ë©° ë§Œë“¤ì–´ì•¼ í•œë‹¤. Â  (í˜‘ì—…ì˜ ë¬¸ì œ) ê³„ì¸µ êµ¬ì¡°ì˜ í•µì‹¬ Â  : Â  â€œê´€ì‹¬ì‚¬ ë¶„ë¦¬â€ â‡’ Â  ì¦‰, â€œë‚´ê°€ ë‹´ë‹¹í•˜ëŠ” ì—…ë¬´ë§Œ ì‹ ê²½ ì“°ê³  ë‹¤ë¥¸ ë¶€ë¶„ì€ ë‹¤ë¥¸ ê³„ì¸µì´ ë‹´ë‹¹í•œë‹¤â€ SpringBoot + Mybatisì˜ ê³„ì¸µ êµ¬ì¡° Â  Â  (MVC + Service + DAO ì•„í‚¤í…ì²˜) Controller Layer Â  (Controller) Service Layer Â  (Service) Persistence Layer Â  (DAO) Model Â  (VO) Database Layer Â  (ex. MySQL) ëŒ€í‘œì ì¸ ê³„ì¸µ êµ¬ì¡°ì˜ ì˜ˆì‹œë¡œ â­ MVC + Service + DAO ì•„í‚¤í…ì²˜ â­ë¼ í•œë‹¤. â­ë‚˜ì˜ ì½”ë“œ â­ ìœ„ì˜ ê·¸ë¦¼ì€ ë‚´ê°€ êµ¬ìƒí•œ ë²¡ì—”ë“œì—ì„œ Layer êµ¬ì¡°ì´ë‹¤. DTOì™€ VOë¥¼ í˜¼ìš©í•˜ì˜€ë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•˜ë‹¤ê³  íŒë‹¨í–ˆê³ , DB í…Œì´ë¸”ì„ VOë¡œ ë°˜í™˜í•˜ê³  ì´ë¥¼ ì„œë¹„ìŠ¤ë‹¨ì—ì„œ DTOë¡œ ì „í™˜ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ì˜€ë‹¤. í˜„ì¬ VOëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—†ëŠ” ê·¸ëƒ¥ ë°ì´í„° ì „ë‹¬ ìš©ë„ë¡œë§Œ ì‚¬ìš©ë˜ê³  ìˆë‹¤. ë”°ë¼ì„œ, ê±°ì˜ DTOì™€ ìœ ì‚¬í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆìœ¼ë¯€ë¡œ VO ì—†ì´ DTOë§Œ ì‚¬ìš©í•˜ë„ë¡ ë°”ê¿€ ì˜ˆì •ì´ë‹¤. â­í˜„ì—… â­ ì´ë ‡ê²Œ VOë¥¼ ë‹¨ìˆœí•œ ë°ì´í„° ì „ë‹¬ ìš©ë„ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° DTOë¡œ ì“°ì´ê³  ìˆë‹¤ê³  ë³¼ ìˆ˜ë„ ìˆë‹¤. ì›ë˜ëŠ” êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì´ìƒì ì´ì§€ë§Œ, ëŒ€ë¶€ë¶„ ê·¸ëƒ¥ ì‚¬ìš©í•œë‹¤. ë§ì€ í˜„ì—…ì—ì„œëŠ” VOì™€ DTOë¥¼ í˜¼ìš©í•˜ì§€ ì•Šê³  DTOë§Œ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œë‹¤. ê° ê³„ì¸µì˜ ì—­í•  Controller Layer Â  Â  (Web Layer, Presentation Layer) í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ì²˜ë¦¬ Â  (HTTP ìš”ì²­ ì²˜ë¦¬) ì¸ì¦ ë¡œì§ ì²˜ë¦¬ ValidationÂ ë¼ì´ë¸ŒëŸ¬ë¦¬ Service Layer Â  Â  (Business Layer) @Service ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ Presentation Layerì—ì„œ ì „ë‹¬ ë°›ì€ ë°ì´í„°ë¥¼ ìœ íš¨ì„± ê²€ì‚¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì´ê³³ì—ì„œ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ DDD ë°©ì‹ì¼ ìˆ˜ ìˆë‹¤. íŠ¸ëœì­ì…˜ ì ìš© ì˜ì—­ (@Transactional) Controllerì™€ Daoì˜ ì¤‘ê°„ ì˜ì—­ Persistence Layer Â  Â  (ì§€ì†ì„± ê³„ì¸µ) DAO (Mybatis) Â  / Â  Repository (JPA) Mybatis SQL ê¸°ë°˜ ORM í”„ë ˆì„ì›Œí¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ê²°ì€ JDBC ë“œë¼ì´ë²„ë¥¼ í†µí•´ ì´ë£¨ì–´ì§€ë©°, ì‚¬ìš©í•˜ëŠ” DBMSì— ë”°ë¼ Mapper íŒŒì¼ì˜ SQL ë¬¸ë²•ë§Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. DAO (@Mapper) MyBatis Mapper íŒŒì¼ (.xml) Databaseì™€ ê°™ì´ ë°ì´í„° ì €ì¥ì†Œì— ì ‘ê·¼í•˜ëŠ” ì˜ì—­ Â  (= Dao(Data Access Object) ì˜ì—­) ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ë…¼ë¦¬ ëª¨ë¸ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ìƒì„±ëœ ê°œì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ ê°œì²´ë¡œ ë³€í™˜ ë°ì´í„° ì €ì¥, ì¡°íšŒ, ê°±ì‹ , ì‚­ì œ Domain Layer ë„ë©”ì¸ ê°ì²´ Â  : Â  VO, Entity Domain Layerì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°€ì§„ Domain ê°ì²´ê°€ ì¡´ì¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê°œë… SpringBoot + Mybatisì˜ ê²½ìš° VOëŠ” ë‹¨ìˆœíˆ ë°ì´í„° ì „ë‹¬ ê°ì²´ë¡œ ì“°ì´ë¯€ë¡œ Domain LayerëŠ” ì—†ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° VOëŠ” Modelì´ë¼ ë§ì´ í•œë‹¤. MVC íŒ¨í„´ì—ì„œëŠ” Domain ê°ì²´ë¼ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  Model ì´ë¼ëŠ” ìš©ì–´ë¡œ ë‹¤ë£¬ë‹¤. MVCì—ì„œì˜ Modelì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨í•  ìˆ˜ë„ ìˆê³ , ë‹¨ìˆœí•œ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ê°ì²´ì¼ ìˆ˜ë„ ìˆë‹¤ Domain ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ Modelì´ ê³§ Domain ê°ì²´ê°€ ëœë‹¤. ë‹¨, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ ê³„ì¸µì—ë§Œ ìˆê³  Modelì´ ë‹¨ìˆœ ë°ì´í„° êµ¬ì¡°ë¡œë§Œ ì‚¬ìš©ëœë‹¤ë©´ Modelì€ ë” ì´ìƒ Domain ê°ì²´ê°€ ì•„ë‹ˆê²Œ ë©ë‹ˆë‹¤. Database Layer ì‹¤ì œ DBMS(ex. MySQL ì„œë²„)ì™€ ë¬¼ë¦¬ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ ìˆëŠ” ì™¸ë¶€ í™˜ê²½ DTO (Data Transfer Object) íŠ¹ì • ê³„ì¸µì— ì†Œì†ë˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„° êµí™˜ì„ ìœ„í•œ ê°ì²´ Â  (ê³„ì¸µ ê°„ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ë•Œ ì‚¬ìš©) (ê·¸ ì™¸) Â  DDD ë°©ì‹ Domain-Driven Design ë°©ì‹ Domain ê°ì²´ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¤‘ì‹¬ì´ ë˜ì–´ì•¼ í•œë‹¤ëŠ” ë°©ì‹ ì„œë¹„ìŠ¤ ê³„ì¸µ(Service Layer)ì€ ë‹¨ìˆœíˆ ë„ë©”ì¸ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  íŠ¸ëœì­ì…˜ì„ ê´€ë¦¬í•˜ëŠ” ì—­í•  Service Layerì—ì„œ Persistence Layerë¥¼ í˜¸ì¶œí•˜ì—¬ DBì˜ ë°ì´í„°ë¥¼ Domain ê°ì²´ë¡œ ë°›ì•„ì˜¤ê³  ì´ Domain ê°ì²´ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ê¹Œì§€ í•˜ëŠ” ë°©ë²• ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„ë©”ì¸ì— ë„£ëŠ” ì´ìœ  ê¸°ì¡´ì— Serviceë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ë˜ ë°©ì‹ì€Â íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ë¼ê³  í•œë‹¤. ëª¨ë“  ë¡œì§ì´ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì²˜ë¦¬í•˜ë©´Â ì„œë¹„ìŠ¤ ê³„ì¸µì´ ë¬´ì˜ë¯¸í•˜ë©°, ê°ì²´ë€ ë‹¨ìˆœíˆ ë°ì´í„° ë©ì–´ë¦¬Â ì—­í• ë§Œ í•˜ê²Œ ëœë‹¤. ì„œë¹„ìŠ¤ ë©”ì†Œë“œëŠ” íŠ¸ëœì­ì…˜ê³¼ ë„ë©”ì¸ ê°„ì˜ ìˆœì„œë§Œ ë³´ì¥ (ê°ê°ì˜ ë„ë©”ì¸ì´ ë³¸ì¸ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬) ê·¸ëŸ¬ë‚˜, Domain ê°ì²´ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„£ìœ¼ë©´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. Â  (ì¦‰, ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§„ë‹¤)VOê³¼ Entity VO Mybatis ì‚¬ìš© ì‹œ VOë¥¼ ì‚¬ìš©í•œë‹¤. MyBatisì—ì„œëŠ” VOë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ë©°, ë°ì´í„°ë¥¼ DB í…Œì´ë¸”ì˜ ì»¬ëŸ¼ê³¼ ë§¤í•‘í•˜ê³  ê·¸ ê°’ì„ VOë¡œ ë°˜í™˜ VOëŠ” DB í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜, í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•  ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´ë¡œ ì‚¬ìš© ì¦‰, MyBatisë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” VOë¥¼ ë°ì´í„° ì „ì†¡ ë° ì¡°íšŒ ìš©ë„ë¡œ ì‚¬ìš© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ë ¤ë©´ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ë¡œì§ì„ ì²˜ë¦¬í•˜ê±°ë‚˜, ë„ë©”ì¸ ê°ì²´ë¥¼ ì„¤ê³„í•˜ì—¬ í•´ë‹¹ ë¡œì§ì„ ìº¡ìŠí™”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤. JPAì—ì„œëŠ” Entityê°€ í•„ìš”í•˜ì§€ë§Œ, MyBatisì—ì„œëŠ” Entity ëŒ€ì‹  VOë§Œ ì‚¬ìš©í•´ë„ ëœë‹¤. ê·¸ëŸ¬ë‚˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ê°ì²´ ê°„ì˜ ê´€ê³„ê°€ ë³µì¡í•œ ê²½ìš°, VOë§Œìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” Entityì™€ Domain ëª¨ë¸ì„ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì í•©í•  ìˆ˜ ìˆë‹¤. Entity JPA ì‚¬ìš© ì‹œ Entityë¥¼ DB í…Œì´ë¸”ê³¼ ë§¤í•‘ì‹œí‚¨ë‹¤. " }, { "title": "í´ë˜ìŠ¤ ì •ì˜ ë°©ë²•ë¡  (GRASP / SOLID)", "url": "/posts/oop-class/", "categories": "ì½”ë”© ì§€ì‹, OOP, Class", "tags": "GRASP, SOLID, Desgin Pattern", "date": "2024-12-03 16:00:00 +0900", "snippet": "í´ë˜ìŠ¤ ì •ì˜ ë°©ë²•ë¡ í´ë˜ìŠ¤ ì •ì˜ì™€ ë°©ë²•ë¡  ë°©ë²•ë¡  Â  : Â  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ê¸°ë²•ë“¤ì— ëŒ€í•œ ì¡°ì–¸ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë¨ì—ì„œ ì±…ì„ì„ ë¶€ì—¬í•œë‹¤ëŠ” ê²ƒì€ ê·¸ í´ë˜ìŠ¤ì—ê²Œ ë©”ì„œë“œë¥¼ ë¶€ì—¬í•œë‹¤ëŠ” ê²ƒì´ë‹¤. GRASP ë°©ë²•ë¡  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ 9ê°€ì§€ ìš”ì†Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ì˜ ì—¬ê¸°ì„œ ë” ë“¤ì–´ê°„ ê²ƒì´ SOLID íŒ¨í„´ì´ë‹¤. GRASP ë°©ë²•...", "content": "í´ë˜ìŠ¤ ì •ì˜ ë°©ë²•ë¡ í´ë˜ìŠ¤ ì •ì˜ì™€ ë°©ë²•ë¡  ë°©ë²•ë¡  Â  : Â  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ê¸°ë²•ë“¤ì— ëŒ€í•œ ì¡°ì–¸ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë¨ì—ì„œ ì±…ì„ì„ ë¶€ì—¬í•œë‹¤ëŠ” ê²ƒì€ ê·¸ í´ë˜ìŠ¤ì—ê²Œ ë©”ì„œë“œë¥¼ ë¶€ì—¬í•œë‹¤ëŠ” ê²ƒì´ë‹¤. GRASP ë°©ë²•ë¡  í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ 9ê°€ì§€ ìš”ì†Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ì˜ ì—¬ê¸°ì„œ ë” ë“¤ì–´ê°„ ê²ƒì´ SOLID íŒ¨í„´ì´ë‹¤. GRASP ë°©ë²•ë¡  Â  Â  (9ê°€ì§€) GeneralÂ ResponsibilityÂ AssignmentÂ SoftwareÂ Patterns Information Expert Â  Â  : Â  Â  ë°ì´í„°ë¥¼ ì˜ ì•„ëŠ” ê°ì²´ê°€ ì±…ì„ì„ ê°€ì§„ë‹¤ Creator Â  Â  : Â  Â  ê°ì²´ ìƒì„±ì€ ê´€ë ¨ ìˆëŠ” ê°ì²´ê°€ ë‹´ë‹¹ Controller Â  Â  : Â  Â  ì™¸ë¶€ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ë‚´ë¶€ë¡œ ì „ë‹¬ Low Coupling Â  Â  : Â  Â  ê°ì²´ ê°„ ì˜ì¡´ì„± ìµœì†Œí™” High Cohesion Â  Â  : Â  Â  ê°ì²´ì˜ ì±…ì„ì€ ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ Polymorphism Â  Â  : Â  Â  ë™ì¼ í–‰ìœ„ì— ë‹¤ë¥¸ êµ¬í˜„ Pure Fabrication Â  Â  : Â  Â  ì„¤ê³„ë¥¼ ìœ„í•œ ì¸ìœ„ì ì¸ ê°ì²´ ì¶”ê°€ Indirection Â  Â  : Â  Â  ê°„ì ‘ ì—°ê²°ë¡œ ê²°í•©ë„ ë‚®ì¶¤ Protected Variations Â  Â  : Â  Â  ë³€ê²½ ê°€ëŠ¥ì„± ìˆëŠ” ë¶€ë¶„ì„ ì¶”ìƒí™”ë¡œ ë³´í˜¸ 1. Inforamtion Expert, Â  ì •ë³´ ì „ë¬¸ê°€ â€œì–´ë–¤ ì±…ì„ì„ ë§¡ì•„ì•¼ í• ì§€ ê²°ì •í•  ë•Œ, í•´ë‹¹ ì±…ì„ì„ ìˆ˜í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ê°€ì¥ ì˜ ì•Œê³  ìˆëŠ” ê°ì²´ì— í• ë‹¹í•˜ë¼â€ 2. Low Coupling í•œ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì¼ì„ í•˜ë„ë¡ í•´ë¼ â€œê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶°, ê°ì²´ ë³€ê²½ ì‹œ ë‹¤ë¥¸ ê°ì²´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•˜ë¼.â€ ê°ì²´ ê°„ì˜ ìƒí˜¸ ì˜ì¡´ì„±ì„ ì¤„ì—¬ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤. DIP(ì˜ì¡´ì„± ì—­ì „ ì›ì¹™) ë° ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©ê³¼ ì—°ê´€ë©ë‹ˆë‹¤. 3. High Cohesion â€œí•˜ë‚˜ì˜ ê°ì²´ê°€ ë§¡ì€ ì±…ì„ì´ ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ë˜ì–´ ìˆë„ë¡ í•˜ì—¬, ê°ì²´ì˜ ì§‘ì¤‘ë„ë¥¼ ë†’ì´ê³  ëª…í™•í•˜ê²Œ í•˜ë¼.â€ ê°ì²´ê°€ ì§€ë‚˜ì¹˜ê²Œ ë§ì€ ì±…ì„ì„ ê°€ì§€ë©´ ì‘ì§‘ë„ê°€ ë‚®ì•„ì§€ê³  ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. SRP(ë‹¨ì¼ ì±…ì„ ì›ì¹™)ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤. 4. Creator â€œê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ì ì ˆí•œ ë‹¤ë¥¸ ê°ì²´ì— í• ë‹¹í•˜ë¼.â€ ì–´ë–¤ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ë¥¼ ìƒì„±í•  ì±…ì„ì„ ê°€ì§€ëŠ”ì§€ ê²°ì •í•˜ëŠ” ì›ì¹™ ëˆ„ê°€ ëˆ„êµ¬ë¥¼ ë§Œë“¤ì–´ì•¼ í• ê¹Œ?ì˜ ë‹µ Creator íŒ¨í„´ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ì ì ˆí•œ ë‹¤ë¥¸ ê°ì²´ì— ìœ„ì„í•¨ìœ¼ë¡œì¨ ì½”ë“œì˜ ì‘ì§‘ë„ë¥¼ ë†’ì´ê³  ì„¤ê³„ë¥¼ ê¹”ë”í•˜ê²Œ ë§Œë“œëŠ” ë° ë„ì›€ì„ ì¤ SpringBoot Â  : Â  @bean, @Component, @Service ë“± 5. Controller â€œì‹œìŠ¤í…œ ì™¸ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì±…ì„ì„ ê°€ì§„ ê°ì²´ë¥¼ ì •ì˜í•˜ë¼.â€ ì‚¬ìš©ìë‚˜ ì™¸ë¶€ ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•˜ëŠ” ìš”ì²­ì´ë‚˜ ì´ë²¤íŠ¸(ë²„íŠ¼ í´ë¦­, ë°ì´í„° ì „ì†¡ ë“±)ë¥¼ ì–´ë–¤ ê°ì²´ë‚˜ í´ë˜ìŠ¤ê°€ ì±…ì„ì§€ê³  ì²˜ë¦¬í• ì§€ ê²°ì •í•˜ëŠ” ê²ƒ [ex] UserCommand, ProjectCommand, UserController, StoryController â€¦ SpringBoot Â  : Â  @RestController, @Controller ê°œë°œìë“¤ì´ í´ë˜ìŠ¤ë“¤ì„ ë§Œë“¤ì—ˆëŠ”ë° ì´ê²ƒì„ ë³´ë‹¤ ë³´ë‹ˆ **Software íŒ¨í„´**ì„ ë°œê²¬í–ˆë‹¤. ì´ê²ƒì„ ì •ë¦¬í•œ ê²ƒì´ GRASP ë°©ë²•ë¡ ì´ë‹¤. 1. Information Expert (ì •ë³´ ì „ë¬¸ê°€)â€œì–´ë–¤ ì±…ì„ì„ ë§¡ì•„ì•¼ í• ì§€ ê²°ì •í•  ë•Œ, í•´ë‹¹ ì±…ì„ì„ ìˆ˜í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ê°€ì¥ ì˜ ì•Œê³  ìˆëŠ” ê°ì²´ì— í• ë‹¹í•˜ë¼.â€ ê°ì²´ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì†Œìœ í•˜ê±°ë‚˜ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ë©´, ê·¸ ê°ì²´ê°€ í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ì›ì¹™ì€ ì±…ì„ì„ ë°ì´í„°ì™€ ê°€ê¹Œì´ ìœ ì§€í•˜ì—¬ ì‘ì§‘ë„ë¥¼ ë†’ì…ë‹ˆë‹¤.ì˜ˆ: UserServiceê°€ ì‚¬ìš©ì ì •ë³´(User)ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ì±…ì„ì„ ê°€ì§€ëŠ” ê²ƒ.2. Creator (ìƒì„±ì)â€œê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì„ ì ì ˆí•œ ë‹¤ë¥¸ ê°ì²´ì— í• ë‹¹í•˜ë¼.â€ê°ì²´ ìƒì„± ì±…ì„ì„ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì— í•´ë‹¹í•˜ëŠ” ê°ì²´ì— í• ë‹¹: ìƒì„±ë  ê°ì²´ë¥¼ í¬í•¨í•˜ê±°ë‚˜ ì‚¬ìš©. ìƒì„±ë  ê°ì²´ì˜ ë°ì´í„°ë¥¼ ì•Œê³  ìˆìŒ. ìƒì„±ë  ê°ì²´ì™€ ê°•í•˜ê²Œ ì—°ê´€ë¨.ì˜ˆ: Car ê°ì²´ê°€ ìì‹ ì˜ Wheel ê°ì²´ë“¤ì„ ìƒì„±.3. Controller (ì»¨íŠ¸ë¡¤ëŸ¬)â€œì‹œìŠ¤í…œ ì™¸ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ì±…ì„ì„ ê°€ì§„ ê°ì²´ë¥¼ ì •ì˜í•˜ë¼.â€ ì‚¬ìš©ì ìš”ì²­ì´ë‚˜ ì‹œìŠ¤í…œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¤‘ê°„ ê´€ë¦¬ì ì—­í• . ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ ì ì ˆí•œ ê°ì²´ë¡œ ì „ë‹¬í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.ì˜ˆ: Spring Bootì˜ UserControllerê°€ HTTP ìš”ì²­ì„ ë°›ì•„ UserServiceë¡œ ìœ„ì„.4. Low Coupling (ë‚®ì€ ê²°í•©ë„)â€œê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶°, ê°ì²´ ë³€ê²½ ì‹œ ë‹¤ë¥¸ ê°ì²´ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•˜ë¼.â€ ê°ì²´ ê°„ì˜ ìƒí˜¸ ì˜ì¡´ì„±ì„ ì¤„ì—¬ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤. DIP(ì˜ì¡´ì„± ì—­ì „ ì›ì¹™) ë° ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©ê³¼ ì—°ê´€ë©ë‹ˆë‹¤.ì˜ˆ: UserControllerê°€ UserService ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•¨ìœ¼ë¡œì¨, ì„œë¹„ìŠ¤ êµ¬í˜„ ë³€ê²½ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠìŒ.5. High Cohesion (ë†’ì€ ì‘ì§‘ë„)â€œí•˜ë‚˜ì˜ ê°ì²´ê°€ ë§¡ì€ ì±…ì„ì´ ë…¼ë¦¬ì ìœ¼ë¡œ ê´€ë ¨ë˜ì–´ ìˆë„ë¡ í•˜ì—¬, ê°ì²´ì˜ ì§‘ì¤‘ë„ë¥¼ ë†’ì´ê³  ëª…í™•í•˜ê²Œ í•˜ë¼.â€ ê°ì²´ê°€ ì§€ë‚˜ì¹˜ê²Œ ë§ì€ ì±…ì„ì„ ê°€ì§€ë©´ ì‘ì§‘ë„ê°€ ë‚®ì•„ì§€ê³  ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. SRP(ë‹¨ì¼ ì±…ì„ ì›ì¹™)ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.ì˜ˆ: UserServiceëŠ” ì‚¬ìš©ì ê´€ë ¨ ì‘ì—…ë§Œ ë‹´ë‹¹í•˜ë©°, ë‹¤ë¥¸ ì±…ì„ì€ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬.6. Polymorphism (ë‹¤í˜•ì„±)â€œí–‰ìœ„(ë©”ì„œë“œ)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì±…ì„ì„ í• ë‹¹í•  ë•Œ, ë™ì¼í•œ í–‰ìœ„ê°€ ì—¬ëŸ¬ íƒ€ì…ì—ì„œ ë‹¤ë¥´ê²Œ ë™ì‘í•˜ë„ë¡ í•˜ë¼.â€ ë‹¤í˜•ì„±ì„ í™œìš©í•˜ì—¬ ê°ì²´ê°€ ë™ì¼í•œ ë©”ì‹œì§€ì— ëŒ€í•´ ì„œë¡œ ë‹¤ë¥¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ë„ë¡ í•©ë‹ˆë‹¤.ì˜ˆ: Payment ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ CreditCardPaymentì™€ PayPalPayment í´ë˜ìŠ¤ê°€ ê°ê° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ê²°ì œë¥¼ ì²˜ë¦¬.7. Pure Fabrication (ìˆœìˆ˜ ê°€ê³µ ê°ì²´)â€œì‹œìŠ¤í…œ ì„¤ê³„ì—ì„œ, í˜„ì‹¤ ì„¸ê³„ì™€ ê´€ë ¨ë˜ì§€ ì•Šë”ë¼ë„ ì¬ì‚¬ìš©ì„±ê³¼ ì‘ì§‘ë„ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë¼.â€ ì„¤ê³„ë¥¼ ëª…í™•íˆ í•˜ê³ , ì±…ì„ ë¶„ë¦¬ë¥¼ ìœ„í•´ ë§Œë“  ì¸ìœ„ì ì¸ ê°ì²´. í˜„ì‹¤ ë„ë©”ì¸ ëª¨ë¸ì— ì—†ëŠ” ê°ì²´ì§€ë§Œ, ì„¤ê³„ìƒì˜ í•„ìš”ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤.ì˜ˆ: Logger, Repository, Service ë“±ì´ ë„ë©”ì¸ ëª¨ë¸ê³¼ëŠ” ë³„ê°œë¡œ ì„¤ê³„ì— ì¶”ê°€ëœ ê°ì²´.8. Indirection (ê°„ì ‘í™”)â€œê°ì²´ ê°„ì˜ ì§ì ‘ì ì¸ ì˜ì¡´ì„ ì¤„ì´ê³ , ì¤‘ê°„ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì—°ì„±ê³¼ ê²°í•©ë„ë¥¼ ë‚®ì¶”ë¼.â€ *ì¤‘ì¬ì(Mediator)ë‚˜ **í”„ë¡ì‹œ(Proxy) ê°™ì€ íŒ¨í„´ì—ì„œ ìì£¼ ì‚¬ìš©. ê°ì²´ ê°„ì˜ ì§ì ‘ì ì¸ ì—°ê²° ëŒ€ì‹  ì¤‘ê°„ ê°ì²´ê°€ ì—°ê²°ì„ ê´€ë¦¬.ì˜ˆ: Springì˜ @Transactionalì´ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë¡œì§ì„ ê°„ì ‘í™”í•˜ì—¬, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ DB ì—°ê²°ì„ ë¶„ë¦¬.9. Protected Variations (ë³€ê²½ ë³´í˜¸)â€œë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ ì‹ë³„í•˜ê³ , ì´ë¥¼ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒí™”ë¡œ ë³´í˜¸í•˜ë¼.â€ ë³€í™”í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì„ ê²½ìš°, ì„¤ê³„ê°€ ì´ë¥¼ ì˜ í¡ìˆ˜í•˜ë„ë¡ ë³´í˜¸ì¥ì¹˜ë¥¼ ë§ˆë ¨. ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ í†µí•´ ë³€í™”ê°€ ë‹¤ë¥¸ ê°ì²´ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ í•¨.ì˜ˆ: PaymentService ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´, ê²°ì œ ë°©ì‹(CreditCard, PayPal ë“±)ì„ ë³€ê²½í•˜ë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ ì„¤ê³„.SOLID ë°©ë²•ë¡  ê°ì²´ì§€í–¥ ì„¤ê³„ì— ì£¼ìš” ì›ì¹™ì´ë‹¤. ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ì´ ì›ì¹™ë“¤ì„ ë”°ë¥´ë©´ S/WëŠ” ë” ëª¨ë“ˆí™”ë˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§€ê³  í™•ì¥ì´ ì‰¬ì›Œì§„ë‹¤. SRP Â  Â  (Single Responsibility Principle, Â  ë‹¨ì¼ ì±…ì„ ì›ì¹™) â€œí´ë˜ìŠ¤ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì ¸ì•¼ í•˜ë©°, í•˜ë‚˜ì˜ ë³€ê²½ ì‚¬ìœ ë§Œ ê°€ì ¸ì•¼ í•œë‹¤.â€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì—­í• ë§Œ ê°€ì ¸ì•¼ í•œë‹¤. ë³€ê²½ì´ í•„ìš”í•  ê²½ìš° ê·¸ í´ë˜ìŠ¤ì˜ ë‹¨ì¼ ì±…ì„ì— ëŒ€í•´ì„œë§Œ ìˆ˜ì •ì´ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤. í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì±…ì„ë§Œì„ ê°–ëŠ”ë‹¤. Â  (GRASPì˜ High Cohesion )OCP Â  Â  (Open Close Principle, Â  ê°œë°©/íì‡„ ì›ì¹™) â€œí™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ê³ , ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.â€ ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒí™”ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ê¸°ì¡´ ì½”ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. ë³€ê²½ì—ëŠ” ê°œë°©ì ì´ì§€ë§Œ ê¸°ì¡´ ì½”ë“œëŠ” ì†ëŒ€ì§€ ë§ˆë¼. â‡’ Â  ì¦‰, ê¸°ì¡´ ì½”ë“œëŠ” ì† ëŒ€ì§€ ë§ê³  ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤. Â  (ìƒì†, ì˜¤ë²„ë¼ì´ë”©, ì˜¤ë²„ë¡œë”©) í–¥í›„ ê¸°ì¡´ ì½”ë“œë¥¼ ì†ëŒ€ì§€ ì•Šê³  í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ ì´ˆê¸°ì— í´ë˜ìŠ¤ë¥¼ ì˜ ì„¤ê³„í•´ì•¼ í•œë‹¤. â‡’ Â  ë””ìì¸ íŒ¨í„´ Â  (í´ë˜ìŠ¤ ì„¤ê³„ ë¹„ê¸°) LSP Â  Â  (Liskov Subistitution Principle, Â  ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™) â€œí•˜ìœ„ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ ì •ì˜ëœ í–‰ë™ì„ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.â€ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ë„ ë¬¸ì œì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. í”„ë¡œê·¸ë¨ì„ ì§¤ ë•Œ ê·¸ê²ƒì„ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ëŒ€ì²´í•˜ê¸° ì‰½ê²Œ í”„ë¡œê·¸ë¨ì„ ì„¤ê³„í•´ë¼. ì¦‰, ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ìœ¼ë¡œ êµì²´í•˜ê¸° ì‰½ë„ë¡ í”„ë¡œê·¸ë¨ì„ ì§œë¼. â‡’ Â  ì¸í„°í˜ì´ìŠ¤ SpringBoot Â  : Â  Service LayerISP Â  Â  (Interface Segregation Principle, Â  ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™) â€œì¸í„°í˜ì´ìŠ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•´ì•¼ í•œë‹¤.â€ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ëŠ” ì‘ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì—ë§Œ ì˜ì¡´í•´ì•¼ í•œë‹¤. DIP Â  Â  (Dependency Inversion Principle, Â  ì˜ì¡´ì„± ì—­ì „ ì›ì¹™) â€œìƒìœ„ ëª¨ë“ˆì€ í•˜ìœ„ ëª¨ë“ˆì— ì˜ì¡´í•´ì„œëŠ” ì•ˆ ë˜ê³ , ë‘˜ ë‹¤ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤.â€ â‡’ Â  êµ¬ì²´ì ì¸ êµ¬í˜„ì²´ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì—°í•œ ì„¤ê³„ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤. ì˜ì¡´ ê°ì²´ë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ë§ê³  ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ì ì˜ì¡´ì„± ì£¼ì… Â  (DI, Â  Dependency Injection) â‡’ Â  Spring IOC ì»¨í…Œì´ë„ˆ GoFì˜ ë””ìì¸ íŒ¨í„´ GRASPì™€ SOLID ì›ì¹™ì— ë”°ë¥´ëŠ” ì„¤ê³„ ë¹„ë²•ì´ ìˆë‹¤. â‡’ Â  21ê°€ì§€ì˜ ë””ìì¸ íŒ¨í„´ (GoF) í•­ìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ GRASP ë°©ë²•ë¡ ì„ ì—¼ë‘í•´ ë‘ì–´ì•¼ í•œë‹¤. ì´ëŸ° ìœ í˜•ë“¤ì„ ì‰½ê²Œ ì •ë¦¬í•´ ë†“ì€ ê²ƒì´ ë””ìì¸ íŒ¨í„´ì´ë‹¤. " }, { "title": "Jenkins ì‚¬ìš©ë²• 2 (React / Nginx)", "url": "/posts/jenkins-howtouse2/", "categories": "í”„ë¡œì íŠ¸, CICD, Jenkins", "tags": "Jenkins, Docker, ë°°í¬ ìë™í™”", "date": "2024-11-28 22:00:00 +0900", "snippet": "(6) Jenkinsë¥¼ ì‚¬ìš©í•˜ì—¬ React ìë™ ë°°í¬í•˜ê¸° Dockerfile ìƒì„± # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ CO...", "content": "(6) Jenkinsë¥¼ ì‚¬ìš©í•˜ì—¬ React ìë™ ë°°í¬í•˜ê¸° Dockerfile ìƒì„± # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ COPY package*.json ./ # 4. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš©) RUN npm install # 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ COPY . . # 6. í¬íŠ¸ ì„¤ì • EXPOSE 3000 # 7. ì•± ì‹¤í–‰ (npm start) CMD [\"npm\", \"start\"] Jenkins ì„¤ì • docker build -t backtoback/bitcamp-final-front:1.0 . docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ! docker.iodocker push backtoback/bitcamp-final-front:1.0docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ! docker.iodocker pull backtoback/bitcamp-final-front:1.0 docker ps -aq --filter name=bitcamp-front-final | grep -q . &amp;&amp; docker rm -f $(docker ps -aq --filter name=bitcamp-front-final) || truedocker run -d --name bitcamp-front-final -p 3000:3000 backtoback/bitcamp-final-front:1.0 docker ps -aq â€“filter name=bitcamp-front-final grep -q . &amp;&amp; docker rm -f $(docker ps -aq â€“filter name=bitcamp-front-final) Â  true Â  true ì»¨í…Œì´ë„ˆ ì œê±°ì— ì‹¤íŒ¨í•  ê²½ìš° ë¹Œë“œ ì‹¤íŒ¨ ë°©ì§€ Dashboard â‡’ bitcamp-final-front ì•„ì´í…œ í´ë¦­ â‡’ ì§€ê¸ˆ ë¹Œë“œ í´ë¦­ ë¹Œë“œ ì „ ìƒíƒœ [student@bitcamp-svr-final ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 58f547cfe445 backtoback/bitcamp-final:1.0 \"java -jar bitcamp-fâ€¦\" 8 hours ago Up 8 hours 0.0.0.0:8080-&gt;8080/tcp bitcamp-final 5c1df2794973 bitcamp-final-front:first \"docker-entrypoint.sâ€¦\" 12 hours ago Up 12 hours 0.0.0.0:3000-&gt;3000/tcp bitcamp-front-final Jenkins UIì˜ console output Started by user admin Running as SYSTEM Building in workspace /var/jenkins_home/workspace/bitcamp-final-front The recommended git tool is: NONE using credential 57dd14ae-bac2-4556-87ee-f49e178304ae Cloning the remote Git repository Cloning repository https://github.com/backnback/bitcamp-final-front.git &gt; git init /var/jenkins_home/workspace/bitcamp-final-front # timeout=10 Fetching upstream changes from https://github.com/backnback/bitcamp-final-front.git &gt; git --version # timeout=10 &gt; git --version # 'git version 2.39.5' using GIT_ASKPASS to set credentials &gt; git fetch --tags --force --progress -- https://github.com/backnback/bitcamp-final-front.git +refs/heads/*:refs/remotes/origin/* # timeout=10 &gt; git config remote.origin.url https://github.com/backnback/bitcamp-final-front.git # timeout=10 &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10 Avoid second fetch &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10 Checking out Revision c964ea65d34d9754deda02263d0fbff39fe91565 (refs/remotes/origin/main) &gt; git config core.sparsecheckout # timeout=10 &gt; git checkout -f c964ea65d34d9754deda02263d0fbff39fe91565 # timeout=10 Commit message: \"Merge pull request #42 from backnback/cute-kkiri\" First time build. Skipping changelog. [bitcamp-final-front] $ /bin/sh -xe /tmp/jenkins8977258763446046408.sh + docker build -t backtoback/bitcamp-final-front:1.0 . #0 building with \"default\" instance using docker driver #1 [internal] load build definition from Dockerfile #1 transferring dockerfile: 423B done #1 DONE 0.0s #2 [internal] load metadata for docker.io/library/node:18-alpine #2 ... #3 [auth] library/node:pull token for registry-1.docker.io #3 DONE 0.0s #2 [internal] load metadata for docker.io/library/node:18-alpine #2 DONE 2.7s #4 [internal] load .dockerignore #4 transferring context: 2B done #4 DONE 0.0s #5 [1/5] FROM docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 #5 resolve docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 0.0s done #5 sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 7.67kB / 7.67kB done #5 sha256:7000d2e73f938c4f62fdda6d398d7dffd50e6c129409ae2b1a36ccebf9289ffe 1.72kB / 1.72kB done #5 sha256:870e987bd79332f29e9e21d7fa06ae028cfb507bb8bbca058f6eb60f7111cae9 6.20kB / 6.20kB done #5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 0B / 3.62MB 0.1s #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 0B / 40.09MB 0.1s #5 sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 0B / 1.39MB 0.1s #5 ... #6 [internal] load build context #6 transferring context: 37.37MB 0.3s done #6 DONE 0.4s #5 [1/5] FROM docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 #5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 1.05MB / 3.62MB 0.5s #5 sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 3.62MB / 3.62MB 0.5s done #5 extracting sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f #5 sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 0B / 449B 0.6s #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 8.39MB / 40.09MB 0.7s #5 extracting sha256:da9db072f522755cbeb85be2b3f84059b70571b229512f1571d9217b77e1087f 0.2s done #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 23.07MB / 40.09MB 0.9s #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 30.41MB / 40.09MB 1.0s #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 37.75MB / 40.09MB 1.1s #5 sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 1.39MB / 1.39MB 1.0s done #5 sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 449B / 449B 1.1s done #5 sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 40.09MB / 40.09MB 1.3s done #5 extracting sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 0.1s #5 extracting sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 2.0s done #5 extracting sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 0.1s done #5 extracting sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 0.0s done #5 DONE 3.6s #7 [2/5] WORKDIR /app #7 DONE 0.7s #8 [3/5] COPY package*.json ./ #8 DONE 0.0s #9 [4/5] RUN npm install #9 6.899 npm warn deprecated w3c-hr-time@1.0.2: Use your platform's native performance.now() and performance.timeOrigin. #9 7.543 npm warn deprecated stable@0.1.8: Modern JS already guarantees Array#sort() is a stable sort, so this library is deprecated. See the compatibility table on MDN: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#browser_compatibility #9 7.582 npm warn deprecated workbox-cacheable-response@6.6.0: workbox-background-sync@6.6.0 #9 7.585 npm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead #9 7.762 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported #9 7.809 npm warn deprecated workbox-google-analytics@6.6.0: It is not compatible with newer versions of GA starting with v4, as long as you are using GAv3 it should be ok, but the package is not longer being maintained #9 7.829 npm warn deprecated rollup-plugin-terser@7.0.2: This package has been deprecated and is no longer maintained. Please use @rollup/plugin-terser #9 8.209 npm warn deprecated q@1.5.1: You or someone you depend on is using Q, the JavaScript Promise library that gave JavaScript developers strong feelings about promises. They can almost certainly migrate to the native JavaScript promise now. Thank you literally everyone for joining me in this bet against the odds. Be excellent to each other. #9 8.209 npm warn deprecated #9 8.209 npm warn deprecated (For a CapTP with native promises, see @endo/eventual-send and @endo/captp) #9 9.931 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful. #9 10.19 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported #9 10.76 npm warn deprecated domexception@2.0.1: Use your platform's native DOMException instead #9 11.62 npm warn deprecated abab@2.0.6: Use your platform's native atob() and btoa() methods instead #9 14.07 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead #9 14.09 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead #9 14.10 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options. #9 16.51 npm warn deprecated @babel/plugin-proposal-optional-chaining@7.21.0: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-optional-chaining instead. #9 16.52 npm warn deprecated @babel/plugin-proposal-class-properties@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-class-properties instead. #9 16.52 npm warn deprecated @babel/plugin-proposal-private-methods@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-methods instead. #9 16.57 npm warn deprecated @babel/plugin-proposal-nullish-coalescing-operator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-nullish-coalescing-operator instead. #9 17.07 npm warn deprecated @babel/plugin-proposal-numeric-separator@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-numeric-separator instead. #9 18.60 npm warn deprecated svgo@1.3.2: This SVGO version is no longer supported. Upgrade to v2.x.x. #9 22.63 #9 22.63 added 1616 packages, and audited 1617 packages in 22s #9 22.63 #9 22.63 288 packages are looking for funding #9 22.63 run `npm fund` for details #9 22.65 #9 22.65 10 vulnerabilities (1 low, 2 moderate, 7 high) #9 22.65 #9 22.65 To address issues that do not require attention, run: #9 22.65 npm audit fix #9 22.65 #9 22.65 To address all issues (including breaking changes), run: #9 22.65 npm audit fix --force #9 22.65 #9 22.65 Run `npm audit` for details. #9 22.65 npm notice #9 22.65 npm notice New minor version of npm available! 10.8.2 -&gt; 10.9.1 #9 22.65 npm notice Changelog: https://github.com/npm/cli/releases/tag/v10.9.1 #9 22.65 npm notice To update run: npm install -g npm@10.9.1 #9 22.65 npm notice #9 DONE 23.1s #10 [5/5] COPY . . #10 DONE 0.2s #11 exporting to image #11 exporting layers #11 exporting layers 10.5s done #11 writing image sha256:0199b008dcbb7e7110a8649496b384cc98df48311eb75feb69253ffe9e78e9a6 done #11 naming to docker.io/backtoback/bitcamp-final-front:1.0 done #11 DONE 10.5s + docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ! docker.io WARNING! Using --password via the CLI is insecure. Use --password-stdin. WARNING! Your password will be stored unencrypted in /var/jenkins_home/.docker/config.json. Configure a credential helper to remove this warning. See https://docs.docker.com/engine/reference/commandline/login/#credential-stores Login Succeeded + docker push backtoback/bitcamp-final-front:1.0 The push refers to repository [docker.io/backtoback/bitcamp-final-front] a065f315c811: Preparing f0f82b32d205: Preparing 1b3d1b2d7fb5: Preparing 091187395501: Preparing aae2f82b308d: Preparing 5003e477a3c5: Preparing 83ada9b02fd6: Preparing 75654b8eeebd: Preparing 5003e477a3c5: Waiting 83ada9b02fd6: Waiting 75654b8eeebd: Waiting aae2f82b308d: Mounted from library/node 091187395501: Pushed 1b3d1b2d7fb5: Pushed 5003e477a3c5: Mounted from library/node 83ada9b02fd6: Mounted from library/node 75654b8eeebd: Mounted from library/node a065f315c811: Pushed f0f82b32d205: Pushed 1.0: digest: sha256:f1f19759f873c79a5488518efcb71f5be8f2dbd651a332e7315f45ed650f7e6f size: 2000 SSH: Connecting from host [a39e02fc8c88] SSH: Connecting with configuration [bitcamp-final-server] ... SSH: EXEC: completed after 21,020 ms SSH: Disconnecting configuration [bitcamp-final-server] ... SSH: Transferred 0 file(s) Finished: SUCCESS ë¹Œë“œ í›„ ìƒíƒœ [student@bitcamp-svr-final ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES d684ad2e43f6 backtoback/bitcamp-final-front:1.0 \"docker-entrypoint.sâ€¦\" 23 seconds ago Up 22 seconds 0.0.0.0:3000-&gt;3000/tcp bitcamp-front-final 58f547cfe445 backtoback/bitcamp-final:1.0 \"java -jar bitcamp-fâ€¦\" 8 hours ago Up 8 hours 0.0.0.0:8080-&gt;8080/tcp bitcamp-final ë¹Œë“œ ì‹œ ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆê°€ ìë™ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì°½ì„ ì—´ë¦¬ëŠ”ë° ë²¡ì—”ë“œ ì„œë²„ë¡œì˜ ìš”ì²­ì´ ì œëŒ€ë¡œ ê°€ì§€ ì•ŠëŠ”ë‹¤. â‡’ ê¸°ì¡´ì—ëŠ” react appì˜ .env íŒŒì¼ë¡œ API ìš”ì²­ URLì„ ì¡°ì •í•´ì™”ë‹¤. githubì— ì•„ë§ˆ ì´ê²ƒì´ ì˜ëª»ëœ ìƒíƒœë¡œ ê°€ì ¸ì™€ì„œ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— ê·¸ëŸ°ë“¯í•˜ë‹¤. # REACT_APP_API_URL.env íŒŒì¼ # ê°œë°œ í™˜ê²½ API URL REACT_APP_API_URL=http://localhost:8080 # ë°°í¬ í™˜ê²½ API URL #REACT_APP_API_URL=http://211.188.48.5:8080 #REACT_APP_API_URL=http://211.188.63.97:8080 ì˜ˆìƒí•œ ëŒ€ë¡œ githubì— localhost:8080ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤. ì´ëŸ¬í•œ ê°œë°œ í™˜ê²½ì„ ì´ë ‡ê²Œ .env ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ í˜ë“¤ë‹¤. jenkinsì˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê¸°ëŠ¥ì´ ìˆë‹¤ëŠ” ë° ì‚¬ìš©í•´ë³´ê³ ì í•œë‹¤. .env íŒŒì¼ë³´ë‹¤ Jenkinsì—ì„œ ì„¤ì •ëœ í™˜ê²½ ë³€ìˆ˜ê°€ ë” ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤. process.envì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì½ì„ ë•Œ, Jenkinsê°€ ë¹Œë“œ ì‹œ ì„¤ì •í•œ í™˜ê²½ ë³€ìˆ˜ê°€ .env íŒŒì¼ ê°’ì„ ë®ì–´ì“´ë‹¤. Jenkins í™˜ê²½ ë³€ìˆ˜ ì ìš© ë°©ë²• Dockerfile ë³€ê²½ # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. ë¹Œë“œ ì‹œì ì— ì‚¬ìš©í•  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • # ARGëŠ” ë¹Œë“œ ì‹œì ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. ARG REACT_APP_API_URL # 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì‚¬ìš©) # ENVëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. ENV REACT_APP_API_URL=${REACT_APP_API_URL} # 5. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ COPY package*.json ./ # 6. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš©) RUN npm install # 7. ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ COPY . . # 8. í¬íŠ¸ ì„¤ì • EXPOSE 3000 # 9. ì•± ì‹¤í–‰ (npm start) CMD [\"npm\", \"start\"] í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•œë‹¤. í˜„ì¬ ë„ë©”ì¸ì„ ì‹ ì²­í•˜ë ¤ê³  í–ˆìœ¼ë‚˜ React ì•± ì»¨í…Œì´ë„ˆì˜ ì ‘ì† í¬íŠ¸ê°€ 3000:3000ìœ¼ë¡œ í¬íŠ¸ í¬ì›Œë”© ë˜ì–´ ìˆë‹¤. ê·¸ë˜ì„œ ì»¨í…Œì´ë„ˆ ìƒì„± ì‹œ 80:3000ìœ¼ë¡œ ìƒì„±í–ˆë‹¤. â‡’ WebSocket connection to â€˜ws://211.188.48.5:3000/wsâ€™ failed: â‡’ ì´ ì˜¤ë¥˜ëŠ” Dockerì˜ í¬íŠ¸ ë§¤í•‘ì„ í†µí•´ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ë•ŒëŠ” 80 í¬íŠ¸ë¡œ ìš”ì²­ì„ ë°›ì•„ ë‚´ë¶€ì˜ 3000 í¬íŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° WebSocket ë¬¸ì œëŠ” React ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš©í•˜ëŠ” WebSocket URLì´ ì—¬ì „íˆ ws://211.188.48.5:3000/wsë¡œ ê³ ì •ë˜ì–´ ìˆë‹¤ëŠ” ì ì—ì„œ ë°œìƒ. React ì•±ì˜ ì‹¤í–‰ í¬íŠ¸(npm startë¡œ ì„¤ì •ëœ í¬íŠ¸)ê°€ ì´ë¯¸ 3000ë²ˆìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ë‹¨ìˆœíˆ EXPOSEë¥¼ 80ìœ¼ë¡œ ë°”ê¾¼ë‹¤ê³  í•´ì„œ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í¬íŠ¸ê°€ ë³€ê²½ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤ ê·¸ë˜ì„œ Nginxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬í•´ë³´ê¸°ë¡œ ê²°ì •í–ˆë‹¤. NginxëŠ” ê¸°ë³¸ í¬íŠ¸ê°€ 80ìœ¼ë¡œ ì‰½ê²Œ ì„¤ì • ê°€ëŠ¥í•˜ê³  React ì•±ì„ ì‹¤ì œ ë°°í¬í•  ë•ŒëŠ” Nginxë¥¼ ë§ì´ ì“´ë‹¤ê³  í–ˆê¸° ë•Œë¬¸ì— ê²°ì •í–ˆë‹¤. Nginxë¥¼ ì‚¬ìš©í•˜ë©´ ì •ì  íŒŒì¼ì„ ì œê³µí•˜ëŠ” ì†ë„ë„ ë¹ ë¥´ê³  ë©”ëª¨ë¦¬ë„ ì ê²Œ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤. (7) Nginxë¡œ ì „í™˜í•˜ê¸° ê¸°ì¡´ Dockerfile # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. ë¹Œë“œ ì‹œì ì— ì‚¬ìš©í•  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • # ARGëŠ” ë¹Œë“œ ì‹œì ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. ARG REACT_APP_API_URL # 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ì‚¬ìš©) # ENVëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì…ë‹ˆë‹¤. ENV REACT_APP_API_URL=${REACT_APP_API_URL} # 5. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ COPY package*.json ./ # 6. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš©) RUN npm install # 7. ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ COPY . . # 8. í¬íŠ¸ ì„¤ì • EXPOSE 3000 # 9. ì•± ì‹¤í–‰ (npm start) CMD [\"npm\", \"start\"] Dockerfile ìˆ˜ì • ë° nginx.conf íŒŒì¼ ìƒì„± Nginxë¡œ ì „í™˜í•˜ë ¤ë©´ Dockerfileì„ ìˆ˜ì •í•˜ê³  nginx.confë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤ê³  í•œë‹¤. í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— nignx.confì™€ Dockerfileì„ ìƒì„±í•œë‹¤. Dockerfile # 1. Nginx ê¸°ë°˜ ì´ë¯¸ì§€ ì‚¬ìš© FROM nginx:alpine # 2. ì•± ë¹Œë“œ ê²°ê³¼ë¬¼ ë””ë ‰í† ë¦¬ ìƒì„± WORKDIR /usr/share/nginx/html # 3. ë¹Œë“œ ê²°ê³¼ë¬¼ ë³µì‚¬ # `build` í´ë”ì˜ íŒŒì¼ì„ Nginxê°€ ì„œë¹™í•  `/usr/share/nginx/html`ì— ë³µì‚¬ COPY ./build/ . # 4. ê¸°ì¡´ Nginxì˜ ê¸°ë³¸ ì„¤ì • íŒŒì¼ì„ ì œê±° RUN rm /etc/nginx/conf.d/default.conf # 5. Nginx ì„¤ì • íŒŒì¼ì„ ë³µì‚¬ (ì´ í›„ ì„¤ëª…í•  nginx.conf ì‚¬ìš©) COPY ./nginx.conf /etc/nginx/conf.d/ # 6. Nginxê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” 80ë²ˆ í¬íŠ¸ë¥¼ ì˜¤í”ˆ EXPOSE 80 # 7. Nginx ì‹¤í–‰ ëª…ë ¹ CMD [\"nginx\", \"-g\", \"daemon off;\"] â‡’ Jenkins ë¹Œë“œ ì‹œ ì˜¤ë¥˜ ë°œìƒ ! â‡’ 3ë²ˆì˜ COPY ./build/. ì—ì„œ build í´ë”ë¥¼ ë³µì‚¬í•´ì˜¤ëŠ”ë° npm run buildë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•´ë‹¹ í´ë” ìì²´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. Dockerfile ìˆ˜ì • í›„ # 1. Node.js ê¸°ë°˜ ì´ë¯¸ì§€ ì‚¬ìš© FROM node:18-alpine AS build # 2. ì•± ë””ë ‰í† ë¦¬ ìƒì„± WORKDIR /app # 3. íŒ¨í‚¤ì§€ ì„¤ì¹˜ COPY package*.json ./ RUN npm install # 4. ì•± ë¹Œë“œ COPY . ./ RUN npm run build # 5. Nginx ê¸°ë°˜ ì´ë¯¸ì§€ ì‚¬ìš© FROM nginx:alpine # 6. ì•± ë¹Œë“œ ê²°ê³¼ë¬¼ ë³µì‚¬ COPY --from=build /app/build /usr/share/nginx/html # 7. ê¸°ì¡´ Nginx ì„¤ì • ì œê±° RUN rm /etc/nginx/conf.d/default.conf # 8. Nginx ì„¤ì • íŒŒì¼ ë³µì‚¬ COPY ./nginx.conf /etc/nginx/conf.d/ # 9. Nginx í¬íŠ¸ ì˜¤í”ˆ EXPOSE 80 # 10. Nginx ì‹¤í–‰ CMD [\"nginx\", \"-g\", \"daemon off;\"] npm run buildë¥¼ í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ë˜ì•¼ build í´ë”ê°€ ìƒê¸´ë‹¤. nginx.conf server_name http://211.188.48.5/; ì ‘ì†í•˜ëŠ” ì£¼ì†Œ (ë„ë©”ì¸ ì„¤ì • ì‹œ ë„ë©”ì¸ ì´ë¦„) location /api ì´ê²ƒì„ ì„¤ì • ì•ˆ í•˜ë©´ Spring Boot APIë¡œ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤. server { listen 80; # HTTPë§Œ ì²˜ë¦¬ (443ë²ˆ í¬íŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ) server_name http://211.188.48.5/; # ì‹¤ì œ ë„ë©”ì¸ ì´ë¦„ # React ì•±ì„ ì„œë¹™í•˜ëŠ” ìœ„ì¹˜ location / { root /usr/share/nginx/html; # React ì•± ë¹Œë“œ í´ë” ìœ„ì¹˜ index index.html; try_files $uri $uri/ /index.html; # SPA (Single Page Application) ì„¤ì • } # /api ê²½ë¡œë¡œ ì‹œì‘í•˜ëŠ” ìš”ì²­ì„ Spring Boot ì„œë²„ë¡œ í”„ë¡ì‹œ location /api { proxy_pass http://211.188.48.5:8080; # Spring Boot API ì„œë²„ ì£¼ì†Œ proxy_set_header Host $host; # ì›ë³¸ ìš”ì²­ì˜ í˜¸ìŠ¤íŠ¸ í—¤ë”ë¥¼ ì „ë‹¬ proxy_set_header X-Real-IP $remote_addr; # ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ IP ì „ë‹¬ proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # X-Forwarded-For í—¤ë” ì „ë‹¬ proxy_set_header X-Forwarded-Proto $scheme; # í”„ë¡œí† ì½œ í—¤ë” (http/https) ì „ë‹¬ } } Jenkins ì„¤ì • ë³€ê²½ execute shell docker build -t backtoback/bitcamp-final-front:1.0 . docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ! docker.io docker push backtoback/bitcamp-final-front:1.0 Send files or execute commands over SSH after the build runs Exec command docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ! docker.io docker pull backtoback/bitcamp-final-front:1.0 docker ps -aq --filter name=bitcamp-front-final | grep -q . &amp;&amp; docker rm -f $(docker ps -aq --filter name=bitcamp-front-final) || true docker run -d --name bitcamp-front-final -p 80:80 backtoback/bitcamp-final-front:1.0 Jenkins ë¹Œë“œ ì‹œì‘Jenkins í™˜ê²½ ë³€ìˆ˜ ì´ìš©í•˜ì—¬ ì„œë²„ URL ì²˜ë¦¬í•˜ê¸° Dockerfile ìˆ˜ì • # 1. Node.js ê¸°ë°˜ ì´ë¯¸ì§€ ì‚¬ìš© FROM node:18-alpine AS build # 2. ì•± ë””ë ‰í† ë¦¬ ìƒì„± WORKDIR /app # 3. íŒ¨í‚¤ì§€ ì„¤ì¹˜ COPY package*.json ./ RUN npm install # 4. ì•± ë¹Œë“œ COPY . ./ RUN npm run build # 5. Nginx ê¸°ë°˜ ì´ë¯¸ì§€ ì‚¬ìš© FROM nginx:alpine # 6. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (API URL ë° SERVER_NAME) ARG API_URL ENV API_URL=${API_URL} # 7. ì•± ë¹Œë“œ ê²°ê³¼ë¬¼ ë³µì‚¬ COPY --from=build /app/build /usr/share/nginx/html # 8. ê¸°ì¡´ Nginx ì„¤ì • íŒŒì¼ ì œê±° RUN rm /etc/nginx/conf.d/default.conf # 9. Nginx ì„¤ì • íŒŒì¼ í…œí”Œë¦¿ ë³µì‚¬ COPY ./nginx.conf.template /etc/nginx/conf.d/default.conf.template # 10. Nginx ì„¤ì • íŒŒì¼ì„ envsubstë¡œ ì¹˜í™˜í•˜ì—¬ ê¸°ë³¸ ì„¤ì • íŒŒì¼ë¡œ ë³µì‚¬ CMD envsubst '${API_URL}' &lt; /etc/nginx/conf.d/default.conf.template &gt; /etc/nginx/conf.d/default.conf &amp;&amp; nginx -g 'daemon off;' # 11. Nginx í¬íŠ¸ ì˜¤í”ˆ EXPOSE 80 ê¸°ì¡´ì˜ niginx.conf íŒŒì¼ server { listen 80; # HTTPë§Œ ì²˜ë¦¬ (443ë²ˆ í¬íŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ) server_name http://211.188.48.5; # ì‹¤ì œ ë„ë©”ì¸ ì´ë¦„ # React ì•±ì„ ì„œë¹™í•˜ëŠ” ìœ„ì¹˜ location / { root /usr/share/nginx/html; # React ì•± ë¹Œë“œ í´ë” ìœ„ì¹˜ index index.html; try_files $uri $uri/ /index.html; # SPA (Single Page Application) ì„¤ì • } # /api ê²½ë¡œë¡œ ì‹œì‘í•˜ëŠ” ìš”ì²­ì„ Spring Boot ì„œë²„ë¡œ í”„ë¡ì‹œ location /api { proxy_pass ${API_URL}; # Spring Boot API ì„œë²„ ì£¼ì†Œ proxy_set_header Host $host; # ì›ë³¸ ìš”ì²­ì˜ í˜¸ìŠ¤íŠ¸ í—¤ë”ë¥¼ ì „ë‹¬ proxy_set_header X-Real-IP $remote_addr; # ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ IP ì „ë‹¬ proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # X-Forwarded-For í—¤ë” ì „ë‹¬ proxy_set_header X-Forwarded-Proto $scheme; # í”„ë¡œí† ì½œ í—¤ë” (http/https) ì „ë‹¬ } } Jenkins í™˜ê²½ ë³€ìˆ˜ ì ìš© ë°©ë²• Build Steps â‡’ Execute shell docker build --build-arg API_URL=${API_URL} -t backtoback/bitcamp-final-front:1.0 . docker login -u backtoback -p í—ˆë¸Œë¹„ë²ˆ!! docker.io docker push backtoback/bitcamp-final-front:1.0 211.188.48.5 í™•ì¸ http://go.remapber.p-e.kr í™•ì¸ ì„œë²„ Jenkins ì„œë²„ ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ê³  ìˆëŠ” ì„œë²„ Jenkins ì„œë²„ì—ì„œëŠ” GitHubì˜ ë ˆí¬ì§€í† ë¦¬ ë³€ê²½ì„ ê°ì§€í•˜ì—¬ (Github Webhook ì‚¬ìš©) ë¹Œë“œë¥¼ íŠ¸ë¦¬ê±°í•œë‹¤. ì¦‰, GitHub í‘¸ì‹œ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ JenkinsëŠ” í•´ë‹¹ Repoë¥¼ Cloneí•˜ê±°ë‚˜ Pullí•œë‹¤. í”„ë¡œì íŠ¸ ì„œë²„ React ì•± ë¹Œë“œ ë° ë°°í¬ ìµœì‹ í™”ëœ Repoì˜ Dockerfileê³¼ nginx.confë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ë¹Œë“œë¥¼ ì‹¤í–‰í•œë‹¤. Dockerfileê³¼ nginx.confë¥¼ ì‚¬ìš©í•˜ì—¬ React ì•±ì˜ ì •ì  íŒŒì¼ì„ ë¹Œë“œ(npm run build)í•œ í›„, ë¹Œë“œëœ ì •ì  íŒŒì¼ë“¤ì„ Nginxë¡œ ë°°í¬í•œë‹¤. ì¦‰, nginx.conf íŒŒì¼ì„ í†µí•´ Nginxë¥¼ ì„¤ì •í•˜ê³  React ì•±ì˜ ì •ì  íŒŒì¼ì„ ì œê³µí•œë‹¤ NginxëŠ” Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰ë˜ê³ , Dockerfileê³¼ nginx.conf ì„¤ì •ì— ë”°ë¼ React ì•±ì„ Nginx ì»¨í…Œì´ë„ˆì—ì„œ ì„œë¹„ìŠ¤í•˜ë„ë¡ êµ¬ì„±ëœë‹¤. ë¹Œë“œëœ ì´ë¯¸ì§€ëŠ” Docker Hubì— Pushëœë‹¤. JenkinsëŠ” ì´í›„SSH í†µì‹ ì„ í†µí•´ í”„ë¡œì íŠ¸ ì„œë²„ì— ì ‘ì†í•˜ê³ , Docker Hubì—ì„œ ì´ë¯¸ì§€ë¥¼ Pullí•˜ì—¬, React ì•±ì„ ì‹¤í–‰í•˜ëŠ” Nginx ì»¨í…Œì´ë„ˆë¥¼ 80:80 í¬íŠ¸ë¡œ ë°°í¬í•œë‹¤. (exec ëª…ë ¹ì–´ë¥¼ í†µí•´ Docker ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰) Spring Boot ì•± ë¹Œë“œ ë° ë°°í¬ ìµœì‹ í™”ëœ Repoì—ì„œ gradle buildë¥¼ ì‹¤í–‰í•˜ì—¬ jar íŒŒì¼ì„ ìƒì„±í•œë‹¤. ìƒì„±ëœ jar íŒŒì¼ì„ í¬í•¨í•˜ëŠ” Docker ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³ , ì´ ì´ë¯¸ì§€ë¥¼ Docker Hubì— í‘¸ì‹œí•œë‹¤. JenkinsëŠ” ì´í›„SSH í†µì‹ ì„ í†µí•´ í”„ë¡œì íŠ¸ ì„œë²„ì— ì ‘ì†í•˜ê³ , Docker Hubì—ì„œ ì´ë¯¸ì§€ë¥¼ Pullí•˜ì—¬, SpringBoot ì•±ì„ ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ 8080:8080 í¬íŠ¸ë¡œ ë°°í¬í•œë‹¤. (exec ëª…ë ¹ì–´ë¥¼ í†µí•´ Docker ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰) " }, { "title": "Jenkins ì‚¬ìš©ë²•", "url": "/posts/jenkins-howtouse/", "categories": "í”„ë¡œì íŠ¸, CICD, Jenkins", "tags": "Jenkins, Docker, ë°°í¬ ìë™í™”", "date": "2024-11-26 11:00:00 +0900", "snippet": "(1) Jenkins ì„œë²„ ìƒì„± ë° Jenkins ë„¤íŠ¸ì›Œí¬ ë¸Œë¦¿ì§€ ìƒì„±Jenkinsìš© ë¦¬ëˆ…ìŠ¤ ì„œë²„ ìƒì„± console Â  â‡’ Â  server Â  â‡’ Â  ìƒì„± (ê¸°ì¡´ ì½˜ì†” í™”ë©´) Â  â‡’ Â  CentOS-7.8-64, High CPU bitcamp-vpc, bitcamp-vpc-web-subnet 10.0.1...", "content": "(1) Jenkins ì„œë²„ ìƒì„± ë° Jenkins ë„¤íŠ¸ì›Œí¬ ë¸Œë¦¿ì§€ ìƒì„±Jenkinsìš© ë¦¬ëˆ…ìŠ¤ ì„œë²„ ìƒì„± console Â  â‡’ Â  server Â  â‡’ Â  ìƒì„± (ê¸°ì¡´ ì½˜ì†” í™”ë©´) Â  â‡’ Â  CentOS-7.8-64, High CPU bitcamp-vpc, bitcamp-vpc-web-subnet 10.0.1.0/24 High CPU(vCPU 2ê°œ, 4GB, 50GB, g2), ì‹œê°„ ìš”ê¸ˆì œ ì„œë²„ ì´ë¦„ Â  : Â  bitcamp-svr-final-jenkins network interfaceì˜ ip ì…ë ¥ Â  : Â  10.0.1.53 Â  â‡’ Â  ìƒˆë¡œìš´ ê³µì¸ IP í• ë‹¹ ë¬¼ë¦¬ ë°°ì¹˜ ê·¸ë£¹ ë¯¸ì‚¬ìš© / ë°˜ë‚© ë³´í˜¸ í•´ì œ ì¸ì¦í‚¤ ì´ìš© ìƒˆë¡œìš´ ì¸ì¦í‚¤ ìƒì„± Â Â  (ì´ë¦„ ì˜ˆì‹œ : bitcamp0524-95) ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ì„¤ì • (ACG) bitcamp-vpc-web-acg ì„œë²„ ìƒì„± student ì¼ë°˜ ì‚¬ìš©ì ì¶”ê°€ / ë¹„ë°€ë²ˆí˜¸ ì„¤ì • / ê¶Œí•œ ì„¤ì • $ sudo yum update Docker Engine ë°›ê¸°ë„¤íŠ¸ì›Œí¬ ë¸Œë¦¿ì§€ ìƒì„± ì  í‚¨ìŠ¤ ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ë¸Œë¦¿ì§€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì¤€ë¹„í•œë‹¤. # docker network ls Â  : Â  ë„¤íŠ¸ì›Œí¬ ëª©ë¡ í™•ì¸ # docker network create jenkins Â  : Â  Jenkinsì™€ ì»¨í…Œì´ë„ˆê°€ í†µì‹ í•  ë„¤íŠ¸ì›Œí¬ ìƒì„± [student@bitcamp-svr-final ~]$ sudo docker network ls [sudo] password for student: NETWORK ID NAME DRIVER SCOPE f5549640db92 bridge bridge local 01ee24acf253 host host local e7496018f6dd none null local [student@bitcamp-svr-final ~]$ sudo docker network create jenkins 9d944f354e333a0f86aa3ef26e5dc4d67ddc23ede8b17460eaec4eb50b5500b6 [student@bitcamp-svr-final ~]$ sudo docker network ls NETWORK ID NAME DRIVER SCOPE f5549640db92 bridge bridge local 01ee24acf253 host host local 9d944f354e33 jenkins bridge local e7496018f6dd none null local (2) Jenkins Docker ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰Jenkins Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì  í‚¨ìŠ¤ ë„ì»¤ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸° # docker pull jenkins/jenkins:jdk21 Â  : Â  Jenkins Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ # docker image ls Â  : Â  # docker imagesì™€ ê°™ì€ ëª…ë ¹ì–´ì§€ë§Œ ìƒˆë¡œìš´ ëª…ë ¹ êµ¬ì¡° [student@bitcamp-svr-final ~]$ sudo docker pull jenkins/jenkins:jdk21 [sudo] password for student: jdk21: Pulling from jenkins/jenkins b2b31b28ee3c: Already exists cf5313b8439f: Pull complete 131ccd8ae6df: Pull complete 98c40a8886f1: Pull complete 9f48c0cbf990: Pull complete 3eba3e0aca54: Pull complete a3d4294ce7e3: Pull complete 0908c948a73e: Pull complete cd72c4b0ee34: Pull complete 9124c27d77a0: Pull complete 3c3b9bf6160a: Pull complete 8fe50c533fb6: Pull complete Digest: sha256:6bda81af6ef786f7d3687a9ca3009ba932a44d1c199086cec2b6b05f0e004aea Status: Downloaded newer image for jenkins/jenkins:jdk21 docker.io/jenkins/jenkins:jdk21 [student@bitcamp-svr-final ~]$ sudo docker image ls REPOSITORY TAG IMAGE ID CREATED SIZE bitcamp-final-front first b8dc875a08da 18 hours ago 510MB jenkins/jenkins jdk21 9ad7ab5685af 6 days ago 485MB backtoback/bitcamp 0.1 d1eb90b730dc 7 days ago 1.35GB bitcamp-final first d1eb90b730dc 7 days ago 1.35GB &lt;none&gt; &lt;none&gt; d959fe30f57d 7 days ago 1.35GB ubuntu latest fec8bfd95b54 5 weeks ago 78.1MB hello-world latest d2c94e258dcb 19 months ago 13.3kB centos 7 eeb6ee3f44bd 3 years ago 204MB ubuntu 14.04 13b66b487594 3 years ago 197MB ë„ì»¤ ì´ë¯¸ì§€ ë§Œë“¤ê¸° Â  : Â  ì  í‚¨ìŠ¤ Â  + Â  JDK21 Â  + Â  ë„ì»¤ í´ë¼ì´ì–¸íŠ¸ ì‘ì—… ë””ë ‰í† ë¦¬ ìƒì„± í›„ install-docker.sh íŒŒì¼ ìƒì„± [student@bitcamp-svr-final ~]$ mkdir jenkins [student@bitcamp-svr-final ~]$ cd jenkins [student@bitcamp-svr-final jenkins]$ vi install-docker.sh install-docker.sh íŒŒì¼ ë‚´ìš© ë³µì‚¬ í›„ ë¶™ì—¬ ë„£ê¸° #!/bin/sh apt-get update apt-get -y install apt-transport-https \\ apt-utils \\ ca-certificates \\ curl \\ gnupg2 \\ zip \\ unzip \\ acl \\ software-properties-common curl -fsSL https://download.docker.com/linux/$(. /etc/os-release; echo \"$ID\")/gpg &gt; /tmp/dkey; apt-key add /tmp/dkey add-apt-repository \\ \"deb [arch=amd64] https://download.docker.com/linux/$(. /etc/os-release; echo \"$ID\") \\ $(lsb_release -cs) \\ stable\" &amp;&amp; \\ apt-get update apt-get -y install docker-ce ì‘ì„± ì™„ë£Œ í›„ ESC í´ë¦­ í›„ :wq ì…ë ¥ ë„ì»¤ ë¹Œë“œ íŒŒì¼ ìƒì„± [student@bitcamp-svr-final jenkins]$ vi Dockerfile Dockerfile ë‚´ìš© ë³µì‚¬ í›„ ë¶™ì—¬ ë„£ê¸° FROM jenkins/jenkins:jdk21 USER root COPY install-docker.sh /install-docker.sh RUN chmod +x /install-docker.sh RUN /install-docker.sh RUN usermod -aG docker jenkins RUN setfacl -Rm d:g:docker:rwx,g:docker:rwx /var/run/ USER jenkins ë„ì»¤ ì´ë¯¸ì§€ ìƒì„± # docker build -t backtoback/bitcamp:jenkins . [student@bitcamp-svr-final jenkins]$ sudo docker build -t backtoback/bitcamp:jenkins . [sudo] password for student: [+] Building 54.9s (11/11) FINISHED docker:default =&gt; [internal] load build definition from Dockerfile 0.0s =&gt; =&gt; transferring dockerfile: 275B 0.0s =&gt; [internal] load metadata for docker.io/jenkins/jenkins:jdk21 0.0s =&gt; [internal] load .dockerignore 0.0s =&gt; =&gt; transferring context: 2B 0.0s =&gt; [internal] load build context 0.0s =&gt; =&gt; transferring context: 563B 0.0s =&gt; [1/6] FROM docker.io/jenkins/jenkins:jdk21 0.1s =&gt; [2/6] COPY install-docker.sh /install-docker.sh 0.0s =&gt; [3/6] RUN chmod +x /install-docker.sh 0.3s =&gt; [4/6] RUN /install-docker.sh 47.5s =&gt; [5/6] RUN usermod -aG docker jenkins 0.3s =&gt; [6/6] RUN setfacl -Rm d:g:docker:rwx,g:docker:rwx /var/run/ 0.2s =&gt; exporting to image 6.4s =&gt; =&gt; exporting layers 6.4s =&gt; =&gt; writing image sha256:aa2cd2c9ac9a8691ae423ed5721f5d6b0e8f0baabb160 0.0s =&gt; =&gt; naming to docker.io/backtoback/bitcamp:jenkins ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë„ì»¤ í—ˆë¸Œ ì‚¬ì´íŠ¸ì— ì—…ë¡œë“œ í•˜ê¸° # docker login Â  : Â  ì…ë ¥ í›„ usernameê³¼ passwordë¥¼ ì…ë ¥í•˜ë©´ ë¡œê·¸ì¸ ëœë‹¤. # docker push backtoback/bitcamp:jenkins Â  : Â  ë¡œì»¬ì˜ ì´ë¯¸ì§€ë¥¼ ë„ì»¤ í—ˆë¸Œì— ì—…ë¡œë“œ [ì‚¬ìš©ì ì´ë¦„]/[ì €ì¥ì†Œ ì´ë¦„]:[íƒœê·¸] ì‚¬ìš©ì ì´ë¦„ê³¼ ì €ì¥ì†Œ ì´ë¦„ì€ ë„ì»¤ í—ˆë¸Œ ì‚¬ì´íŠ¸ì— ìˆëŠ” ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. [student@bitcamp-svr-final jenkins]$ sudo docker login [sudo] password for student: Authenticating with existing credentials... WARNING! Your password will be stored unencrypted in /root/.docker/config.json. Configure a credential helper to remove this warning. See https://docs.docker.com/engine/reference/commandline/login/#credentials-store Login Succeeded [student@bitcamp-svr-final jenkins]$ sudo docker push backtoback/bitcamp:jenkins The push refers to repository [docker.io/backtoback/bitcamp] 8e837c36d4f1: Pushed 5f69b67c07c9: Pushed 4851e4b39029: Pushed a48de29c78e8: Pushed b337f6f3395b: Pushed c57854c6754d: Pushed d453c9a3f980: Pushed 200df0fdd6da: Pushed a47fce14f185: Pushed fc0b714bfc86: Pushed e2b50ada3c38: Pushed ad429ebafa13: Pushed 452ea6c210d0: Pushed a65090797361: Pushed c18f5e54294a: Pushed a07cdd6d45d1: Pushed 24b5ce0f1e07: Pushed jenkins: digest: sha256:99425d9ccf948a355476118a7ebef6f38459325ec8d98d3982799010fe1d772e size: 3875 ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰í•˜ê¸° Â  (DooD ë°©ì‹) DooD(Docker out of Docker) ë°©ì‹ì€ ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ Docker ë°ëª¬(Docker Engine)ì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ docker ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ, ì‹¤ì œë¡œ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ Docker ë°ëª¬ì´ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. # docker run --privileged -d -v /var/run/docker.sock:/var/run/docker.sock -v jenkins_home:/var/jenkins_home -p 8080:8080 -p 50000:50000 --restart=on-failure --network=\"jenkins\" --name docker-jenkins backtoback/bitcamp:jenkins --privileged ì»¨í…Œì´ë„ˆì— ì¶”ê°€ì ì¸ ê¶Œí•œì„ ë¶€ì—¬ Â  (DooD ë°©ì‹ ê´€ë ¨) -v /var/run/docker.sock:/var/run/docker.sock í˜¸ìŠ¤íŠ¸ì˜ Docker ë°ëª¬ ì†Œì¼“(/var/run/docker.sock)ì„ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ë§ˆìš´íŠ¸í•˜ëŠ” ê²ƒ ì»¨í…Œì´ë„ˆì—ì„œ ë„ì»¤ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´, í˜¸ìŠ¤íŠ¸ì˜ Docker ë°ëª¬ê³¼ ì§ì ‘ í†µì‹  Â  (DooD ë°©ì‹) -v jenkins_home:/var/jenkins_home jenkins_homeë¼ëŠ” ì´ë¦„ì˜ ë„ì»¤ ë³¼ë¥¨ì„ ìƒì„± p 8080:8080 Jenkinsì˜ ì›¹ ì¸í„°í˜ì´ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì˜ 8080 í¬íŠ¸ì—ì„œ ì‹¤í–‰ëœë‹¤. p 50000:50000 Jenkinsì—ì„œ ë…¸ë“œ ê°„ í†µì‹ ì„ ìœ„í•œ í¬íŠ¸ --restart=on-failure ì»¨í…Œì´ë„ˆê°€ ì‹¤íŒ¨ë¡œ ì¢…ë£Œë˜ì—ˆì„ ë•Œ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ Â  (ì˜¤ë¥˜ë¡œ ì¢…ë£Œëœ ê²½ìš°ì—ë§Œ) --network=\"jenkins\" jenkinsë¼ëŠ” ì´ë¦„ì˜ Docker ë„¤íŠ¸ì›Œí¬ë¥¼ ì‚¬ìš© â‡’ ì»¨í…Œì´ë„ˆê°€ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì•ˆì— ìˆëŠ” ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì™€ í†µì‹  ê°€ëŠ¥ --name docker-jenkins backtoback/bitcamp:jenkins backtoback/bitcamp:jenkins ì´ë¯¸ì§€ë¡œ docker-jenkins ì»¨í…Œì´ë„ˆ ìƒì„± [student@bitcamp-svr-final jenkins]$ sudo docker run --privileged -d -v /var/run/docker.sock:/var/run/docker.sock -v jenkins_home:/var/jenkins_home -p 8080:8080 -p 50000:50000 --restart=on-failure --network=\"jenkins\" --name docker-jenkins backtoback/bitcamp:jenkins [sudo] password for student: 7665e5d7a3263b4b24d8b4343a6e720400f4cf6b6e70b64a018fc9cb1ba15b11 [student@bitcamp-svr-final jenkins]$ sudo docker container ls CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESa39e02fc8c88 backtoback/bitcamp:jenkins \"/usr/bin/tini -- /uâ€¦\" 5 seconds ago Up 4 seconds 0.0.0.0:8080-&gt;8080/tcp, 0.0.0.0:50000-&gt;50000/tcp docker-jenkins (ì£¼ì˜!) ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ì¬ìƒì„± í•  ë•Œ, ê¸°ì¡´ ì  í‚¨ìŠ¤ ë³¼ë¥¨ì„ ì œê±°í•˜ê¸° [student@bitcamp-svr-final jenkins]$ sudo docker volume ls DRIVER VOLUME NAME local jenkins_home [student@bitcamp-svr-final jenkins]$ sudo docker rm jenkins_home ì  í‚¨ìŠ¤ ì„¤ì • ì  í‚¨ìŠ¤ ì ê¸ˆì„ í’€ê¸° ìœ„í•´ ê´€ë¦¬ì ì•”í˜¸ ì°¾ì•„ì„œ ë„£ê¸° # docker logs docker-jenkins [student@bitcamp-svr-final2 ~]$ sudo docker logs docker-jenkins Running from: /usr/share/jenkins/jenkins.war webroot: /var/jenkins_home/war 2024-11-26 10:42:10.703+0000 [id=1] INFO winstone.Logger#logInternal: Beginning extraction from war file 2024-11-26 10:42:11.752+0000 [id=1] WARNING o.e.j.ee9.nested.ContextHandler#setContextPath: Empty contextPath 2024-11-26 10:42:11.812+0000 [id=1] INFO org.eclipse.jetty.server.Server#doStart: jetty-12.0.14; built: 2024-09-30T14:22:54.197Z; git: e77516598a07cca826d27fa8a4f7c70e953921a6; jvm 21.0.5+11-LTS 2024-11-26 10:42:12.279+0000 [id=1] INFO o.e.j.e.w.StandardDescriptorProcessor#visitServlet: NO JSP Support for /, did not find org.eclipse.jetty.ee9.jsp.JettyJspServlet 2024-11-26 10:42:12.330+0000 [id=1] INFO o.e.j.s.DefaultSessionIdManager#doStart: Session workerName=node0 2024-11-26 10:42:12.810+0000 [id=1] INFO hudson.WebAppMain#contextInitialized: Jenkins home directory: /var/jenkins_home found at: EnvVars.masterEnvVars.get(\"JENKINS_HOME\") 2024-11-26 10:42:13.008+0000 [id=1] INFO o.e.j.s.handler.ContextHandler#doStart: Started oeje9n.ContextHandler$CoreContextHandler@a518813{Jenkins v2.486,/,b=file:///var/jenkins_home/war/,a=AVAILABLE,h=oeje9n.ContextHandler$CoreContextHandler$CoreToNestedHandler@43d38654{STARTED}} 2024-11-26 10:42:13.019+0000 [id=1] INFO o.e.j.server.AbstractConnector#doStart: Started ServerConnector@772861aa{HTTP/1.1, (http/1.1)}{0.0.0.0:8080} 2024-11-26 10:42:13.032+0000 [id=1] INFO org.eclipse.jetty.server.Server#doStart: Started oejs.Server@422c3c7a{STARTING}[12.0.14,sto=0] @3074ms 2024-11-26 10:42:13.033+0000 [id=31] INFO winstone.Logger#logInternal: Winstone Servlet Engine running: controlPort=disabled 2024-11-26 10:42:13.177+0000 [id=30] INFO jenkins.model.Jenkins#&lt;init&gt;: Starting version 2.486 2024-11-26 10:42:13.254+0000 [id=40] INFO jenkins.InitReactorRunner$1#onAttained: Started initialization 2024-11-26 10:42:13.264+0000 [id=39] INFO jenkins.InitReactorRunner$1#onAttained: Listed all plugins 2024-11-26 10:42:14.162+0000 [id=40] INFO jenkins.InitReactorRunner$1#onAttained: Prepared all plugins 2024-11-26 10:42:14.166+0000 [id=40] INFO jenkins.InitReactorRunner$1#onAttained: Started all plugins 2024-11-26 10:42:14.172+0000 [id=38] INFO jenkins.InitReactorRunner$1#onAttained: Augmented all extensions 2024-11-26 10:42:14.377+0000 [id=38] INFO jenkins.InitReactorRunner$1#onAttained: System config loaded 2024-11-26 10:42:14.377+0000 [id=38] INFO jenkins.InitReactorRunner$1#onAttained: System config adapted 2024-11-26 10:42:14.377+0000 [id=38] INFO jenkins.InitReactorRunner$1#onAttained: Loaded all jobs 2024-11-26 10:42:14.381+0000 [id=38] INFO jenkins.InitReactorRunner$1#onAttained: Configuration for all jobs updated 2024-11-26 10:42:14.483+0000 [id=53] INFO hudson.util.Retrier#start: Attempt #1 to do the action check updates server 2024-11-26 10:42:14.869+0000 [id=39] INFO jenkins.install.SetupWizard#init: ************************************************************* ************************************************************* ************************************************************* Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation: 0d28216e00574ebcb782a149c57702e7 This may also be found at: /var/jenkins_home/secrets/initialAdminPassword ************************************************************* ************************************************************* ************************************************************* 2024-11-26 10:42:19.842+0000 [id=39] INFO jenkins.InitReactorRunner$1#onAttained: Completed initialization 2024-11-26 10:42:19.902+0000 [id=30] INFO hudson.lifecycle.Lifecycle#onReady: Jenkins is fully up and running 2024-11-26 10:42:21.805+0000 [id=53] INFO h.m.DownloadService$Downloadable#load: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller 2024-11-26 10:42:21.805+0000 [id=53] INFO hudson.util.Retrier#start: Performed the action check updates server successfully at the attempt #1 /var/jenkins_home/secrets/initialAdminPassword íŒŒì¼ì— ì €ì¥ëœ ì•”í˜¸ê°€ ë³´ì¸ë‹¤. ì  í‚¨ìŠ¤ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ Jenkins ì›¹ UIì— ì ‘ì†í•œë‹¤. Â  Â  (http://ì„œë²„IP:8080) í¬íŠ¸ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„± ì‹œ ì§€ì •í•œ í¬íŠ¸ì´ë‹¤. ìœ„ì—ì„œ ì°¾ì€ ê´€ë¦¬ì ì•”í˜¸ë¥¼ ë„£ì–´ì¤€ë‹¤. â€œInstall suggested pluginsâ€ í´ë¦­ ì²« ë²ˆì§¸ ì  í‚¨ìŠ¤ ê´€ë¦¬ì ë“±ë¡ ê³„ì •ëª…: admin ì•”í˜¸: 1111 ì•”í˜¸í™•ì¸: 1111 ì´ë¦„: admin ì´ë©”ì¼ì£¼ì†Œ: xxx@xxx.xxx ì  í‚¨ìŠ¤ ë£¨íŠ¸ URL ì„¤ì • http://ì„œë²„IP:8080 ìë™ ì…ë ¥ë˜ì–´ ìˆë‹¤. Start Using Jenkins í´ë¦­ (3) ì  í‚¨ìŠ¤ í™˜ê²½ ì„¤ì •JDK ë° Gradle ì„¤ì • Dashboard / Jenkins ê´€ë¦¬ System Configuration / Tools JDK Add JDK í´ë¦­ Name: OpenJDK-21 JAVA_HOME: /opt/java/openjdk Apply í´ë¦­ Gradle Add Gradle í´ë¦­ Name: Gradle 8.7 Install automatically: ì²´í¬ Version: 8.7 ì„ íƒ Apply í´ë¦­ Node.js ì„¤ì • Dashboard / Jenkins ê´€ë¦¬ í”ŒëŸ¬ê·¸ì¸ ê´€ë¦¬ Available plugins ì„ íƒ Nodejs ê²€ìƒ‰ NodeJS ì²´í¬ Install without restart í´ë¦­ System Configuration / Global Tool Configuration (= Tools) NodeJS Add NodeJS í´ë¦­ Name: NodeJS 18.16.0 Install automatically: ì²´í¬ Version: 18.16.0 ì„ íƒ Apply í´ë¦­ ****(ì£¼ì˜!) jenkins/jenkins:lts-jdk11 ì„ ì„¤ì¹˜í–ˆì„ ê²½ìš° ìš°ë¦¬ëŠ” $ sudo docker pull jenkins/jenkins:jdk21 ì´ê²ƒì„ ì„¤ì¹˜í–ˆë‹¤. JDK 17 ì„¤ì¹˜ root ì‚¬ìš©ìë¡œ ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ê¸° í˜¸ìŠ¤íŠ¸# docker exec -itu 0 jenkins-jdk11 bash ì»¨í…Œì´ë„ˆ/# apt-get update ì»¨í…Œì´ë„ˆ/# apt-get install openjdk-17-jdk -y ì  í‚¨ìŠ¤ì— JDK 17 ê²½ë¡œ ë“±ë¡ Jenkins ê´€ë¦¬ Global Tool Configuration JDK Add JDK í´ë¦­ Name: OpenJDK-17 JAVA_HOME: /usr/lib/jvm/java-17-openjdk-amd64 SAVE í´ë¦­ (4) Jenkinsì— í”„ë¡œì íŠ¸ ë“±ë¡ ë° ìë™ ë°°í¬í•˜ê¸°github.comì˜ í”„ë¡œì íŠ¸ ì—°ë™ Dashboard Â  â‡’ Â  ìƒˆë¡œìš´ Item Enter an item name Â  : Â  bitcamp-final Freestyle project í´ë¦­ OK í´ë¦­ ì„¤ì • General ì„¤ëª… Â  : Â  bitcamp-final ë¹Œë“œ GitHub project ì²´í¬ Project url Â  : Â  https://github.com/backnback/bitcamp-final.git General â‡’ ì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬ Git ì„ íƒ Repository url Â  : Â  https://github.com/backnback/bitcamp-final.git Credentials Â  : Â  (pushë¥¼ í•  ê²½ìš°) Add ë²„íŠ¼ í´ë¦­ Â  : Â  Add Jenkins ì„ íƒ Username with Password ì„ íƒ Username Â  : Â  ê¹ƒí—ˆë¸Œ ì‚¬ìš©ìì´ë¦„ Password Â  : Â  ê¹ƒí—ˆë¸Œ í† í° â€˜Addâ€™ í´ë¦­ Username/í† í° ì„ íƒ Branch Specifier Â  : Â  */main General â‡’ Triggers Â  (ë¹Œë“œ ìœ ë°œ) GitHub hook trigger for GITScm polling ì„ íƒ General â‡’ Environment Â  (ë¹Œë“œ í™˜ê²½) Provide Node &amp; npm bin/ foler to PATH ì²´í¬ NodeJS 18.16.0 ì„ íƒ General â‡’ Build Steps Invoke Gradle script ì„ íƒ Invoke Gradle ì„ íƒ Gradle Version Â  : Â  Gradle 8.7 ì„ íƒ Tasks clean build ì…ë ¥ ì €ì¥í•˜ê¸° ì§€ê¸ˆ ë¹Œë“œ í´ë¦­ Console Output í™•ì¸ Started by user admin Running as SYSTEM Building in workspace /var/jenkins_home/workspace/bitcamp-final The recommended git tool is: NONE using credential b278040e-7116-4257-b06e-f8644b4be52c Cloning the remote Git repository Cloning repository https://github.com/backnback/bitcamp-final &gt; git init /var/jenkins_home/workspace/bitcamp-final # timeout=10 Fetching upstream changes from https://github.com/backnback/bitcamp-final &gt; git --version # timeout=10 &gt; git --version # 'git version 2.39.5' using GIT_ASKPASS to set credentials &gt; git fetch --tags --force --progress -- https://github.com/backnback/bitcamp-final +refs/heads/*:refs/remotes/origin/* # timeout=10 &gt; git config remote.origin.url https://github.com/backnback/bitcamp-final # timeout=10 &gt; git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10 Avoid second fetch &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10 Checking out Revision 64f00f28f271fee84be00d134599a0d1e00cf84e (refs/remotes/origin/main) &gt; git config core.sparsecheckout # timeout=10 &gt; git checkout -f 64f00f28f271fee84be00d134599a0d1e00cf84e # timeout=10 Commit message: \"Merge pull request #121 from backnback/orbit\" First time build. Skipping changelog. Unpacking https://nodejs.org/dist/v18.16.0/node-v18.16.0-linux-x64.tar.gz to /var/jenkins_home/tools/jenkins.plugins.nodejs.tools.NodeJSInstallation/NodeJS_18.16.0 on Jenkins [Gradle] - Launching build. Unpacking https://services.gradle.org/distributions/gradle-8.7-bin.zip to /var/jenkins_home/tools/hudson.plugins.gradle.GradleInstallation/Gradle_8.7 on Jenkins [bitcamp-final] $ /var/jenkins_home/tools/hudson.plugins.gradle.GradleInstallation/Gradle_8.7/bin/gradle clean build Welcome to Gradle 8.7! Here are the highlights of this release: - Compiling and testing with Java 22 - Cacheable Groovy script compilation - New methods in lazy collection properties For more details see https://docs.gradle.org/8.7/release-notes.html Starting a Gradle Daemon (subsequent builds will be faster) &gt; Task :app:clean UP-TO-DATE &gt; Task :app:compileJava Note: /var/jenkins_home/workspace/bitcamp-final/app/src/main/java/bitcamp/project/service/impl/UserServiceImpl.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details. &gt; Task :app:processResources &gt; Task :app:classes &gt; Task :app:bootJarMainClassName &gt; Task :app:bootJar &gt; Task :app:jar SKIPPED &gt; Task :app:assemble &gt; Task :app:compileTestJava &gt; Task :app:processTestResources &gt; Task :app:testClasses &gt; Task :app:test &gt; Task :app:check &gt; Task :app:build BUILD SUCCESSFUL in 2m 16s 8 actionable tasks: 7 executed, 1 up-to-date Build step 'Invoke Gradle script' changed build result to SUCCESS Finished: SUCCESS ë¦¬ëˆ…ìŠ¤ ì„œë²„ì—ì„œ í™•ì¸ $ sudo docker exec -itu 0 docker-jenkins bash ì ‘ì† # cd /var/jenkins_home/workspace/ [student@bitcamp-svr-final jenkins]$ sudo docker exec -itu 0 docker-jenkins bash [sudo] password for student: root@7665e5d7a326:/# root@7665e5d7a326:/# cd /var/jenkins_home/workspace/ root@7665e5d7a326:/var/jenkins_home/workspace# ls bitcamp-final bitcamp-final@tmp github webhook ì—°ë™ ê¹ƒí—ˆë¸Œ [Repository] Â  Â  â‡’ Â  Â  Settings Â  Â  â‡’ Â  Â  Webhooks Add webook í´ë¦­ Payload URL Â  : Â  http://ì  í‚¨ìŠ¤ì„œë²„ì£¼ì†Œ:8080/github-webhook/ Content type Â  : Â  application/json ì €ì¥ ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ docker ì´ë¯¸ì§€ ìƒì„± ë° ë„ì»¤ í—ˆë¸Œì— push í•˜ê¸° Jenkinsì˜ Dashboard bitcamp-final Freestyle ì•„ì´í…œ ì„ íƒ êµ¬ì„± íƒ­ ì„ íƒ Build Steps Add build step Â  : Â  Execute shell í´ë¦­ docker build -t [dockerHub UserName]/[dockerHub Repository]:[version] . Dockerfileì„ ì‚¬ìš©í•˜ì—¬ backtoback/bitcamp-finalì´ë¼ëŠ” ì´ë¦„ì˜ ì´ë¯¸ì§€ ë¹Œë“œ docker login -u 'ë„ì»¤í—ˆë¸Œì•„ì´ë””' -p 'ë„ì»¤í—ˆë¸Œë¹„ë²ˆ' docker.io docker push [dockerHub UserName]/[dockerHub Repository]:[version] docker build -t backtoback/bitcamp-final:1.0 . docker login -u backtoback -p ë¹„ë°€ë²ˆí˜¸ docker.io docker push backtoback/bitcamp-final:1.0 ì €ì¥í•˜ê¸° /var/run/docker.sockì˜ permission denied ë°œìƒí•˜ëŠ” ê²½ìš° Started by GitHub push by backnback Running as SYSTEM Building in workspace /var/jenkins_home/workspace/bitcamp-final The recommended git tool is: NONE using credential b278040e-7116-4257-b06e-f8644b4be52c &gt; git rev-parse --resolve-git-dir /var/jenkins_home/workspace/bitcamp-final/.git # timeout=10 Fetching changes from the remote Git repository &gt; git config remote.origin.url https://github.com/backnback/bitcamp-final # timeout=10 Fetching upstream changes from https://github.com/backnback/bitcamp-final &gt; git --version # timeout=10 &gt; git --version # 'git version 2.39.5' using GIT_ASKPASS to set credentials &gt; git fetch --tags --force --progress -- https://github.com/backnback/bitcamp-final +refs/heads/*:refs/remotes/origin/* # timeout=10 &gt; git rev-parse refs/remotes/origin/main^{commit} # timeout=10 Checking out Revision 6f2200860b02e5c58f22c5af171aa2ef53cf30e2 (refs/remotes/origin/main) &gt; git config core.sparsecheckout # timeout=10 &gt; git checkout -f 6f2200860b02e5c58f22c5af171aa2ef53cf30e2 # timeout=10 Commit message: \"Merge pull request #122 from backnback/backnback\" &gt; git rev-list --no-walk 64f00f28f271fee84be00d134599a0d1e00cf84e # timeout=10 [Gradle] - Launching build. [bitcamp-final] $ /var/jenkins_home/tools/hudson.plugins.gradle.GradleInstallation/Gradle_8.7/bin/gradle clean build Starting a Gradle Daemon (subsequent builds will be faster) &gt; Task :app:clean &gt; Task :app:compileJava Note: /var/jenkins_home/workspace/bitcamp-final/app/src/main/java/bitcamp/project/service/impl/UserServiceImpl.java uses or overrides a deprecated API. Note: Recompile with -Xlint:deprecation for details. &gt; Task :app:processResources &gt; Task :app:classes &gt; Task :app:bootJarMainClassName &gt; Task :app:bootJar &gt; Task :app:jar SKIPPED &gt; Task :app:assemble &gt; Task :app:compileTestJava &gt; Task :app:processTestResources &gt; Task :app:testClasses &gt; Task :app:test &gt; Task :app:check &gt; Task :app:build BUILD SUCCESSFUL in 17s 8 actionable tasks: 8 executed Build step 'Invoke Gradle script' changed build result to SUCCESS [bitcamp-final] $ /bin/sh -xe /tmp/jenkins12607953437281659352.sh + docker build -t backtoback/bitcamp-final:1.0 . ERROR: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Head \"http://%2Fvar%2Frun%2Fdocker.sock/_ping\": dial unix /var/run/docker.sock: connect: permission denied Build step 'Execute shell' marked build as failure Finished: FAILURE git push í›„ Jenkins UIì—ì„œ ë³´ë‹ˆ /var/run/docker.sock: connect: permission deniedê°€ ë°œìƒí–ˆë‹¤. í˜¸ìŠ¤íŠ¸# chmod 666 /var/run/docker.sock [student@bitcamp-svr-final jenkins]$ sudo chmod 666 /var/run/docker.sock [sudo] password for student: Dockerfileì´ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ ë°œìƒ ..... BUILD SUCCESSFUL in 18s 8 actionable tasks: 8 executed Build step 'Invoke Gradle script' changed build result to SUCCESS [bitcamp-final] $ /bin/sh -xe /tmp/jenkins3289070697202538191.sh + docker build -t backtoback/bitcamp-final:1.0 . #0 building with \"default\" instance using docker driver #1 [internal] load build definition from Dockerfile #1 transferring dockerfile: 2B done #1 DONE 0.0s ERROR: failed to solve: failed to read dockerfile: open Dockerfile: no such file or directory Build step 'Execute shell' marked build as failure Finished: FAILURE bitcamp-finalì˜ Dockerfile ë§Œë“¤ê¸° FROM openjdk:21-jdk ARG JAR_FILE=app/build/libs/bitcamp-final.jar COPY ${JAR_FILE} bitcamp-final.jar ENTRYPOINT [ \"java\", \"-jar\", \"bitcamp-final.jar\" ] Git Push í›„ Jenkins UIì™€ Docker Hubë¥¼ í™•ì¸í•˜ë©´ ì„±ê³µí•œ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. Started by GitHub push by backnback Running as SYSTEM Building in workspace /var/jenkins_home/workspace/bitcamp-final ... Starting a Gradle Daemon (subsequent builds will be faster) &gt; Task :app:clean &gt; Task :app:compileJava ... BUILD SUCCESSFUL in 17s 8 actionable tasks: 8 executed Build step 'Invoke Gradle script' changed build result to SUCCESS [bitcamp-final] $ /bin/sh -xe /tmp/jenkins6351348835620207006.sh + docker build -t backtoback/bitcamp-final:1.0 . #0 building with \"default\" instance using docker driver #1 [internal] load build definition from Dockerfile #1 transferring dockerfile: 194B done #1 DONE 0.0s #2 [internal] load metadata for docker.io/library/openjdk:21-jdk #2 DONE 2.6s #3 [internal] load .dockerignore #3 transferring context: 2B done #3 DONE 0.0s #4 [1/2] FROM docker.io/library/openjdk:21-jdk@sha256:af9de795d1f8d3b6172f6c55ca9ba1c5768baa11bb2dc8af7045c7db9d4c33ac #4 resolve docker.io/library/openjdk:21-jdk@sha256:af9de795d1f8d3b6172f6c55ca9ba1c5768baa11bb2dc8af7045c7db9d4c33ac 0.0s done #4 sha256:af9de795d1f8d3b6172f6c55ca9ba1c5768baa11bb2dc8af7045c7db9d4c33ac 1.04kB / 1.04kB done #4 sha256:c67f402f77197f2e6ae84ff1fca868699ce3b38bfa78604524051420fa2e4383 954B / 954B done #4 sha256:079114de2be199f2ae0f7766ac0187d24a0c3a2d658fc51bffc6af5b8bd85469 4.42kB / 4.42kB done #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 0B / 44.96MB 0.2s #4 sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 0B / 15.03MB 0.2s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 0B / 203.93MB 0.2s #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 10.49MB / 44.96MB 0.5s #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 16.78MB / 44.96MB 0.6s #4 ... #5 [internal] load build context #5 transferring context: 62.71MB 0.5s done #5 DONE 0.7s #4 [1/2] FROM docker.io/library/openjdk:21-jdk@sha256:af9de795d1f8d3b6172f6c55ca9ba1c5768baa11bb2dc8af7045c7db9d4c33ac #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 26.21MB / 44.96MB 0.8s #4 sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 10.49MB / 15.03MB 0.8s #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 31.46MB / 44.96MB 0.9s #4 sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 15.03MB / 15.03MB 0.9s #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 37.75MB / 44.96MB 1.0s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 11.53MB / 203.93MB 1.0s #4 sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 44.96MB / 44.96MB 1.1s done #4 sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 15.03MB / 15.03MB 1.1s done #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 22.02MB / 203.93MB 1.2s #4 extracting sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 0.1s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 34.60MB / 203.93MB 1.4s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 54.53MB / 203.93MB 1.7s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 66.06MB / 203.93MB 1.9s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 79.69MB / 203.93MB 2.1s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 92.27MB / 203.93MB 2.3s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 111.15MB / 203.93MB 2.6s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 124.78MB / 203.93MB 2.8s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 140.51MB / 203.93MB 3.1s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 150.99MB / 203.93MB 3.3s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 170.92MB / 203.93MB 3.7s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 182.45MB / 203.93MB 3.9s #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 195.04MB / 203.93MB 4.1s #4 extracting sha256:5262579e8e45cb87fdc8fb6182d30da3c9e4f1036e02223508f287899ea434c0 2.9s done #4 sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 203.93MB / 203.93MB 4.4s done #4 extracting sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 0.1s #4 extracting sha256:0eab4e2287a59db00ae2d401e107a120e21ac3a291b097faffb1af38a1bc773c 0.6s done #4 extracting sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 0.1s #4 extracting sha256:7c002e8f606286a649b6f6cc6420c9056f7d3075fe3094b9cc33a715ff609335 4.9s done #4 DONE 10.2s #6 [2/2] COPY app/build/libs/bitcamp-final.jar bitcamp-final.jar #6 DONE 1.1s #7 exporting to image #7 exporting layers #7 exporting layers 0.3s done #7 writing image sha256:ff5b7389237cc2b023712d537cd30de204534ffee8bfe8d3470607c544a551fc 0.0s done #7 naming to docker.io/backtoback/bitcamp-final:1.0 done #7 DONE 0.4s + docker login -u backtoback -p dlrkfka8796!! docker.io WARNING! Using --password via the CLI is insecure. Use --password-stdin. WARNING! Your password will be stored unencrypted in /var/jenkins_home/.docker/config.json. Configure a credential helper to remove this warning. See https://docs.docker.com/engine/reference/commandline/login/#credential-stores Login Succeeded + docker push backtoback/bitcamp-final:1.0 The push refers to repository [docker.io/backtoback/bitcamp-final] 0fcc4731f586: Preparing 10359c5dc4ba: Preparing 601b48657e0c: Preparing b42107e74152: Preparing 601b48657e0c: Mounted from library/openjdk 10359c5dc4ba: Mounted from library/openjdk b42107e74152: Mounted from library/openjdk 0fcc4731f586: Pushed 1.0: digest: sha256:fd2ab8a6624a4adfc8fe411d953eb6ab4d70116358fa5f635a265ff890aa2a83 size: 1166 Finished: SUCCESS (5) ìŠ¤í”„ë§ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸°ì‘ì—… ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸° ì‘ì—… ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸° root@bitcamp-jenkins:~# mkdir springboot root@bitcamp-jenkins:~# cd springboot root@bitcamp-jenkins:~/springboot# [student@bitcamp-svr-final ~]$ mkdir springboot [student@bitcamp-svr-final ~]$ cd springboot [student@bitcamp-svr-final springboot]$ ssh key ìƒì„± docker-jenkins ë„ì»¤ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ root@bitcamp-jenkins:~/springboot# docker exec -itu 0 docker-jenkins bash [student@bitcamp-svr-final springboot]$ sudo docker exec -itu 0 docker-jenkins bash [sudo] password for student: root@7665e5d7a326:/# root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# ssh-keygen -t rsa -C \"docker-jenkins-key\" -m PEM -P \"\" -f /root/.ssh/docker-jenkins-key root@7665e5d7a326:/# ssh-keygen -t rsa -C \"docker-jenkins-key\" -m PEM -P \"\" -f /root/.ssh/docker-jenkins-key Generating public/private rsa key pair. Your identification has been saved in /root/.ssh/docker-jenkins-key Your public key has been saved in /root/.ssh/docker-jenkins-key.pub The key fingerprint is: SHA256:5hFiRhI1t3tJv39++4fq6oXmNN6p9jxw2q3htvZCUEA docker-jenkins-key The key's randomart image is: +---[RSA 3072]----+ | oo+ ..E. | | o o . . | | + o .. | | o . +.o | | S o.. | | o o..o. | | . =*+. . | | =o**+o +| | o*B@Bo+B| +----[SHA256]-----+ root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# ls ~/.ssh/ ê²°ê³¼ Â  : Â  docker-jenkins-key docker-jenkins-key.pub root@7665e5d7a326:/# ls ~/.ssh/ docker-jenkins-key docker-jenkins-key.pub root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# cat ~/.ssh/docker-jenkins-key ê°œì¸í‚¤ ë‚´ìš© ì¶œë ¥ root@7665e5d7a326:/# cat ~/.ssh/docker-jenkins-key -----BEGIN RSA PRIVATE KEY----- MIIG4wIBAAKCAYEA1o4NZmOLHINy+vV7UzPmbDoCZ5jhH+xCXEGNHQ0u9P6eH/XO ....... Vu15mf6dOrxaMhe2ix1XaGhFJecHjiUMoXeGtQj/GrRxzkrpuPOv -----END RSA PRIVATE KEY----- root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# cat ~/.ssh/docker-jenkins-key.pub ê³µê°œí‚¤ ë‚´ìš© ì¶œë ¥ root@7665e5d7a326:/# cat ~/.ssh/docker-jenkins-key.pub ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDWjg1mY4scg3L69XtTM+ZsOg ...... rITFA8= docker-jenkins-key SSH-KEY ê°œì¸í‚¤ íŒŒì¼ì„ ì  í‚¨ìŠ¤ í™ˆ í´ë”ì— ë‘ê¸° root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# cp ~/.ssh/docker-jenkins-key /var/jenkins_home/ Jenkinsì—ì„œ SSH í‚¤ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ”ê²ƒ root@ì  í‚¨ìŠ¤ì»¨í…Œì´ë„ˆ:/# chmod +r /var/jenkins_home/docker-jenkins-key íŒŒì¼ ì½ê¸° ê¶Œí•œ ì¶”ê°€ root@7665e5d7a326:/# cp ~/.ssh/docker-jenkins-key /var/jenkins_home/ root@7665e5d7a326:/# chmod +r /var/jenkins_home/docker-jenkins-key root@a39e02fc8c88:/# chmod 600 /var/jenkins_home/docker-jenkins-key root@a39e02fc8c88:/# ls -l /var/jenkins_home/docker-jenkins-key -rw------- 1 root root 2455 Nov 27 00:42 /var/jenkins_home/docker-jenkins-key root@a39e02fc8c88:/# ssh -i /var/jenkins_home/docker-jenkins-key student@211.188.48.5 [student@bitcamp-svr-final ~]$ docker-jenkins ì»¨í…Œì´ë„ˆì˜ SSH-KEY ê³µê°œí‚¤ íŒŒì¼ì„ Hostë¡œ ë³µì‚¬í•´ì˜¤ê¸° root@bitcamp-jenkins:~/springboot# docker cp docker-jenkins:/root/.ssh/docker-jenkins-key.pub ./docker-jenkins-key.pub Docker ì»¨í…Œì´ë„ˆì—ì„œ íŒŒì¼ì„ í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ ë³µì‚¬í•˜ëŠ” ëª…ë ¹ì–´ root@bitcamp-jenkins:~/springboot# cat docker-jenkins-key.pub ê³µê°œí‚¤ ë‚´ìš© ì¶œë ¥ root@a39e02fc8c88:/# read escape sequence [student@bitcamp-svr-final2 ~]$ sudo docker cp docker-jenkins:/root/.ssh/docker-jenkins-key.pub ./docker-jenkins-key.pub [sudo] password for student: Successfully copied 2.56kB to /home/student/docker-jenkins-key.pub [student@bitcamp-svr-final2 ~]$ cat docker-jenkins-key.pub ssh-rsa AAAAB3NzaC1y .... IDIRrkOrNAm/QL/oLWU= docker-jenkins-key ê³µê°œí‚¤ë¥¼ ë³µì‚¬í•œë‹¤. ìŠ¤í”„ë§ë¶€íŠ¸ ì„œë²„ì— SSH-KEY ê³µê°œí‚¤ ë“±ë¡í•˜ê¸° bitcamp-final ì„œë²„ë¡œ ì´ë™ ì¼ë°˜ì‚¬ìš©ì@bitcamp-springboot:~$ sudo -i Root ê¶Œí•œìœ¼ë¡œ ì „í™˜ root@bitcamp-springboot:~# mkdir .ssh root@bitcamp-springboot:~# cd .ssh root@bitcamp-springboot:~/.ssh# vi authorized_keys Jenkins ì»¨í…Œì´ë„ˆì˜ ê³µê°œí‚¤ **ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ ë„£ê¸° [student@bitcamp-svr-final ~]$ sudo -i [root@bitcamp-svr-final ~]# mkdir .ssh [root@bitcamp-svr-final ~]# cd .ssh [root@bitcamp-svr-final .ssh]# vi authorized_keys Jenkinsì— Publish Over SSH í”ŒëŸ¬ê·¸ì¸ ì„¤ì • í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ Jenkins UI Â  â‡’ Â  Dashboard Â  â‡’ Â  Jenkins ê´€ë¦¬ plugins Available plugins íƒ­ Publish Over SSH í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í”ŒëŸ¬ê·¸ì¸ ì—°ë™ Jenkins UI Â  â‡’ Â  Dashboard Â  â‡’ Â  Jenkins ê´€ë¦¬ System(ì‹œìŠ¤í…œ ì„¤ì •) Publish over SSH Passphrase Â  : Â  ì ‘ì†í•˜ë ¤ëŠ” ì»¨í…Œì´ë„ˆì˜ root ì•”í˜¸ Â  &lt;=== Â  ì•”í˜¸ë¡œ ì ‘ì†í•  ë•Œ (SSH í‚¤ì— ì•”í˜¸ê°€ ì„¤ì •ëœ ê²½ìš°ì—ë§Œ ì…ë ¥ Â  â‡’ Â  ì—†ìœ¼ë©´ ë¹„ì›Œë‘ê¸° ) Path to key Â  : Â  docker-jenkins-key Â  &lt;=== Â  SSH-KEYë¡œ ì ‘ì†í•  ë•Œ (private key íŒŒì¼ ê²½ë¡œ, JENKINS_HOME ê¸°ì¤€) ì ˆëŒ€ ê²½ë¡œë¡œ /var/jenkins_home/docker-jenkins-key Key Â  : Â  ê°œì¸í‚¤ íŒŒì¼ì˜ ë‚´ìš© Â  &lt;=== Â  SSH-KEY ê°œì¸í‚¤ íŒŒì¼ì˜ ë‚´ìš©ì„ ì§ì ‘ ì…ë ¥í•  ë•Œ ì¶”ê°€ ë²„íŠ¼ í´ë¦­ SSH Servers Name Â  : Â  ì„ì˜ì˜ ì„œë²„ ì´ë¦„ Â  Â  (ì›í•˜ëŠ” ì´ë¦„ ê¸°ì…) Hostname Â  : Â  ìŠ¤í”„ë§ë¶€íŠ¸ì„œë²„ì˜ IP ì£¼ì†Œ (bitcamp-final ì„œë²„ IP) Username Â  : Â  ì‚¬ìš©ì ì•„ì´ë”” Â  Â  (ì„œë²„ì˜ ì¼ë°˜ ì‚¬ìš©ì ì´ë¦„) ê³ ê¸‰ ë²„íŠ¼ í´ë¦­ Passphrase / Password Â  : Â  studentì˜ ë¹„ë°€ë²ˆí˜¸ Test Configuration ë²„íŠ¼ í´ë¦­ Success OK! Jenkins ì„œë²„ì—ì„œ ìŠ¤í”„ë§ë¶€íŠ¸ ì„œë²„ë¥¼ ì œì–´í•˜ì—¬ ìŠ¤í”„ë§ë¶€íŠ¸ ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸° bitcamp-final ì„œë²„ì—ì„œ docker pull ë° run Jenkins UI Â  â‡’ Â  Dashboard Â  â‡’ Â  bitcamp-final Freestyle ì•„ì´í…œ ì„ íƒ êµ¬ì„± íƒ­ ì„ íƒ Â  â‡’ Â  Environment Â  (ë¹Œë“œ í™˜ê²½) Send files or execute commands over SSH after the build runs ì„ íƒ Transfers Exec command docker login -u 'ë„ì»¤í—ˆë¸Œì•„ì•„ë””' -p 'ë„ì»¤í—ˆë¸Œë¹„ë²ˆ' docker.io ë„ì»¤ í—ˆë¸Œì— ë¡œê·¸ì¸ docker pull [dockerHub UserName]/[dockerHub Repository]:[version] ë„ì»¤ í—ˆë¸Œì—ì„œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸° docker ps -aq --filter name=[containerName] | grep -q . &amp;&amp; docker rm -f $(docker ps -aq --filter name=[containerName]) ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” ì»¨í…Œì´ë„ˆ ì‚­ì œ Â  Â  (â€œbitcamp-finalì´ ë“¤ì–´ê°€ëŠ” ê²ƒâ€) docker run -d --name [containerName] -p 80:80 -v /root/config:/root/config [dockerHub UserName]/[dockerHub Repository]:[version] ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆ ìƒì„±í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•˜ê¸° -v /root/config:/root/config Â  : Â  ì„œë²„ì˜ íŒŒì¼ì„ ì»¨í…Œì´ë„ˆì˜ íŠ¹ì • ìœ„ì¹˜ì— ë³µì‚¬í•˜ëŠ” ê²ƒ docker login -u backtoback -p ë„ì»¤í—ˆë¸Œë¹„ë²ˆ docker.io docker pull backtoback/bitcamp-final:1.0 docker ps -aq --filter name=bitcamp-final | grep -q . &amp;&amp; docker rm -f $(docker ps -aq --filter name=bitcamp-final) docker run -d --name bitcamp-final -p 8080:8080 -v /root/config:/root/config backtoback/bitcamp-final:1.0 í˜„ì¬ ìƒíƒœì—ì„œ Git pushë¥¼ í•˜ë©´ ë„ì»¤ í—ˆë¸Œì— ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ê³  bitcamp-finalìš© ì„œë²„ì— ì»¨í…Œì´ë„ˆê°€ ìƒì„±ëœë‹¤. . ____ _ __ _ _ /\\\\ / ___'_ __ _ _(_)_ __ __ _ \\ \\ \\ \\ ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\ \\\\/ ___)| |_)| | | | | || (_| | ) ) ) ) ' |____| .__|_| |_|_| |_\\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.7.18) 2024-11-27 04:10:28.575 INFO 1 --- [ main] bitcamp.project.App : Starting App using Java 21 on 2946f50c33ac with PID 1 (/bitcamp-final.jar started by root in /) 2024-11-27 04:10:28.578 DEBUG 1 --- [ main] bitcamp.project.App : Running with Spring Boot v2.7.18, Spring v5.3.31 2024-11-27 04:10:28.579 INFO 1 --- [ main] bitcamp.project.App : No active profile set, falling back to 1 default profile: \"default\" 2024-11-27 04:10:28.905 ERROR 1 --- [ main] o.s.boot.SpringApplication : Application run failed org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [bitcamp.project.App]; nested exception is java.io.FileNotFoundException: /root/config/final.properties (No such file or directory) at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:756) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:572) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.18.jar!/:2.7.18] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.7.18.jar!/:2.7.18] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409) ~[spring-boot-2.7.18.jar!/:2.7.18] at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.18.jar!/:2.7.18] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300) ~[spring-boot-2.7.18.jar!/:2.7.18] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289) ~[spring-boot-2.7.18.jar!/:2.7.18] at bitcamp.project.App.main(App.java:34) ~[classes!/:na] at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[bitcamp-final.jar:na] at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[bitcamp-final.jar:na] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[bitcamp-final.jar:na] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[bitcamp-final.jar:na] Caused by: java.io.FileNotFoundException: /root/config/final.properties (No such file or directory) at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na] at java.base/java.io.FileInputStream.open(FileInputStream.java:213) ~[na:na] at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:152) ~[na:na] at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:106) ~[na:na] at java.base/sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:84) ~[na:na] at java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:180) ~[na:na] at org.springframework.core.io.UrlResource.getInputStream(UrlResource.java:187) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:465) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:279) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.31.jar!/:5.3.31] at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.31.jar!/:5.3.31] ... 19 common frames omitted í•˜ì§€ë§Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ê³  ë°”ë¡œ ì¢…ë£Œëœë‹¤. final.properties íŒŒì¼ ë“±ì´ ì—†ì–´ì„œ ê·¸ë ‡ë‹¤. .properties, .env íŒŒì¼ ì„¤ì • final.properties, email.propertis, .env ë„£ì–´ì£¼ê¸° ë„ì»¤ ì»¨ë„¤ì´ë„ˆê°€ ì˜¬ë¼ê°€ëŠ” ì„œë²„(bitcamp-finalìš© ì„œë²„)ì— íŒŒì¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤. nano final.properties nano email.properties nano .env [student@bitcamp-svr-final ~]$ pwd /home/student [student@bitcamp-svr-final ~]$ ls config git ncp-iam-authenticator springboot [student@bitcamp-svr-final ~]$ cd config [student@bitcamp-svr-final config]$ ls email.properties final.properties [student@bitcamp-svr-final config]$ cd .. [student@bitcamp-svr-final ~]$ nano .env [student@bitcamp-svr-final ~]$ ls -a . .bash_history .bash_profile .cache .config .env .gradle .pki .viminfo .. .bash_logout .bashrc config .docker git ncp-iam-authenticator springboot ì¦‰, /home/student/configì— final.properties, email.propertisì„ ë§Œë“¤ê³  /home/student/configì— .envë¥¼ ë§Œë“¤ì—ˆë‹¤. (ë‹¤ë¥´ê²Œ ë§Œë“¤ì–´ë„ ìƒê´€ì—†ë‹¤. ë‚˜ì¤‘ì— ìœ„ì¹˜ë§Œ ì˜ ì§€ì •í•´ì£¼ë©´ ëœë‹¤) Jenkinsë¡œ ì»¨ë„¤ì´ë„ˆë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•  ë•Œ ì„¤ì • íŒŒì¼ë“¤ì„ ì§€ì •í•˜ê¸° Jenkins UI Â  â‡’ Â  Dashboard Â  â‡’ Â  bitcamp-final Freestyle ì•„ì´í…œ ì„ íƒ êµ¬ì„± íƒ­ ì„ íƒ Â  â‡’ Â  Environment Â  (ë¹Œë“œ í™˜ê²½) Send files or execute commands over SSH after the build runs ì„ íƒ Transfers Exec command ìˆ˜ì • ì „ docker run -d --name bitcamp-final -p 8080:8080 -v /root/config:/root/config backtoback/bitcamp-final:1.0 ìˆ˜ì • í›„ docker run -d --name bitcamp-final -p 8080:8080 -v /home/student/.env:/.env -v /home/student/config/final.properties:/root/config/final.properties -v /home/student/config/email.properties:/root/config/email.properties backtoback/bitcamp-final:1.0 Jenkins ìë™ ë°°í¬ ì™„ë£Œ [student@bitcamp-svr-final ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 58f547cfe445 backtoback/bitcamp-final:1.0 \"java -jar bitcamp-fâ€¦\" 19 seconds ago Up 19 seconds 0.0.0.0:8080-&gt;8080/tcp bitcamp-final 5c1df2794973 bitcamp-final-front:first \"docker-entrypoint.sâ€¦\" 3 hours ago Up 3 hours 0.0.0.0:3000-&gt;3000/tcp bitcamp-front-final ë¸Œë¼ìš°ì €ì—ì„œ ì„œë²„ ê³µì¸ IP:3000ì— ì ‘ì†í•˜ë©´ ëœë‹¤. " }, { "title": "bitcamp-final í”„ë¡œì íŠ¸ ë°°í¬í•˜ê¸° 3", "url": "/posts/final-deploy-3/", "categories": "í”„ë¡œì íŠ¸, CICD, Docker", "tags": "Docker, NCP, React, Server", "date": "2024-11-25 19:08:00 +0900", "snippet": "(11) bitcamp-final-front í”„ë¡œì íŠ¸ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°Dokcerfile ìƒì„± í”„ë¡œì íŠ¸ Root ë””ë ‰í† ë¦¬ì— Dockerfile ìƒì„±í•˜ê¸° # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. pack...", "content": "(11) bitcamp-final-front í”„ë¡œì íŠ¸ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸°Dokcerfile ìƒì„± í”„ë¡œì íŠ¸ Root ë””ë ‰í† ë¦¬ì— Dockerfile ìƒì„±í•˜ê¸° # 1. Node.js ê¸°ë°˜ì˜ Alpine ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18-alpine # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ COPY package*.json ./ # 4. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš©) RUN npm install # 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ COPY . . # 6. í¬íŠ¸ ì„¤ì • EXPOSE 3000 # 7. ì•± ì‹¤í–‰ (npm start) CMD [\"npm\", \"start\"] Git push í•˜ì—¬ ì—…ë°ì´íŠ¸ í•´ì¤€ë‹¤. ë¦¬ëˆ…ìŠ¤ ì„œë²„ì—ì„œ bitcamp-final-front(í”„ë¡œì íŠ¸ Repo.)ë¥¼ cloneí•´ì¤€ë‹¤. [student@bitcamp-svr-final ~]$ cd git [student@bitcamp-svr-final git]$ ls bitcamp-final [student@bitcamp-svr-final git]$ git clone https://github.com/backnback/bitcamp-final-front Cloning into 'bitcamp-final-front'... remote: Enumerating objects: 2137, done. remote: Counting objects: 100% (24/24), done. remote: Compressing objects: 100% (23/23), done. remote: Total 2137 (delta 1), reused 6 (delta 1), pack-reused 2113 (from 1) Receiving objects: 100% (2137/2137), 14.82 MiB | 15.65 MiB/s, done. Resolving deltas: 100% (1501/1501), done. Docker ì´ë¯¸ì§€ ë¹Œë“œ bitcamp-final-frontì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ê³  Dockerfileì„ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œë‹¤. sudo docker build -t bitcamp-final-front:first . -t [ì´ë¯¸ì§€ì´ë¦„]:[íƒœê·¸] : íƒœê·¸(tag) ì§€ì • ì˜µì…˜ . : í˜„ì¬ ë””ë ‰í† ë¦¬ (Dockerfileì„ ì°¾ëŠ” ìœ„ì¹˜) [student@bitcamp-svr-final git]$ cd bitcamp-final-front [student@bitcamp-svr-final bitcamp-final-front]$ sudo docker build -t bitcamp-final-front:first . [+] Building 37.8s (11/11) FINISHED docker:default =&gt; [internal] load build definition from Dockerfile 0.0s =&gt; =&gt; transferring dockerfile: 423B 0.0s =&gt; [internal] load metadata for docker.io/library/node:18-alpine 2.4s =&gt; [auth] library/node:pull token for registry-1.docker.io 0.0s =&gt; [internal] load .dockerignore 0.0s =&gt; =&gt; transferring context: 2B 0.0s =&gt; [1/5] FROM docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bff 3.4s =&gt; =&gt; resolve docker.io/library/node:18-alpine@sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bff 0.0s =&gt; =&gt; sha256:7000d2e73f938c4f62fdda6d398d7dffd50e6c129409ae2b1a36ccebf9289ffe 1.72kB / 1.72kB 0.0s =&gt; =&gt; sha256:870e987bd79332f29e9e21d7fa06ae028cfb507bb8bbca058f6eb60f7111cae9 6.20kB / 6.20kB 0.0s =&gt; =&gt; sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 40.09MB / 40.09MB 1.0s =&gt; =&gt; sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 1.39MB / 1.39MB 0.7s =&gt; =&gt; sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 449B / 449B 0.9s =&gt; =&gt; sha256:7e43a2d633d91e8655a6c0f45d2ed987aa4930f0792f6d9dd3bffc7496e44882 7.67kB / 7.67kB 0.0s =&gt; =&gt; extracting sha256:aa6f657bab0c137ad8a7930532dbd7c53338023e828890090a4070f47a2ed65d 2.1s =&gt; =&gt; extracting sha256:f477ea663f1c2a017b6f95e743b5ad72f8ff8bf861b0759a86ba1985f706308f 0.1s =&gt; =&gt; extracting sha256:43c47a581c29baa57713ee0da7af754f3994227b64949cb5e9e4dbbc2108c6cd 0.0s =&gt; [internal] load build context 0.0s =&gt; =&gt; transferring context: 37.40kB 0.0s =&gt; [2/5] WORKDIR /app 0.5s =&gt; [3/5] COPY package*.json ./ 0.1s =&gt; [4/5] RUN npm install 25.5s =&gt; [5/5] COPY . . 0.2s =&gt; exporting to image 5.6s =&gt; =&gt; exporting layers ....... ì´ë¯¸ì§€ ë¹Œë“œ í™•ì¸ $ sudo docker images [student@bitcamp-svr-final bitcamp-final-front]$ sudo docker images REPOSITORY TAG IMAGE ID CREATED SIZE bitcamp-final-front first b8dc875a08da 12 seconds ago 510MB backtoback/bitcamp 0.1 d1eb90b730dc 7 days ago 1.35GB bitcamp-final first d1eb90b730dc 7 days ago 1.35GB &lt;none&gt; &lt;none&gt; d959fe30f57d 7 days ago 1.35GB ubuntu latest fec8bfd95b54 5 weeks ago 78.1MB hello-world latest d2c94e258dcb 19 months ago 13.3kB centos 7 eeb6ee3f44bd 3 years ago 204MB ubuntu 14.04 13b66b487594 3 years ago 197MB bitcamp-final-front ì´ë¯¸ì§€ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸° sudo docker run -d -p 3000:3000 --name bitcamp-final-front bitcamp-final-front:first -d : ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤. [student@bitcamp-svr-final bitcamp-final-front]$ sudo docker run -d -p 3000:3000 --name bitcamp-final-front bitcamp-final-front:first e51e35b65c899ad8f23ba69bb2fd5069d267264b1125f9635bb6130ca2c2c0af [student@bitcamp-svr-final bitcamp-final-front]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e51e35b65c89 bitcamp-final-front:first \"docker-entrypoint.sâ€¦\" 18 seconds ago Up 17 seconds 0.0.0.0:3000-&gt;3000/tcp bitcamp-final-front 506a7a2a9ecb bitcamp-final:first \"/bin/bash\" 6 days ago Up 50 minutes 0.0.0.0:8080-&gt;8080/tcp bitcamp-final http://211.188.48.5:3000 ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ì²« í™”ë©´ì´ ë³´ì¸ë‹¤. ì ‘ì† í›„ ë²¡ì—”ë“œì™€ ì—°ê²°ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ [WebConfig.java] package bitcamp.project; import org.apache.ibatis.session.SqlSessionFactory; import org.mybatis.spring.SqlSessionFactoryBean; import org.mybatis.spring.annotation.MapperScan; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.core.io.support.PathMatchingResourcePatternResolver; import org.springframework.web.servlet.config.annotation.CorsRegistry; import org.springframework.web.servlet.config.annotation.WebMvcConfigurer; import javax.sql.DataSource; @Configuration public class WebConfig implements WebMvcConfigurer { @Override public void addCorsMappings(CorsRegistry registry) { registry.addMapping(\"/**\") .allowedOrigins(\"http://211.188.48.5:3000\", \"http://localhost:3000\") // ë¦¬ì•¡íŠ¸ ì•±ì´ ì‹¤í–‰ë˜ëŠ” ì£¼ì†Œ .allowedMethods(\"GET\", \"POST\", \"PUT\", \"DELETE\") .allowedHeaders(\"Authorization\", \"Content-Type\") .allowCredentials(true); } } allowedOrigins ì„¤ì •ì´ ì˜¬ë°”ë¥´ê²Œ ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ìœ„ì—ì„œ ì„¤ì •í•œ ê²ƒì²˜ëŸ¼ http://211.188.48.5:3000ì„ í—ˆìš©í•´ì¤˜ì•¼ ë²¡ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œê°€ ì—°ê²°ë  ìˆ˜ ìˆë‹¤. ì„¤ì •í–ˆë‹¤ë©´ ê¼­ ë‹¤ì‹œ git pullë¡œ ìµœì‹  ìƒíƒœë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ë°˜ë“œì‹œ build í›„ ì‹¤í–‰í•´ì•¼ í•œë‹¤. % ì°¸ê³  % Nginxë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬í•˜ê¸° # 1. Node.js ê¸°ë°˜ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš© FROM node:18 AS build # 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • WORKDIR /app # 3. package.jsonê³¼ package-lock.jsonì„ ë¨¼ì € ë³µì‚¬ COPY package*.json ./ # 4. ì˜ì¡´ì„± ì„¤ì¹˜ RUN npm install # 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ COPY . . RUN npm run build # 6. Nginx ì´ë¯¸ì§€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì„œë¹™ FROM nginx:alpine # 7. ë¹Œë“œëœ íŒŒì¼ì„ Nginxì˜ ê¸°ë³¸ ì›¹ ì„œë²„ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬ COPY --from=build /app/build /usr/share/nginx/html # 8. Nginx ì„œë²„ë¥¼ ì‹¤í–‰í•  í¬íŠ¸ ì§€ì • EXPOSE 80 # 9. Nginx ì‹¤í–‰ CMD [\"nginx\", \"-g\", \"daemon off;\"] " }, { "title": "DML", "url": "/posts/mysql-dml/", "categories": "ì½”ë”© ì§€ì‹, MySQL, SQL", "tags": "MySQL, DML, ë¬¸ë²•", "date": "2024-11-25 13:04:00 +0900", "snippet": "DML eomcs-docs â†’ sql í´ë” â†’ exam02 # DML(Data Manipulation Language) ë°ì´í„° ë“±ë¡, ë³€ê²½, ì‚­ì œë¥¼ ë‹¤ë£¨ëŠ” SQL ë¬¸ë²• ## insert - ë°ì´í„°ë¥¼ ì…ë ¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²•ì´ë‹¤. /* ì—°ë½ì²˜ í…Œì´ë¸” ìƒì„± */ create table test1 ( ...", "content": "DML eomcs-docs â†’ sql í´ë” â†’ exam02 # DML(Data Manipulation Language) ë°ì´í„° ë“±ë¡, ë³€ê²½, ì‚­ì œë¥¼ ë‹¤ë£¨ëŠ” SQL ë¬¸ë²• ## insert - ë°ì´í„°ë¥¼ ì…ë ¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²•ì´ë‹¤. /* ì—°ë½ì²˜ í…Œì´ë¸” ìƒì„± */ create table test1 ( no int not null, name varchar(20) not null, tel varchar(20) not null, fax varchar(20), pstno varchar(5), addr varchar(200) ); /* PK ì»¬ëŸ¼ ì§€ì • */ alter table test1 add constraint test1_pk primary key (no); /* ìë™ ì¦ê°€ ì»¬ëŸ¼ ì§€ì • */ alter table test1 modify column no int not null auto_increment; - ì „ì²´ ì»¬ëŸ¼ ê°’ ì…ë ¥í•˜ê¸° /* ì»¬ëŸ¼ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ * í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ì„ ì–¸í•œ ì»¬ëŸ¼ ìˆœì„œëŒ€ë¡œ * ê°’ì„ ì§€ì •í•´ì•¼ í•œë‹¤.*/ insert into í…Œì´ë¸”ëª… values(ê°’,....); insert into test1 values(null,'aaa','111','222','10101','seoul'); /* ì»¬ëŸ¼ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. ì´ë•Œ ê°’ì„ ì…ë ¥í•˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœì„œë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤. */ insert into í…Œì´ë¸”ëª…(ì»¬ëŸ¼,ì»¬ëŸ¼,...) values(ê°’,ê°’,...); insert into test1(name,fax,tel,no,pstno,addr) values('bbb','222','111',null,'10101','seoul'); - ê°’ì„ ì…ë ¥í•  ì»¬ëŸ¼ì„ ì„ íƒí•˜ê¸°. ë‹¨ í•„ìˆ˜ ì…ë ¥ ì»¬ëŸ¼ì€ ë°˜ë“œì‹œ ì„ íƒí•´ì•¼ í•œë‹¤. /* no ì»¬ëŸ¼ì€ í•„ìˆ˜ ì…ë ¥ ì»¬ëŸ¼ì´ì§€ë§Œ, ìë™ ì¦ê°€ ì»¬ëŸ¼ì´ê¸° ë•Œë¬¸ì— ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.*/ insert into test1(name,tel) values('ccc','333'); ### ì—¬ëŸ¬ ê°œì˜ ê°’ì„ í•œ ë²ˆì— insert í•˜ê¸° insert into test1(name,tel) values ('aaa', '1111'), ('bbb', '2222'), ('ccc', '3333'); ### select ê²°ê³¼ë¥¼ í…Œì´ë¸”ì— insertí•˜ê¸° create table test2 ( no int primary key auto_increment, fullname varchar(20) not null, phone varchar(20) not null, kor int, eng int, math int ); /* select ê²°ê³¼ë¥¼ í…Œì´ë¸”ì— ë°”ë¡œ ì…ë ¥í•˜ê¸° =&gt; select ê²°ê³¼ì˜ ì»¬ëŸ¼ëª…ê³¼ insert í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª…ì´ ê°™ì„ í•„ìš”ëŠ” ì—†ë‹¤. =&gt; ê·¸ëŸ¬ë‚˜ ê²°ê³¼ì˜ ì»¬ëŸ¼ ê°œìˆ˜ì™€ insert í•˜ë ¤ëŠ” ì»¬ëŸ¼ ê°œìˆ˜ê°€ ê°™ì•„ì•¼ í•œë‹¤. =&gt; ê²°ê³¼ì˜ ì»¬ëŸ¼ íƒ€ì…ê³¼ insert í•˜ë ¤ëŠ” ì»¬ëŸ¼ì˜ íƒ€ì…ì´ ê°™ê±°ë‚˜ ì…ë ¥ í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì´ì–´ì•¼ í•œë‹¤. */ insert into test2(fullname,phone) select name, tel from test1 where addr='seoul'; ## update - ë“±ë¡ëœ ë°ì´í„°ë¥¼ ë³€ê²½í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. update í…Œì´ë¸”ëª… set ì»¬ëŸ¼ëª…=ê°’, ì»¬ëŸ¼ëª…=ê°’, ... where ì¡°ê±´...; update test1 set pstno='11111', fax='222' where no=3; update test1 set tel='3030', fax='1212' where no=2; /* ì¡°ê±´ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ëª¨ë“  ë°ì´í„°ì— ëŒ€í•´ ë³€ê²½í•œë‹¤.*/ update test1 set fax='333'; ## delete - ë°ì´í„°ë¥¼ ì‚­ì œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. delete from í…Œì´ë¸”ëª… where ì¡°ê±´; delete from test1 where no=2 or no=3; /* ì¡°ê±´ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œëœë‹¤. ì£¼ì˜!*/ delete from test1; ## autocommit mysqlì€ autocommitì˜ ê¸°ë³¸ ê°’ì´ trueì´ë‹¤. ë”°ë¼ì„œ ëª…ë ¹ì°½ì—ì„œ SQLì„ ì‹¤í–‰í•˜ë©´ ë°”ë¡œ ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ëœë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ autocommitì„ falseë¡œ ì„¤ì •í•˜ë¼! &gt; set autocommit=false; insert/update/deleteì„ ìˆ˜í–‰í•œ í›„ ìŠ¹ì¸ì„ í•´ì•¼ë§Œ ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ëœë‹¤. &gt; commmit; ë§ˆì§€ë§‰ commit ìƒíƒœë¡œ ë˜ëŒë¦¬ê³  ì‹¶ë‹¤ë©´, &gt; rollback; ì—°ìŠµ1: insert into test1(name, tel) values('xxx', '1111'); insert into test1(name, tel) values('yyy', '2222'); insert into test1(name, tel) values('zzz', '2222'); update test1 set fax='1212' where name='xxx'; delete from test1 where no=1; rollback; /* ì§€ê¸ˆê¹Œì§€ ì‘ì—…í•œ insert, update, deleteì€ ìµœì†Œëœë‹¤.*/ ì—°ìŠµ2: insert into test1(name, tel) values('xxx', '1111'); insert into test1(name, tel) values('yyy', '2222'); insert into test1(name, tel) values('zzz', '2222'); commit; /* ì§€ê¸ˆê¹Œì§€ í•œ ì‘ì—…ì„ í…Œì´ë¸”ì— ì ìš©í•œë‹¤.*/ update test1 set fax='1212' where name='xxx'; delete from test1 where no=1; rollback; /* ë§‰ì§€ë§‰ commit ì´í›„ì— ìˆ˜í–‰í•œ insert, update, deleteì€ ìµœì†Œëœë‹¤.*/ DML (Data Manipulation Language) ë°ì´í„° ë“±ë¡, ë³€ê²½, ì‚­ì œë¥¼ ë‹¤ë£¨ëŠ” SQL ë¬¸ë²• insert, update, deleteinsert ë°ì´í„°ë¥¼ ì…ë ¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²•ì´ë‹¤. í…Œì´ë¸” ìƒì„± (ì—°ë½ì²˜) create table test1 ( no int not null, name varchar(20) not null, tel varchar(20) not null, fax varchar(20), pstno varchar(5), addr varchar(200) ); PK ì»¬ëŸ¼ &amp; ìë™ ì¦ê°€ ì»¬ëŸ¼ ì§€ì • mysql&gt; alter table test1 add constraint test1_pk primary key (no); mysql&gt; alter table test1 modify column no int not null auto_increment; ì „ì²´ ì»¬ëŸ¼ ê°’ ì…ë ¥í•˜ê¸° ì»¬ëŸ¼ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ì„ ì–¸í•œ ì»¬ëŸ¼ ìˆœì„œëŒ€ë¡œ ê°’ì„ ì§€ì •í•´ì•¼ í•œë‹¤. insert into í…Œì´ë¸”ëª… values('aaa', 20, null, ....); mysql&gt; insert into test1 values(null,'aaa','111','222','10101','seoul'); mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+------+-----+------+-------+-------+ | no | name | tel | fax | pstno | addr | +----+------+-----+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | +----+------+-----+------+-------+-------+ noëŠ” PK &amp; ìë™ ì¦ê°€ ì»¬ëŸ¼ìœ¼ë¡œ ì§€ì •ë˜ì–´ì„œ null ì…ë ¥ ì‹œ ìë™ìœ¼ë¡œ ì…ë ¥í•œë‹¤. ì»¬ëŸ¼ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. â‡’ ì´ë•Œ ê°’ì„ ì…ë ¥í•˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœì„œë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤. insert into í…Œì´ë¸”ëª…(name, age, tel, ....) values('aaa', 20, null, ....); mysql&gt; insert into test1(name,fax,tel,no,pstno,addr) values('bbb','222','111',null,'10101','seoul'); mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+------+-----+------+-------+-------+ | no | name | tel | fax | pstno | addr | +----+------+-----+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 111 | 222 | 10101 | seoul | +----+------+-----+------+-------+-------+ MySQLì—ì„œëŠ” ìˆ«ìê°€ ë“¤ì–´ê°ˆ ìë¦¬ì— ë¬¸ìì—´ì„ ë„£ìœ¼ë©´ ìë™ í˜•ë³€í™˜í•œë‹¤. â‡’ ê·¸ëŸ¬ë‚˜ ì´ë ‡ê²Œ ì“°ì§€ ë§ˆë¼ ! mysql&gt; insert into test1(name,fax,tel,no,pstno,addr) values('bbb','222','111','200','10101','seoul'); mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+-----+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+-----+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 111 | 222 | 10101 | seoul | | 200 | bbb | 111 | 222 | 10101 | seoul | +-----+------+-----+------+-------+-------+ í•„ìˆ˜ ì»¬ëŸ¼ë§Œ ì§€ì •í•˜ê¸° ê°’ì„ ì…ë ¥í•  ì»¬ëŸ¼ì„ ì„ íƒí•˜ê¸°. (ë‹¨, í•„ìˆ˜ ì…ë ¥ ì»¬ëŸ¼ì€ ë°˜ë“œì‹œ ì„ íƒí•´ì•¼ í•œë‹¤) **mysql&gt; insert into test1(name,tel) values('ccc','333');** no ì»¬ëŸ¼ì€ í•„ìˆ˜ ì…ë ¥ ì»¬ëŸ¼ì´ì§€ë§Œ, ìë™ ì¦ê°€ ì»¬ëŸ¼ì´ê¸° ë•Œë¬¸ì— ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ ì—¬ëŸ¬ ê°œì˜ ê°’ì„ í•œ ë²ˆì— insert í•˜ê¸° mysql&gt; insert into test1(name,tel) values('ccc','333'); mysql&gt; insert into test1(name,tel) values -&gt; ('aaa', '1111'), -&gt; ('bbb', '2222'), -&gt; ('ccc', '3333'); mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 111 | 222 | 10101 | seoul | | 200 | bbb | 111 | 222 | 10101 | seoul | | 201 | ccc | 333 | NULL | NULL | NULL | | 202 | aaa | 1111 | NULL | NULL | NULL | | 203 | bbb | 2222 | NULL | NULL | NULL | | 204 | ccc | 3333 | NULL | NULL | NULL | +-----+------+------+------+-------+-------+ select ê²°ê³¼ë¥¼ í…Œì´ë¸”ì— insertí•˜ê¸° (select ê²°ê³¼ë¥¼ í…Œì´ë¸”ì— ë°”ë¡œ ì…ë ¥í•˜ê¸°) select ê²°ê³¼ì˜ ì»¬ëŸ¼ëª…ê³¼ insert í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª…ì´ ê°™ì„ í•„ìš”ëŠ” ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ê²°ê³¼ì˜ ì»¬ëŸ¼ ê°œìˆ˜ì™€ insert í•˜ë ¤ëŠ” ì»¬ëŸ¼ ê°œìˆ˜ê°€ ê°™ì•„ì•¼ í•œë‹¤. ê²°ê³¼ì˜ ì»¬ëŸ¼ íƒ€ì…ê³¼ insert í•˜ë ¤ëŠ” ì»¬ëŸ¼ì˜ íƒ€ì…ì´ ê°™ê±°ë‚˜ ì…ë ¥ í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì´ì–´ì•¼ í•œë‹¤. create table test2 ( no int primary key auto_increment, fullname varchar(20) not null, phone varchar(20) not null, kor int, eng int, math int ); mysql&gt; insert into test2(fullname, phone) select no, name, tel from test1 where addr='seoul'; =&gt; êº¼ë‚¸ ì»¬ëŸ¼ì€ 3ê°œì¸ë° ì§€ì •ëœ ì»¬ëŸ¼ì€ 2ê°œ ë¿ì´ë¼ì„œ mysql&gt; insert into test2(fullname, phone) select name, tel from test1 where addr='seoul'; mysql&gt; select * from test2; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+----------+-------+------+------+------+ | no | fullname | phone | kor | eng | math | +----+----------+-------+------+------+------+ | 1 | 1 | aaa | NULL | NULL | NULL | | 2 | 2 | bbb | NULL | NULL | NULL | | 3 | 200 | bbb | NULL | NULL | NULL | | 4 | aaa | 111 | NULL | NULL | NULL | | 5 | bbb | 111 | NULL | NULL | NULL | | 6 | bbb | 111 | NULL | NULL | NULL | +----+----------+-------+------+------+------+ update ë“±ë¡ëœ ë°ì´í„°ë¥¼ ë³€ê²½í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ update í…Œì´ë¸”ëª… set ì»¬ëŸ¼ëª…=ê°’, ì»¬ëŸ¼ëª…=ê°’, â€¦ where ì¡°ê±´ â€¦ ; +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 111 | 222 | 10101 | seoul | | 200 | bbb | 111 | 222 | 10101 | seoul | | 201 | ccc | 333 | NULL | NULL | NULL | | 202 | aaa | 1111 | NULL | NULL | NULL | | 203 | bbb | 2222 | NULL | NULL | NULL | | 204 | ccc | 3333 | NULL | NULL | NULL | +-----+------+------+------+-------+-------+ mysql&gt; update test1 set pstno='11111', fax='222' where no=200; mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 111 | 222 | 10101 | seoul | | 200 | bbb | 111 | 222 | 11111 | seoul | | 201 | ccc | 333 | NULL | NULL | NULL | | 202 | aaa | 1111 | NULL | NULL | NULL | | 203 | bbb | 2222 | NULL | NULL | NULL | | 204 | ccc | 3333 | NULL | NULL | NULL | +-----+------+------+------+-------+-------+ mysql&gt; update test1 set tel='3030', fax='1212' where no=2; mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 222 | 10101 | seoul | | 2 | bbb | 3030 | 1212 | 10101 | seoul | | 200 | bbb | 111 | 222 | 11111 | seoul | | 201 | ccc | 333 | NULL | NULL | NULL | | 202 | aaa | 1111 | NULL | NULL | NULL | | 203 | bbb | 2222 | NULL | NULL | NULL | | 204 | ccc | 3333 | NULL | NULL | NULL | +-----+------+------+------+-------+-------+ ì¡°ê±´ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ëª¨ë“  ë°ì´í„°ì— ëŒ€í•´ ë³€ê²½í•œë‹¤. mysql&gt; update test1 set fax='333'; mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 333 | 10101 | seoul | | 2 | bbb | 3030 | 333 | 10101 | seoul | | 200 | bbb | 111 | 333 | 11111 | seoul | | 201 | ccc | 333 | 333 | NULL | NULL | | 202 | aaa | 1111 | 333 | NULL | NULL | | 203 | bbb | 2222 | 333 | NULL | NULL | | 204 | ccc | 3333 | 333 | NULL | NULL | +-----+------+------+------+-------+-------+ ëª¨ë“  ë°ì´í„°ê°€ ì˜ë¯¸ ì—†ì–´ì§ˆ ìˆ˜ ìˆë‹¤. delete ë°ì´í„°ë¥¼ ì‚­ì œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. delete í…Œì´ë¸”ëª… where ì¡°ê±´ â€¦ ; mysql&gt; delete from test1 where no=2 or no=200; mysql&gt; select * from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----+------+------+------+-------+-------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+-------+ | 1 | aaa | 111 | 333 | 10101 | seoul | | 201 | ccc | 333 | 333 | NULL | NULL | | 202 | aaa | 1111 | 333 | NULL | NULL | | 203 | bbb | 2222 | 333 | NULL | NULL | | 204 | ccc | 3333 | 333 | NULL | NULL | +-----+------+------+------+-------+-------+ ì¡°ê±´ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œëœë‹¤. ì£¼ì˜!! delete from test1; ì‚­ì œëœ ë°ì´í„°ëŠ” ë³µêµ¬ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤. â˜… íŒŒì¼ê³¼ ë³€ê²½/ì‚­ì œ íŒŒì¼ ë°ì´í„° ë³€ê²½ ê¸°ì¡´ ê°’ì„ ì €ì¥í•œ ë¶€ë¶„ì„ ë³€ê²½ íŒŒì¼ ë°ì´í„° ì‚­ì œ ê¸°ì¡´ ê°’ì„ ì €ì¥í•œ ë¶€ë¶„ì„ ì´ˆê¸°í™” ì§€ìš°ë ¤ëŠ” ê¸°ì¡´ ê°’ì„ 0ìœ¼ë¡œ ì´ˆê¸°í™” ì‹œí‚¨ë‹¤. â˜… ë°ì´í„°ë¥¼ ì œê±°í•˜ë ¤ë©´ ë’¤ì˜ ë°ì´í„°ë¥¼ ì•ìœ¼ë¡œ ë‹¹ê²¨ì•¼ í•œë‹¤. (â‡’ ì¦‰, ë³µì‚¬í•´ì•¼ í•œë‹¤) â‡’ ì´ ê³¼ì •ì—ì„œ ì‹œê°„ì´ ë§ì´ ì†Œìš”ëœë‹¤. â‡’ ê·¸ë˜ì„œ ê·¸ëƒ¥ ë°ì´í„°ê°€ ì €ì¥ëœ ë¶€ë¶„ì„ 0ìœ¼ë¡œ ë®ì–´ì“°ëŠ” ê²ƒì´ë‹¤. íŒŒì¼ì˜ íŠ¹ì • ë¶€ë¶„ì„ ì˜ë¼ë‚¼ ìˆ˜ ì—†ë‹¤. â‡’ (1) ì˜ë¼ë‚¼ ë¶€ë¶„ì„ ëº€ ë°ì´í„°ë¥¼ ìƒˆ íŒŒì¼ì— ì“°ê±°ë‚˜ â‡’ (2) ë˜ëŠ” ë’¤ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•  ë¶€ë¶„ìœ¼ë¡œ ë‹¹ê²¨ì•¼ í•œë‹¤. â˜… ì¦‰, ì‚½ì…ì´ë¼ëŠ” ê²ƒì€ ì‹¤ì œë¡œëŠ” ë§¨ ë’¤ì— ë°ì´í„°ë¥¼ ë„£ê³  ë³„ë„ ë°ì´í„°ë¡œ ìœ„ì¹˜ ë°ì´í„°ë¥¼ ê´€ë¦¬í•œë‹¤. autocommit / ìˆ˜ë™ ì»¤ë°‹ â˜… autocommit MySQLì€ autocommitì˜ ê¸°ë³¸ ê°’ì´ trueì´ë‹¤. ë”°ë¼ì„œ ëª…ë ¹ì°½ì—ì„œ SQLì„ ì‹¤í–‰í•˜ë©´ ë°”ë¡œ ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ëœë‹¤. ìˆ˜ë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ autocommitì„ falseë¡œ ì„¤ì •í•˜ë¼! ìˆ˜ë™ ì»¤ë°‹ - commit autocommitì„ falseë¡œ ì„¤ì •í•˜ë©´ insert / update / deleteì„ ìˆ˜í–‰í•œ í›„ ìŠ¹ì¸(commit)ì„ í•´ì•¼ë§Œ ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ëœë‹¤. &gt; commmit; commit ì „ì—ëŠ” ë²„í¼(cache)ë¼ê³  í•˜ëŠ” ì„ì‹œ ì €ì¥ì†Œì— ì‹¤í–‰ ê²°ê³¼ê°€ ë³´ê´€ë˜ê³  commit ëª…ë ¹ì„ í•˜ëŠ” ê²½ìš° ì‹¤ì œ í…Œì´ë¸”ì— ì ìš©ë˜ê³  ë²„í¼ëŠ” ë¹„ì›Œì§„ë‹¤. ìˆ˜ë™ ì»¤ë°‹ - rollback commitì„ í•˜ê¸° ì „ ì‹¤í–‰ ê²°ê³¼ê°€ ë²„í¼ì— ì„ì‹œ ë³´ê´€ë˜ì–´ ìˆì„ ë•Œ selectì„ í•˜ëŠ” ê²½ìš°, DBMSì˜ table ë°ì´í„°ì™€ ë²„í¼ì— ìˆëŠ” ì„ì‹œ ë°ì´í„°ë¥¼ ì¢…í•©í•˜ì—¬ select ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. ì´ë•Œ, ë‹¤ì‹œ ë˜ëŒë¦¬ê³  ì‹¶ë‹¤ë©´ ë²„í¼ë¥¼ rollback ëª…ë ¹ìœ¼ë¡œ ë¹„ì›Œì£¼ë©´ ëœë‹¤. ì¦‰, ë§ˆì§€ë§‰ commit ìƒíƒœë¡œ ë˜ëŒë¦¬ê³  ì‹¶ë‹¤ë©´, &gt; rollback; â‡’ ì´ë ‡ê²Œ í•˜ë©´ ë²„í¼ì˜ ë°ì´í„°ê°€ ì‹¹ ë‚ ì•„ê° (commit í•´ë´¤ì ì˜ë¯¸ ì—†ìŒ) clientì™€ commit â˜…â˜… Client1 : autocommit = false ì¸ ê²½ìš° mysql&gt; set autocommit = false; insert / update / delete ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ insert into test1(name, tel) values('xxx', '1111'); insert into test1(name, tel) values('yyy', '2222'); insert into test1(name, tel) values('zzz', '2222'); ThreadëŠ” ëª…ë ¹ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë²„í¼(chache)ì— ì„ì‹œ ë³´ê´€í•œë‹¤. ì´í›„ select ëª…ë ¹ ì‹œ mysql&gt; select * from test1 ThreadëŠ” DMBSì—ì„œ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ë²„í¼ì—ì„œ ì„ì‹œ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤. í…Œì´ë¸” ë°ì´í„°ì™€ ì„ì‹œ ë°ì´í„°ë¥¼ ì¢…í•©í•˜ì—¬ selectí•œ ê²°ê³¼ë¥¼ ë¦¬í„´í•œë‹¤. (selectí•œ ê²°ê³¼ë¥¼ ë²„í¼ì— ì„ì‹œ ë³´ê´€í•œë‹¤) +-----+------+------+------+-------+------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+------+ | 205 | xxx | 1111 | NULL | NULL | NULL | | 206 | yyy | 2222 | NULL | NULL | NULL | | 207 | zzz | 2222 | NULL | NULL | NULL | +-----+------+------+------+-------+------+ â‡’ í˜„ì¬ ìƒíƒœëŠ” ëª…ë ¹ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì‹¤ì œ í…Œì´ë¸”ì— ë°˜ì˜ì„ í•˜ì§€ ì•ŠëŠ” ìƒíƒœì´ë‹¤. â‡’ í•œ ë²ˆ select ê²°ê³¼ë¥¼ cacheí•˜ë©´ ì›ë³¸ í…Œì´ë¸”ì´ ë°”ë€Œë˜ ì•ˆ ë°”ë€ë˜ ìƒê´€ì•ˆí•œë‹¤. â˜… â‡’ ë³´ê´€ì€ ì–¸ì œê¹Œì§€? commit/rollbackí•´ì„œ ë²„í¼ë¥¼ ë¹„ìš¸ ë•Œê¹Œì§€ ë³´ê´€í•´ë‘”ë‹¤. (ë³´ê´€ì´ë¼ëŠ” ì˜ë¯¸ëŠ” ë°ì´í„° ìœ„ì¹˜ ì •ë³´ë§Œ) â‡’ select í•  ë•ŒëŠ” ì´ ë³´ê´€ì†Œì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤. â˜… Client2 : autocommit = true ì¸ ë˜ ë‹¤ë¥¸ Client ì¶”ê°€ select ë¬¸ì„ ì‹¤í–‰í•œë‹¤. Threadê°€ DBMSì—ì„œ ì‹¤ì œ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤. ì¡°íšŒí•œ ê²°ê³¼ë¥¼ ë¦¬í„´í•œë‹¤. mysql&gt; select * from test1; Empty set (0.00 sec) (í…Œì´ë¸”ì—ëŠ” ë°ì´í„° ì—†ìŒ ì¦ëª…) â‡’ Client1ì—ì„œ commitì„ í•˜ì§€ ì•Šì€ ìƒíƒœë¡œ insert ì‹¤í–‰ ê²°ê³¼ê°€ ë°˜ì˜ë˜ì§€ ì•Šì•˜ë‹¤. ë”°ë¼ì„œ í˜„ì¬ í…Œì´ë¸”ì—” ì•„ë¬´ ë°ì´í„°ê°€ ì—†ëŠ” ìƒíƒœì´ë‹¤. (0ê°œ) Client1 &amp; Client2 Client1ì—ì„œ commit ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ë¥¼ ë°˜ì˜ì‹œí‚¤ê³  ë‹¤ì‹œ select ëª…ë ¹ ì‹¤í–‰í•œë‹¤. mysql&gt; select * from test1; +-----+------+------+------+-------+------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+------+ | 205 | xxx | 1111 | NULL | NULL | NULL | | 206 | yyy | 2222 | NULL | NULL | NULL | | 207 | zzz | 2222 | NULL | NULL | NULL | +-----+------+------+------+-------+------+ Client2ì—ì„œ insertë¡œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€í•œ í›„ select ëª…ë ¹ ì‹¤í–‰í•œë‹¤. (Client1ì—ì„œ ì¶”ê°€í•œ ë°ì´í„° 3ê°œì™€ Client2ì—ì„œ ì¶”ê°€í•œ ë°ì´í„°ê°€ ì˜ ë‚˜íƒ€ë‚œë‹¤) mysql&gt; select * from test1; +-----+------+------+------+-------+------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+------+ | 205 | xxx | 1111 | NULL | NULL | NULL | | 206 | yyy | 2222 | NULL | NULL | NULL | | 207 | zzz | 2222 | NULL | NULL | NULL | | 208 | aaa | 0000 | NULL | NULL | NULL | +-----+------+------+------+-------+------+ ë‹¤ì‹œ Client1ì—ì„œ select ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤. â‡’ Client2ì—ì„œ ì¶”ê°€í•œ ë°ì´í„°ê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. mysql&gt; select * from test1; +-----+------+------+------+-------+------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+------+ | 205 | xxx | 1111 | NULL | NULL | NULL | | 206 | yyy | 2222 | NULL | NULL | NULL | | 207 | zzz | 2222 | NULL | NULL | NULL | +-----+------+------+------+-------+------+ Client2ì—ì„œ ì¶”ê°€ë¡œ ë°ì´í„° 3ê°œë¥¼ insert í•œë‹¤. Client1ì—ì„œ commit ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  select ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤. (ì´ ìˆœê°„ Client2ì—ì„œ ì¶”ê°€í–ˆë˜ ë°ì´í„°ë“¤ì„ ê°€ì ¸ì˜¨ë‹¤) mysql&gt; select * from test1; +-----+------+------+------+-------+------+ | no | name | tel | fax | pstno | addr | +-----+------+------+------+-------+------+ | 205 | xxx | 1111 | NULL | NULL | NULL | | 206 | yyy | 2222 | NULL | NULL | NULL | | 207 | zzz | 2222 | NULL | NULL | NULL | | 208 | aaa | 0000 | NULL | NULL | NULL | | 209 | xxx | 1111 | NULL | NULL | NULL | | 210 | yyy | 2222 | NULL | NULL | NULL | | 211 | aaa | 0000 | NULL | NULL | NULL | +-----+------+------+------+-------+------+ ì¡°ì‹¬í•´ì•¼ í•  ê²ƒì€ DBMS ë§ˆë‹¤ ì´ëŸ¬í•œ ì‘ë™ ë°©ì‹ì´ ì‚´ì§ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì´ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ insert / update / deleteí•˜ê²Œ ë˜ë©´ ê·¸ ê²°ê³¼ëŠ” ì„ì‹œ ë²„í¼ì— ë³´ê´€ëœë‹¤. selectë¥¼ í•˜ê²Œ ë˜ë©´ í…Œì´ë¸”ì˜ ê°’ê³¼ ì„ì‹œ ë²„í¼ì— ë³´ê´€ëœ ê°’ì„ ì¡°í•©í•˜ì—¬ returní•˜ëŠ”ë°, ì¤‘ìš”í•œ ê²ƒì€ í…Œì´ë¸”ì˜ ê°’ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ëœ ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë‹¤. â˜… ê·¸ëŸ¬ë¯€ë¡œ commitì„ ë¨¼ì € í•˜ê³  select í•´ì•¼ í•œë‹¤ ì¦‰, autocommitì´ falseì¸ ìƒíƒœì¼ ë•Œ selectë¥¼ í•˜ê²Œ ë˜ë©´ ì‹¤ì œ í…Œì´ë¸”ì˜ ê°’ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒì„ ê°ì•ˆí•´ì•¼ í•œë‹¤. ë˜, ë‹¤ë¥¸ clientì—ì„œëŠ” ì„ì‹œ ë²„í¼ì— ìˆëŠ” ê²°ê³¼ëŠ” ê°€ì ¸ì˜¤ì§€ ëª»í•œë‹¤. â˜… commitì„ í†µí•´ ë°˜ì˜ì‹œì¼œì•¼ë§Œ ë‹¤ë¥¸ clientì—ì„œë„ ê·¸ ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì—°ìŠµ1:insert into test1(name, tel) values('xxx', '1111');insert into test1(name, tel) values('yyy', '2222');insert into test1(name, tel) values('zzz', '2222');update test1 set fax='1212' where name='xxx';delete from test1 where no=1;rollback; /* ì§€ê¸ˆê¹Œì§€ ì‘ì—…í•œ insert, update, deleteì€ ìµœì†Œëœë‹¤.*/ì—°ìŠµ2:insert into test1(name, tel) values('xxx', '1111');insert into test1(name, tel) values('yyy', '2222');insert into test1(name, tel) values('zzz', '2222');commit; /* ì§€ê¸ˆê¹Œì§€ í•œ ì‘ì—…ì„ í…Œì´ë¸”ì— ì ìš©í•œë‹¤.*/update test1 set fax='1212' where name='xxx';delete from test1 where no=1;rollback; /* ë§‰ì§€ë§‰ commit ì´í›„ì— ìˆ˜í–‰í•œ insert, update, deleteì€ ìµœì†Œëœë‹¤.*/íŠ¸ëœì­ì…˜ (transaction) íŠ¸ëœì­ì…˜ (transaction) ì—¬ëŸ¬ ê°œì˜ ì‘ì—…ì„ í•œ ë‹¨ìœ„ë¡œ ë¬¶ì€ ê²ƒ (ì‘ì—… : insert / update / delete) â‡’ ìˆ˜ë™ ì»¤ë°‹ì„ ì„¤ì •í•˜ëŠ” ê²½ìš° â‡’ â€œcommit / rollbackâ€ìœ¼ë¡œ ì œì–´ ì˜ˆì‹œ â€œí‡´ì‚¬â€ë¼ëŠ” íŠ¸ëœì­ì…˜ íšŒì‚¬ ëŒ€ì¶œ ì™„ë‚© + ì›”ê¸‰ ë¯¸ì •ì‚°ë¶„ ì •ì‚° + ëŒ€ì—¬ ë¬¼í’ˆ ë°˜ë‚© ë“± â€œê³„ì¢Œì´ì²´â€ë¼ëŠ” íŠ¸ëœì­ì…˜ ë‚˜ì˜ ê³„ì¢Œ(-) â‡’ ìƒëŒ€í¸ ê³„ì¢Œ(+) â‡’ ì™„ë£Œ ì „ë‹¬ ë°›ìœ¼ë©´ commit ì™„ë£Œ ì²˜ë¦¬ â‡’ ì™„ë£Œ ì „ë‹¬ â‡’ ìƒëŒ€ë°© ìª½ì—ì„œ commit ì™„ë£Œ ì²˜ë¦¬ " }, { "title": "DQL", "url": "/posts/mysql-dql/", "categories": "ì½”ë”© ì§€ì‹, MySQL, SQL", "tags": "MySQL, DQL, ë¬¸ë²•", "date": "2024-11-24 11:04:00 +0900", "snippet": "DQL eomcs-docs â†’ sql í´ë” â†’ exam03 # DQL(Data Query Language) ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²• ## í…ŒìŠ¤íŠ¸ ìš© í…Œì´ë¸” ë° ë°ì´í„° ì¤€ë¹„ create table test1 ( no int primary key auto_increment, name va...", "content": "DQL eomcs-docs â†’ sql í´ë” â†’ exam03 # DQL(Data Query Language) ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²• ## í…ŒìŠ¤íŠ¸ ìš© í…Œì´ë¸” ë° ë°ì´í„° ì¤€ë¹„ create table test1 ( no int primary key auto_increment, name varchar(20) not null, class varchar(10) not null, working char(1) not null, tel varchar(20) ); insert into test1(name,class,working) values('aaa','java100','Y'); insert into test1(name,class,working) values('bbb','java100','N'); insert into test1(name,class,working) values('ccc','java100','Y'); insert into test1(name,class,working) values('ddd','java100','N'); insert into test1(name,class,working) values('eee','java100','Y'); insert into test1(name,class,working) values('kkk','java101','N'); insert into test1(name,class,working) values('lll','java101','Y'); insert into test1(name,class,working) values('mmm','java101','N'); insert into test1(name,class,working) values('nnn','java101','Y'); insert into test1(name,class,working) values('ooo','java101','N'); ## select - í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. /* ëª¨ë“  ì»¬ëŸ¼ ê°’ ì¡°íšŒí•˜ê¸°. ì»¬ëŸ¼ ìˆœì„œëŠ” í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ì„ ì–¸í•œ ìˆœì„œì´ë‹¤.*/ select * from í…Œì´ë¸”; select * from test1; /* íŠ¹ì • ì»¬ëŸ¼ì˜ ê°’ë§Œ ì¡°íšŒí•  ë•Œ =&gt; \"í”„ë¡œì ì…˜(projection)\"ì´ë¼ ë¶€ë¥¸ë‹¤.*/ select ì»¬ëŸ¼ëª…,ì»¬ëŸ¼ëª… from í…Œì´ë¸”; select no, name, tel from test1; /* ê°€ìƒì˜ ì»¬ëŸ¼ ê°’ì„ ì¡°íšŒí•˜ê¸°*/ select no, concat(name,'(',class,')') from test1; ### ì¡°íšŒí•˜ëŠ” ì»¬ëŸ¼ì— ë³„ëª… ë¶™ì´ê¸° - ë³„ëª…ì„ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ì›ë˜ì˜ ì»¬ëŸ¼ëª…ì´ ì¡°íšŒ ê²°ê³¼ì˜ ì»¬ëŸ¼ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. - ìœ„ì˜ ì˜ˆì œì²˜ëŸ¼ ë³µì¡í•œ ì‹ìœ¼ë¡œ í‘œí˜„í•œ ì»¬ëŸ¼ì¸ ê²½ìš° ì»¬ëŸ¼ëª…ë„ ê·¸ ì‹ì´ ëœë‹¤. - ì´ëŸ° ê²½ìš° ë³„ëª…ì„ ë¶™ì´ë©´ ì¡°íšŒ ê²°ê³¼ë¥¼ ë³´ê¸° ì‰½ë‹¤. /* ì»¬ëŸ¼ì— ë³„ëª… ë¶™ì´ê¸°*/ select ì»¬ëŸ¼ëª… [as] ë³„ëª… ... select no as num, concat(name,'(',class,')') as title from test1; /* asë¥¼ ìƒëµí•´ë„ ëœë‹¤.*/ select no num, concat(name,'(',class,')') title from test1; ### ì¡°íšŒí•  ë•Œ ì¡°ê±´ ì§€ì •í•˜ê¸° - where ì ˆê³¼ ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ì¡°íšŒ ì¡°ê±´ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. - ì´ë ‡ê²Œ ì¡°ê±´ì„ ì§€ì •í•˜ì—¬ ê²°ê³¼ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì„ \"ì…€ë ‰ì…˜(selection)\" ì´ë¼ í•œë‹¤. select ... from ... where ì¡°ê±´... select * from test1 where no &gt; 5; ## ì—°ì‚°ì ### OR, AND, NOT - OR : ë‘ ì¡°ê±´ ì¤‘ì— ì°¸ì¸ ê²ƒì´ ìˆìœ¼ë©´ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. - AND : ë‘ ì¡°ê±´ ëª¨ë‘ ì°¸ì¼ ë•Œë§Œ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. - NOT : ì¡°ê±´ì— ì¼ì¹˜í•˜ì§€ ì•Šì„ ë•Œë§Œ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. select * from test1; /* ì¬ì§ì ë˜ëŠ” java100ê¸° í•™ìƒë§Œ ì¡°íšŒí•˜ë¼!*/ select no, name, class, working from test1 where working='Y' or class='java100'; /* java100ê¸° í•™ìƒ ì¤‘ì— ì¬ì§ìë§Œ ì¡°íšŒí•˜ë¼!*/ select no, name, class, working from test1 where working='Y' and class='java100'; /* ì£¼ì˜! * where ì ˆì„ í†µí•´ ê²°ê³¼ ë°ì´í„°ë¥¼ ë¨¼ì € ì„ íƒ(selection)í•œ ë‹¤ìŒ * ê²°ê³¼ ë°ì´í„°ì—ì„œ ê°€ì ¸ì˜¬ ì»¬ëŸ¼ì„ ì„ íƒ(projection)í•œë‹¤. * ë”°ë¼ì„œ ì‹¤í–‰ ìˆœì„œëŠ”: * from ==&gt; where ==&gt; select ==&gt; order by ==&gt; limit */ select no, name from test1 where working='Y' and class='java100'; /* ì¬ì§ìê°€ ì•„ë‹Œ ì‚¬ëŒë§Œ ì¡°íšŒí•˜ë¼!*/ select no, name, class, working from test1 where not working = 'Y'; select no, name, class, working from test1 where working != 'Y'; select no, name, class, working from test1 where working &lt;&gt; 'Y'; /* í•™ìƒ ë²ˆí˜¸ê°€ ì§ìˆ˜ì¸ ê²½ìš° ì „í™” ë²ˆí˜¸ë¥¼ '1111'ë¡œ ë³€ê²½í•˜ë¼*/ update test1 set tel = '1111' where (no % 2) = 0; /* í•™ìƒ ë²ˆí˜¸ê°€ 3ì˜ ë°°ìˆ˜ì¸ ê²½ìš° ì „í™”ë²ˆí˜¸ë¥¼ '2222'ë¡œ ë³€ê²½í•˜ë¼*/ update test1 set tel = '2222' where (no % 3) = 0; /* ì „í™” ë²ˆí˜¸ê°€ ìˆëŠ” í•™ìƒë§Œ ì¡°íšŒí•˜ë¼!*/ /* =&gt; ë‹¤ìŒê³¼ ê°™ì´ nullì— != ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ì¡°ê±´ì´ ë§ì§€ ì•ŠëŠ”ë‹¤.*/ select * from test1 where tel != null; /* =&gt; nullì¸ì§€ ì—¬ë¶€ë¥¼ ê°€ë¦´ ë•ŒëŠ” is ë˜ëŠ” is not ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë¼!*/ select * from test1 where tel is not null; select * from test1 where not tel is null; /* ì „í™” ë²ˆí˜¸ê°€ ì—†ëŠ” í•™ìƒë§Œ ì¡°íšŒí•˜ë¼!*/ /* =&gt; nullì¸ì§€ ì—¬ë¶€ë¥¼ ê°€ë¦´ ë•ŒëŠ” = ì—°ì‚°ìê°€ ì•„ë‹Œ is ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.*/ select * from test1 where tel = null; /* ì‹¤íŒ¨ */ select * from test1 where tel is null; /* OK */ ### ì‚¬ì¹™ì—°ì‚° - +, -, *, /, % ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. select (4 + 5), (4 - 5), (4 * 5), (4 / 5), (4 % 5); ### ë¹„êµì—°ì‚° - =, !=, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt; select (4=5), (4!=5), (4&gt;5), (4&gt;=5), (4&lt;5), (4&lt;=5), (4&lt;&gt;5); ### between ê°’1 and ê°’2 - ë‘ ê°’ ì‚¬ì´(ë‘ ê°’ë„ í¬í•¨)ì— ìˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤. select 5 between 3 and 5; ### like - ë¬¸ìì—´ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í•œë‹¤. insert into test1(name,class,working) values('xxx', 'window27', '1'); insert into test1(name,class,working) values('yyy', 'window27', '0'); insert into test1(name,class,working) values('zzz', 'window28', '1'); insert into test1(name,class,working) values('qqq', 'window28', '0'); insert into test1(name,class,working) values('s01', 'javawin1', '1'); insert into test1(name,class,working) values('s02', 'javawin1', '0'); insert into test1(name,class,working) values('s03', 'javawin1', '0'); insert into test1(name,class,working) values('s04', 'iotjava5', '1'); insert into test1(name,class,working) values('s05', 'iotjava5', '0'); insert into test1(name,class,working) values('s06', 'iotjava5', '0'); insert into test1(name,class,working) values('s011', 'iotjava5', '1'); insert into test1(name,class,working) values('s012', 'iotjava5', '1'); insert into test1(name,class,working) values('s013', 'iotjava5', '1'); /* class ì´ë¦„ì´ javaë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° * =&gt; % : 0ê°œ ì´ìƒì˜ ë¬¸ì */ select * from test1 where class like 'java%'; /* class ì´ë¦„ì— javaë¥¼ í¬í•¨í•œ ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° ì´ ê²½ìš° ì¡°íšŒ ì†ë„ê°€ ëŠë¦¬ë‹¤.*/ select * from test1 where class like '%java%'; /* class ì´ë¦„ì´ 101ë¡œ ëë‚˜ëŠ” ë°˜ì˜ ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° */ select * from test1 where class like '%101'; /* í•™ìƒì˜ ì´ë¦„ì—ì„œ ì²«ë²ˆì§¸ ë¬¸ìê°€ sì´ê³  ë‘ë²ˆì§¸ ë¬¸ìê°€ 0ì¸ í•™ìƒ ì¤‘ì—ì„œ ë”± ì„¸ìì˜ ì´ë¦„ì„ ê°€ì§„ í•™ìƒì„ ëª¨ë‘ ì¡°íšŒí•˜ë¼!*/ /* =&gt; %ëŠ” 0ì ì´ìƒì„ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì— ì´ ì¡°ê±´ì— ë§ì§€ ì•Šë‹¤.*/ select * from test1 where name like 's0%'; /* =&gt; _ëŠ” ë”± 1ìë¥¼ ì˜ë¯¸í•œë‹¤.*/ select * from test1 where name like 's0_'; ### ë‚ ì§œ ë‹¤ë£¨ê¸° - ë‚ ì§œ í•¨ìˆ˜ì™€ ë¬¸ìì—´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚ ì§œ ê°’ì„ ë‹¤ë£¨ëŠ” ë°©ë²•. drop table test1; create table test1 ( no int not null, title varchar(200) not null, content text, regdt datetime not null ); alter table test1 add constraint primary key (no), modify column no int not null auto_increment; insert into test1(title, regdt) values('aaaa', '2022-01-27'); insert into test1(title, regdt) values('bbbb', '2022-2-2'); insert into test1(title, regdt) values('cccc', '2022-2-13'); insert into test1(title, regdt) values('dddd', '2022-3-2'); insert into test1(title, regdt) values('eeee', '2022-4-15'); insert into test1(title, regdt) values('ffff', '2022-6-7'); insert into test1(title, regdt) values('gggg', '2022-6-17'); insert into test1(title, regdt) values('hhhh', '2022-6-27'); insert into test1(title, regdt) values('iiii', '2022-9-5'); insert into test1(title, regdt) values('jjjj', '2022-10-12'); insert into test1(title, regdt) values('kkkk', '2022-11-22'); insert into test1(title, regdt) values('llll', '2022-11-24'); insert into test1(title, regdt) values('mmmm', '2022-12-31'); - ë‚ ì§œ ê°’ ë¹„êµí•˜ê¸° /* íŠ¹ì • ë‚ ì§œì˜ ê²Œì‹œê¸€ ì°¾ê¸° */ select * from test1 where regdt = '2022-6-17'; /* íŠ¹ì • ê¸°ê°„ì˜ ê²Œì‹œê¸€ ì¡°íšŒ */ select * from test1 where regdt between '2022-11-1' and '2022-12-31'; select * from test1 where regdt &gt;= '2022-11-1' and regdt &lt;= '2022-12-31'; - ë‚ ì§œë¥¼ ë‹¤ë£¨ëŠ” ì—°ì‚°ìì™€ í•¨ìˆ˜ /* í˜„ì¬ ë‚ ì§œ ë° ì‹œê°„ ì•Œì•„ë‚´ê¸° */ select now(); /* í˜„ì¬ ë‚ ì§œ ì•Œì•„ë‚´ê¸° */ select curdate(); /* í˜„ì¬ ì‹œê°„ ì•Œì•„ë‚´ê¸° */ select curtime(); /* ì£¼ì–´ì§„ ë‚ ì§œ, ì‹œê°„ì—ì„œ ë‚ ì§œë§Œ ë½‘ê±°ë‚˜ ì‹œê°„ë§Œ ë½‘ê¸° */ select regdt, date(regdt), time(regdt) from test1; /* íŠ¹ì • ë‚ ì§œì— ì‹œ,ë¶„,ì´ˆ,ì¼,ì›”,ë…„ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë¹¼ê¸°*/ date_add(ë‚ ì§œë°ì´í„°, interval ê°’ ë‹¨ìœ„); date_sub(ë‚ ì§œë°ì´í„°, interval ê°’ ë‹¨ìœ„); select date_add(now(), interval 11 day); select date_sub(now(), interval 11 day); /* ë‘ ë‚ ì§œ ì‚¬ì´ì˜ ê°„ê²©ì„ ì•Œì•„ë‚´ê¸° */ datediff(ë‚ ì§œ1, ë‚ ì§œ2); select datediff(curdate(), '2023-2-10'); /* ë‚ ì§œì—ì„œ íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ê°’ì„ ì¶”ì¶œí•˜ê¸° */ date_format(ë‚ ì§œ, í˜•ì‹) select regdt, date_format(regdt, '%m/%e/%Y') from test1; /* 09/7/2022 */ select regdt, date_format(regdt, '%M/%d/%y') from test1; /* September/07/17 */ select regdt, date_format(regdt, '%W %w %a') from test1; /* Thursday 4 Thu */ select regdt, date_format(regdt, '%M %b') from test1; /* September Sep */ select now(), date_format(now(), '%p %h %H %l'); /* PM 01 13 1 */ select now(), date_format(now(), '%i %s'); /* 05 45 */ /* ë¬¸ìì—´ì„ ë‚ ì§œ ê°’ìœ¼ë¡œ ë°”ê¾¸ê¸° */ select str_to_date('11/22/2022', '%m/%d/%Y'); select str_to_date('2022.2.12', '%Y.%m.%d'); /* ë‚ ì§œ ê°’ì„ ì €ì¥í•  ë•Œ ê¸°ë³¸ í˜•ì‹ì€ yyyy-MM-ddì´ë‹¤. */ insert into test1 (title, regdt) values('aaaa', '2022-11-22'); /* ë‹¤ìŒ í˜•ì‹ì˜ ë¬¸ìì—´ì„ ë‚ ì§œ ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ì—†ë‹¤.*/ insert into test1 (title, regdt) values('bbbb', '11/22/2022'); /* íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ì…ë ¥ëœ ë‚ ì§œë¥¼ date íƒ€ì…ì˜ ì»¬ëŸ¼ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ë©´ ì…ë ¥í•  ìˆ˜ ìˆë‹¤.*/ insert into test1 (title, regdt) values('bbbb', str_to_date('11/22/2022', '%m/%d/%Y')); â¨³ DQL (Data Query Language) ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ë²• í…ŒìŠ¤íŠ¸ ìš© í…Œì´ë¸” ë° ë°ì´í„° ì¤€ë¹„ create table test1 ( no int primary key auto_increment, name varchar(20) not null, class varchar(10) not null, working char(1) not null, tel varchar(20) ); insert into test1(name,class,working) values('aaa','java100','Y'); insert into test1(name,class,working) values('bbb','java100','N'); insert into test1(name,class,working) values('ccc','java100','Y'); insert into test1(name,class,working) values('ddd','java100','N'); insert into test1(name,class,working) values('eee','java100','Y'); insert into test1(name,class,working) values('kkk','java101','N'); insert into test1(name,class,working) values('lll','java101','Y'); insert into test1(name,class,working) values('mmm','java101','N'); insert into test1(name,class,working) values('nnn','java101','Y'); insert into test1(name,class,working) values('ooo','java101','N'); â€» select ë¬¸ (select statement) ì»¬ëŸ¼ëª… ìë¦¬ : ì‹, ë¦¬í„°ëŸ´ select í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. ëª¨ë“  ì»¬ëŸ¼ ê°’ ì¡°íšŒí•˜ê¸° (ì»¬ëŸ¼ ìˆœì„œëŠ” í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ì„ ì–¸í•œ ìˆœì„œ) mysql&gt; select * from test1; +----+------+---------+---------+------+ | no | name | class | working | tel | +----+------+---------+---------+------+ | 1 | aaa | java100 | Y | NULL | | 2 | bbb | java100 | N | NULL | | 3 | ccc | java100 | Y | NULL | | 4 | ddd | java100 | N | NULL | | 5 | eee | java100 | Y | NULL | | 6 | kkk | java101 | N | NULL | | 7 | lll | java101 | Y | NULL | | 8 | mmm | java101 | N | NULL | | 9 | nnn | java101 | Y | NULL | | 10 | ooo | java101 | N | NULL | +----+------+---------+---------+------+ â€œí”„ë¡œì ì…˜ (projection)â€ íŠ¹ì • ì»¬ëŸ¼ì˜ ê°’ë§Œ ì¡°íšŒí•  ë•Œ â‡’ â€œí”„ë¡œì ì…˜(projection)â€ì´ë¼ ë¶€ë¥¸ë‹¤. mysql&gt; select no, name, tel from test1; +----+------+------+ | no | name | tel | +----+------+------+ | 1 | aaa | NULL | | 2 | bbb | NULL | | 3 | ccc | NULL | | 4 | ddd | NULL | | 5 | eee | NULL | | 6 | kkk | NULL | | 7 | lll | NULL | | 8 | mmm | NULL | | 9 | nnn | NULL | | 10 | ooo | NULL | +----+------+------+ ê°€ìƒì˜ ì»¬ëŸ¼ ê°’ì„ ì¡°íšŒí•˜ê¸° concat( ) ê¸°ëŠ¥ìœ¼ë¡œ ì»¬ëŸ¼ì˜ ê°’ë“¤ì„ í•©ì¹˜ê±°ë‚˜ ë¬¸ìì—´ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. mysql&gt; select no, 'okok' from test1; +----+------+ | no | okok | +----+------+ | 1 | okok | | 2 | okok | | 3 | okok | | 4 | okok | | 5 | okok | | 6 | okok | | 7 | okok | | 8 | okok | | 9 | okok | | 10 | okok | +----+------+ mysql&gt; select no, concat('aaa', 'bbb') from test1; +----+----------------------+ | no | concat('aaa', 'bbb') | +----+----------------------+ | 1 | aaabbb | | 2 | aaabbb | | 3 | aaabbb | | 4 | aaabbb | | 5 | aaabbb | | 6 | aaabbb | | 7 | aaabbb | | 8 | aaabbb | | 9 | aaabbb | | 10 | aaabbb | +----+----------------------+ mysql&gt; select no, concat(name,'(',class,')') from test1; +----+----------------------------+ | no | concat(name,'(',class,')') | +----+----------------------------+ | 1 | aaa(java100) | | 2 | bbb(java100) | | 3 | ccc(java100) | | 4 | ddd(java100) | | 5 | eee(java100) | | 6 | kkk(java101) | | 7 | lll(java101) | | 8 | mmm(java101) | | 9 | nnn(java101) | | 10 | ooo(java101) | +----+----------------------------+ ë¬¸ì œ â‡’ ì»¬ëŸ¼ ì´ë¦„ì´ â€œì‹ ìì²´â€ë¡œ ë‚˜ì˜¨ë‹¤ëŠ” ê²ƒì´ë‹¤. ì¡°íšŒí•˜ëŠ” ì»¬ëŸ¼ì— ë³„ëª… ë¶™ì´ê¸° ë³„ëª…ì„ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ì›ë˜ì˜ ì»¬ëŸ¼ëª…ì´ ì¡°íšŒ ê²°ê³¼ì˜ ì»¬ëŸ¼ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. (ë³µì¡í•œ ì‹ìœ¼ë¡œ í‘œí˜„í•œ ì»¬ëŸ¼ì¸ ê²½ìš° ì»¬ëŸ¼ëª…ë„ ê·¸ ì‹ì´ ëœë‹¤) â‡’ ì´ëŸ° ê²½ìš° ë³„ëª…ì„ ë¶™ì´ë©´ ì¡°íšŒ ê²°ê³¼ë¥¼ ë³´ê¸° ì‰½ë‹¤. mysql&gt; select no as num, concat(name,'(',class,')') as title from test1; +-----+--------------+ | num | title | +-----+--------------+ | 1 | aaa(java100) | | 2 | bbb(java100) | | 3 | ccc(java100) | | 4 | ddd(java100) | | 5 | eee(java100) | | 6 | kkk(java101) | | 7 | lll(java101) | | 8 | mmm(java101) | | 9 | nnn(java101) | | 10 | ooo(java101) | +-----+--------------+ asë¥¼ ìƒëµí•´ë„ ëœë‹¤ mysql&gt; select no num, concat(name,'(',class,')') title from test1; +-----+--------------+ | num | title | +-----+--------------+ | 1 | aaa(java100) | | 2 | bbb(java100) | | 3 | ccc(java100) | | 4 | ddd(java100) | | 5 | eee(java100) | | 6 | kkk(java101) | | 7 | lll(java101) | | 8 | mmm(java101) | | 9 | nnn(java101) | | 10 | ooo(java101) | +-----+--------------+ ì¡°íšŒí•  ë•Œ ì¡°ê±´ ì§€ì •í•˜ê¸° (â€selectionâ€) where ì ˆê³¼ ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ ì¡°íšŒ ì¡°ê±´ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ì¡°ê±´ì„ ì§€ì •í•˜ì—¬ ê²°ê³¼ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì„ â€œì…€ë ‰ì…˜(selection)â€ ì´ë¼ í•œë‹¤. select * from test1 where no &gt; 5; â¨³ OR, AND, NOT ì—°ì‚°ì OR ë‘ ì¡°ê±´ ì¤‘ì— ì°¸ì¸ ê²ƒì´ ìˆìœ¼ë©´ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. ì˜ˆì‹œ (ì¬ì§ì ë˜ëŠ” java100ê¸° í•™ìƒë§Œ ì¡°íšŒ) select no, name, class, working from test1 where working='Y' or class='java100'; AND ë‘ ì¡°ê±´ ëª¨ë‘ ì°¸ì¼ ë•Œë§Œ ì¡°íšŒ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. ì˜ˆì‹œ (java100ê¸° í•™ìƒ ì¤‘ì— ì¬ì§ìë§Œ ì¡°íšŒ) select no, name, class, working from test1 where working='Y' and class='java100'; NOT ì¡°ê±´ì— ì¼ì¹˜í•˜ì§€ ì•Šì„ ë•Œë§Œ ê²°ê³¼ì— í¬í•¨ì‹œí‚¨ë‹¤. ì˜ˆì‹œ (ì¬ì§ìê°€ ì•„ë‹Œ ì‚¬ëŒë§Œ ì¡°íšŒ) select no, name, class, working from test1 where not working = 'Y'; â˜… ì£¼ì˜! Selection â‡’ Projection where ì ˆì„ í†µí•´ ê²°ê³¼ ë°ì´í„°ë¥¼ ë¨¼ì € ì„ íƒ(selection)í•œ ë‹¤ìŒ â‡’ ê²°ê³¼ ë°ì´í„°ì—ì„œ ê°€ì ¸ì˜¬ ì»¬ëŸ¼ì„ ì„ íƒ(projection)í•œë‹¤. ì¡°ê±´ì€ ì•ì—ì„œ ë¶€í„° ì²˜ë¦¬í•œë‹¤. ì¡°ê±´ì—ëŠ” ì‹ì´ ì˜¬ ìˆ˜ë„ ìˆë‹¤. â˜… ì‹¤í–‰ ìˆœì„œ â˜… from â‡’ where â‡’ select â‡’ order by â‡’ limit â¨³ ì‚¬ì¹™ì—°ì‚°, ë¹„êµì—°ì‚°, Between, is null (is not null) ì‚¬ì¹™ì—°ì‚° +, -, *, /, % ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì—°ì‚° ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. select (4 + 5), (4 - 5), (4 * 5), (4 / 5), (4 % 5); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +---------+---------+---------+---------+---------+ | 4 + 5 | 4 - 5 | 4 * 5 | 4 / 5 | 4 % 5 | +---------+---------+---------+---------+---------+ | 9 | -1 | 20 | 0.8 | 4 | +---------+---------+---------+---------+---------+ ì§ìˆ˜ ì°¾ê¸° (í•™ìƒ ë²ˆí˜¸ê°€ ì§ìˆ˜ì¸ ê²½ìš° ì „í™” ë²ˆí˜¸ë¥¼ â€˜1111â€™ë¡œ ë³€ê²½í•˜ë¼) update test1 set tel = '1111' where (no % 2) = 0; 3ì˜ ë°°ìˆ˜ ì°¾ê¸° (í•™ìƒ ë²ˆí˜¸ê°€ 3ì˜ ë°°ìˆ˜ì¸ ê²½ìš° ì „í™”ë²ˆí˜¸ë¥¼ â€˜2222â€™ë¡œ ë³€ê²½) update test1 set tel = '2222' where (no % 3) = 0; ë¹„êµì—°ì‚° =, !=, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;(ë‹¤ë¦„) ë¹„êµ ê²°ê³¼ë¥¼ true, falseë¡œ ë°˜í™˜ select (4=5), (4!=5), (4&gt;5), (4&gt;=5), (4&lt;5), (4&lt;=5), (4&lt;&gt;5); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-------+-------+-------+--------+-------+--------+-------+ | 4=5 | 4!=5 | 4&gt;5 | 4&gt;=5 | 4&lt;5 | 4&lt;=5 | 4&lt;&gt;5 | +-------+-------+-------+--------+-------+--------+-------+ | 0 | 1 | 0 | 0 | 1 | 1 | 1 | +-------+-------+-------+--------+-------+--------+-------+ != ì™€ &lt;&gt;ëŠ” ë™ì¼í•˜ë‹¤. select no, name, class, working from test1 where working != 'Y'; select no, name, class, working from test1 where working &lt;&gt; 'Y'; is null (is not null) null ê°’ì„ ë¹„êµ ì—°ì‚°ìë¡œ ë¹„êµí•  ìˆ˜ ì—†ë‹¤. â‡’ â€œis null / is not nullâ€ë¡œ ë¹„êµ ì˜ˆì‹œ (ì „í™”ë²ˆí˜¸ê°€ ìˆëŠ” í•™ìƒë§Œ ì¡°íšŒ) select * from test1 where tel != null; ( X ) select * from test1 where tel is not null; ( OK ) is nullì„ not ì—°ì‚°ìì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ is not nullì„ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤. select * from test1 where not tel is null; ( OK ) between ê°’1 and ê°’2 ë‘ ê°’ ì‚¬ì´(ë‘ ê°’ë„ í¬í•¨)ì— ìˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤. select 5 between 3 and 5; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----------------------+ | 5 BETWEEN 3 AND 5 | +-----------------------+ | 1 | +-----------------------+ â¨³ like â‡’ ë¬¸ìì—´ ë¹„êµ like (ë¬¸ìì—´ ë¹„êµ) ë¬¸ìì—´ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©í•œë‹¤. ì˜ˆì‹œ ë°ì´í„° insert into test1(name,class,working) values('xxx', 'window27', '1'); insert into test1(name,class,working) values('yyy', 'window27', '0'); insert into test1(name,class,working) values('zzz', 'window28', '1'); insert into test1(name,class,working) values('qqq', 'window28', '0'); insert into test1(name,class,working) values('s01', 'javawin1', '1'); insert into test1(name,class,working) values('s02', 'javawin1', '0'); insert into test1(name,class,working) values('s03', 'javawin1', '0'); insert into test1(name,class,working) values('s04', 'iotjava5', '1'); insert into test1(name,class,working) values('s05', 'iotjava5', '0'); insert into test1(name,class,working) values('s06', 'iotjava5', '0'); insert into test1(name,class,working) values('s011', 'iotjava5', '1'); insert into test1(name,class,working) values('s012', 'iotjava5', '1'); insert into test1(name,class,working) values('s013', 'iotjava5', '1'); ê·¸ëŸ¬ë‚˜, ë°ì´í„°ë² ì´ìŠ¤ê°€ ê²€ìƒ‰ì—”ì§„ì„ ëŒ€ì²´í•  ìˆ˜ ì—†ë‹¤. (ì†ë„ ì°¨ì´ê°€ ì—„ì²­ë‚˜ë‹¤) class ì´ë¦„ì´ javaë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° â‡’ % : 0ê°œ ì´ìƒì˜ ë¬¸ì select * from test1 where class like 'java%'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +------+---------+---------+ | name | class | working | +------+---------+---------+ | s01 | javawin1| 1 | | s02 | javawin1| 0 | | s03 | javawin1| 0 | +------+---------+---------+ class ì´ë¦„ì— javaë¥¼ í¬í•¨í•œ ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° ì´ ê²½ìš° ì¡°íšŒ ì†ë„ê°€ ëŠë¦¬ë‹¤ select * from test1 where class like '%java%'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-------+----------+---------+ | name | class | working | +-------+----------+---------+ | s01 | javawin1 | 1 | | s02 | javawin1 | 0 | | s03 | javawin1 | 0 | | s04 | iotjava5 | 1 | | s05 | iotjava5 | 0 | | s06 | iotjava5 | 0 | | s011 | iotjava5 | 1 | | s012 | iotjava5 | 1 | | s013 | iotjava5 | 1 | +-------+----------+---------+ class ì´ë¦„ì´ 101ë¡œ ëë‚˜ëŠ” ë°˜ì˜ ëª¨ë“  í•™ìƒ ì¡°íšŒí•˜ê¸° select * from test1 where class like '%101'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” ì¡´ì¬ ì•ˆ í•¨ í•™ìƒì˜ ì´ë¦„ì—ì„œ ì²«ë²ˆì§¸ ë¬¸ìê°€ sì´ê³  ë‘ë²ˆì§¸ ë¬¸ìê°€ 0ì¸ í•™ìƒ ì¤‘ì—ì„œ ë”± ì„¸ ìì˜ ì´ë¦„ì„ ê°€ì§„ í•™ìƒì„ ëª¨ë‘ ì¡°íšŒí•˜ë¼! %ëŠ” 0ì ì´ìƒì„ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì— ì´ ì¡°ê±´ì— ë§ì§€ ì•Šë‹¤. select * from test1 where name like 's0%'; ( X ) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-------+----------+---------+ | name | class | working | +-------+----------+---------+ | s01 | javawin1 | 1 | | s02 | javawin1 | 0 | | s03 | javawin1 | 0 | | s04 | iotjava5 | 1 | | s05 | iotjava5 | 0 | | s06 | iotjava5 | 0 | | s011 | iotjava5 | 1 | | s012 | iotjava5 | 1 | | s013 | iotjava5 | 1 | +-------+----------+---------+ â‡’ ì´ë¦„ì´ 4ê¸€ìì¸ í•™ìƒë“¤ë„ ì¡°íšŒëœë‹¤. â‡’ ì´ ê²½ìš° % ì“°ë©´ ì•ˆ ëœë‹¤. _ëŠ” ë”± 1ìë¥¼ ì˜ë¯¸í•œë‹¤. select * from test1 where name like 's0_'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-------+----------+---------+ | name | class | working | +-------+----------+---------+ | s01 | javawin1 | 1 | | s02 | javawin1 | 0 | | s03 | javawin1 | 0 | | s04 | iotjava5 | 1 | | s05 | iotjava5 | 0 | | s06 | iotjava5 | 0 | +-------+----------+---------+ â¨³ ë‚ ì§œ ë‹¤ë£¨ê¸° ë‚ ì§œ ë‹¤ë£¨ê¸° ë‚ ì§œ í•¨ìˆ˜ì™€ ë¬¸ìì—´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚ ì§œ ê°’ì„ ë‹¤ë£¨ëŠ” ë°©ë²• ì˜ˆì‹œ ë°ì´í„° ë° ê²°ê³¼ ì˜ˆì‹œ ë°ì´í„° create table test1 ( no int not null, title varchar(200) not null, content text, regdt datetime not null ); alter table test1 add constraint primary key (no), modify column no int not null auto_increment; insert into test1(title, regdt) values('aaaa', '2022-01-27'); insert into test1(title, regdt) values('bbbb', '2022-2-2'); insert into test1(title, regdt) values('cccc', '2022-2-13'); insert into test1(title, regdt) values('dddd', '2022-3-2'); insert into test1(title, regdt) values('eeee', '2022-4-15'); insert into test1(title, regdt) values('ffff', '2022-6-7'); insert into test1(title, regdt) values('gggg', '2022-6-17'); insert into test1(title, regdt) values('hhhh', '2022-6-27'); insert into test1(title, regdt) values('iiii', '2022-9-5'); insert into test1(title, regdt) values('jjjj', '2022-10-12'); insert into test1(title, regdt) values('kkkk', '2022-11-22'); insert into test1(title, regdt) values('llll', '2022-11-24'); insert into test1(title, regdt) values('mmmm', '2022-12-31'); ê²°ê³¼ **mysql&gt; desc test1;** +---------+--------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +---------+--------------+------+-----+---------+----------------+ | no | int | NO | PRI | NULL | auto_increment | | title | varchar(200) | NO | | NULL | | | content | text | YES | | NULL | | | regdt | datetime | NO | | NULL | | +---------+--------------+------+-----+---------+----------------+ **mysql&gt; select * from test1;** +----+-------+---------+---------------------+ | no | title | content | regdt | +----+-------+---------+---------------------+ | 1 | aaaa | NULL | 2022-01-27 00:00:00 | | 2 | bbbb | NULL | 2022-02-02 00:00:00 | | 3 | cccc | NULL | 2022-02-13 00:00:00 | | 4 | dddd | NULL | 2022-03-02 00:00:00 | | 5 | eeee | NULL | 2022-04-15 00:00:00 | | 6 | ffff | NULL | 2022-06-07 00:00:00 | | 7 | gggg | NULL | 2022-06-17 00:00:00 | | 8 | hhhh | NULL | 2022-06-27 00:00:00 | | 9 | iiii | NULL | 2022-09-05 00:00:00 | | 10 | jjjj | NULL | 2022-10-12 00:00:00 | | 11 | kkkk | NULL | 2022-11-22 00:00:00 | | 12 | llll | NULL | 2022-11-24 00:00:00 | | 13 | mmmm | NULL | 2022-12-31 00:00:00 | +----+-------+---------+---------------------+ ë‚ ì§œ ê°’ ë¹„êµí•˜ê¸° íŠ¹ì • ë‚ ì§œì˜ ê²Œì‹œê¸€ ì°¾ê¸° mysql&gt; select * from test1 where regdt = '2022-6-17'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+-------+---------+---------------------+ | no | title | content | regdt | +----+-------+---------+---------------------+ | 7 | gggg | NULL | 2022-06-17 00:00:00 | +----+-------+---------+---------------------+ íŠ¹ì • ê¸°ê°„ì˜ ê²Œì‹œê¸€ ì¡°íšŒ mysql&gt; select * -&gt; from test1 -&gt; where regdt between '2022-11-1' and '2022-12-31'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+-------+---------+---------------------+ | no | title | content | regdt | +----+-------+---------+---------------------+ | 11 | kkkk | NULL | 2022-11-22 00:00:00 | | 12 | llll | NULL | 2022-11-24 00:00:00 | | 13 | mmmm | NULL | 2022-12-31 00:00:00 | +----+-------+---------+---------------------+ mysql&gt; select * -&gt; from test1 -&gt; where regdt &gt;= '2022-11-1' and regdt &lt;= '2022-12-31'; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----+-------+---------+---------------------+ | no | title | content | regdt | +----+-------+---------+---------------------+ | 11 | kkkk | NULL | 2022-11-22 00:00:00 | | 12 | llll | NULL | 2022-11-24 00:00:00 | | 13 | mmmm | NULL | 2022-12-31 00:00:00 | +----+-------+---------+---------------------+ â‡’ betweenê³¼ ê²°ê³¼ ë™ì¼ â¨³ ë‚ ì§œë¥¼ ë‹¤ë£¨ëŠ” ì—°ì‚°ìì™€ í•¨ìˆ˜ â˜… í˜„ì¬ ë‚ ì§œ ë° ì‹œê°„ ì•Œì•„ë‚´ê¸° now() mysql&gt; select now(); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +---------------------+ | now() | +---------------------+ | 2024-08-08 14:45:25 | +---------------------+ í˜„ì¬ ë‚ ì§œ ì•Œì•„ë‚´ê¸° curdate() mysql&gt; select curdate(); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +------------+ | curdate() | +------------+ | 2024-08-08 | +------------+ í˜„ì¬ ì‹œê°„ ì•Œì•„ë‚´ê¸° curtime() mysql&gt; select curtime(); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +-----------+ | curtime() | +-----------+ | 14:45:43 | +-----------+ ì£¼ì–´ì§„ ë‚ ì§œ, ì‹œê°„ì—ì„œ ë‚ ì§œë§Œ ë½‘ê±°ë‚˜ ì‹œê°„ë§Œ ë½‘ê¸° date() time() MySQLì˜ ë‚ ì§œ/ì‹œê°„ ë°ì´í„° ìœ í˜•ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆì–´ì•¼ë§Œ date( )ë° time( ) í•¨ìˆ˜ê°€ ì œëŒ€ë¡œ ì‘ë™ mysql&gt; select regdt, date(regdt), time(regdt) from test1; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +---------------------+-------------+-------------+ | regdt | date(regdt) | time(regdt) | +---------------------+-------------+-------------+ | 2022-01-27 00:00:00 | 2022-01-27 | 00:00:00 | | 2022-02-02 00:00:00 | 2022-02-02 | 00:00:00 | | 2022-02-13 00:00:00 | 2022-02-13 | 00:00:00 | | 2022-03-02 00:00:00 | 2022-03-02 | 00:00:00 | | 2022-04-15 00:00:00 | 2022-04-15 | 00:00:00 | | 2022-06-07 00:00:00 | 2022-06-07 | 00:00:00 | | 2022-06-17 00:00:00 | 2022-06-17 | 00:00:00 | | 2022-06-27 00:00:00 | 2022-06-27 | 00:00:00 | | 2022-09-05 00:00:00 | 2022-09-05 | 00:00:00 | | 2022-10-12 00:00:00 | 2022-10-12 | 00:00:00 | | 2022-11-22 00:00:00 | 2022-11-22 | 00:00:00 | | 2022-11-24 00:00:00 | 2022-11-24 | 00:00:00 | | 2022-12-31 00:00:00 | 2022-12-31 | 00:00:00 | +---------------------+-------------+-------------+ â˜… íŠ¹ì • ë‚ ì§œì— ì‹œ,ë¶„,ì´ˆ,ì¼,ì›”,ë…„ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë¹¼ê¸° date_add() date_sub() í˜„ì¬ mysql&gt; select now(); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +---------------------+ | now() | +---------------------+ | 2024-08-08 14:45:25 | +---------------------+ 11ì¼ ì¶”ê°€ mysql&gt; select date_add(now(), interval 11 day); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----------------------------------+ | date_add(now(), interval 11 day) | +----------------------------------+ | 2024-08-19 14:46:31 | +----------------------------------+ 11ì¼ ì´ì „ mysql&gt; select date_sub(now(), interval 11 day); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----------------------------------+ | date_sub(now(), interval 11 day) | +----------------------------------+ | 2024-07-28 14:46:54 | +----------------------------------+ â˜… ë‘ ë‚ ì§œ ì‚¬ì´ì˜ ê°„ê²©ì„ ì•Œì•„ë‚´ê¸° datediff() ê°„ê²©ì€ ë‚ ì§œ1 - ë‚ ì§œ2ë¡œ ë‚˜íƒ€ë‚œë‹¤. mysql&gt; select datediff(curdate(), '2023-2-10'); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----------------------------------+ | datediff(curdate(), '2023-2-10') | +----------------------------------+ | 545 | +----------------------------------+ mysql&gt; select datediff(curdate(), '2024-12-2'); â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +----------------------------------+ | datediff(curdate(), '2024-12-2') | +----------------------------------+ | -116 | +----------------------------------+ ë‚ ì§œì—ì„œ íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ê°’ì„ ì¶”ì¶œí•˜ê¸° date_format() Day (%e : 1ìë¦¬, %d : 2ìë¦¬) mysql&gt; select regdt, date_format(regdt, '%m/%e/%Y') from test1; /* 09/7/2022 */ +---------------------+--------------------------------+ | regdt | date_format(regdt, '%m/%e/%Y') | +---------------------+--------------------------------+ | 2022-09-05 00:00:00 | 09/5/2022 | +---------------------+--------------------------------+ mysql&gt; select regdt, date_format(regdt, '%M/%d/%y') from test1; /* September/07/17 */ +---------------------+--------------------------------+ | regdt | date_format(regdt, '%M/%d/%y') | +---------------------+--------------------------------+ | 2022-09-05 00:00:00 | September/05/22 | +---------------------+--------------------------------+ ìš”ì¼ (%W : ìš”ì¼ ì „ì²´ ì´ë¦„, %a : ìš”ì¼ ì•½ì–´, %w : ìš”ì¼ ìˆ«ì í‘œí˜„) mysql&gt; select regdt, date_format(regdt, '%W %w %a') from test1; /* Thursday 4 Thu */ +---------------------+--------------------------------+ | regdt | date_format(regdt, '%W %w %a') | +---------------------+--------------------------------+ | 2022-09-05 00:00:00 | Monday 1 Mon | +---------------------+--------------------------------+ ì›” (%M : ì›” ì „ì²´ ì´ë¦„, %b : ì›” ì•½ì–´, %m : ì›” ìˆ«ì í‘œí˜„) mysql&gt; select regdt, date_format(regdt, '%M %b %m') from test1; /* September Sep 09 */ +---------------------+--------------------------------+ | regdt | date_format(regdt, '%M %b %m') | +---------------------+--------------------------------+ | 2022-09-05 00:00:00 | September Sep 09 | +---------------------+--------------------------------+ ì‹œê°„ (%p : AM or PM, %h : 12ì‹œê°„ (0ìˆìŒ), %H : 24ì‹œê°„, %l : 12ì‹œê°„ (0ì—†ìŒ)) mysql&gt; select now(), date_format(now(), '%p %h %H %l'); /* PM 01 13 1 */ +---------------------+-----------------------------------+ | now() | date_format(now(), '%p %h %H %l') | +---------------------+-----------------------------------+ | 2024-08-08 14:47:51 | PM 02 14 2 | +---------------------+-----------------------------------+ ë¶„ì´ˆ (%i : minute (0ìˆìŒ), %s : second (0ìˆìŒ)) mysql&gt; select now(), date_format(now(), '); /* 05 45 */; +---------------------+-----------------------------+ | now() | date_format(now(), '%i %s') | +---------------------+-----------------------------+ | 2024-08-08 14:47:55 | 47 55 | +---------------------+-----------------------------+ ë¬¸ìì—´ì„ ë‚ ì§œ ê°’ìœ¼ë¡œ ë°”ê¾¸ê¸° str_to_date() mysql&gt; select str_to_date('11/22/2022', '%m/%d/%Y'); +---------------------------------------+ | str_to_date('11/22/2022', '%m/%d/%Y') | +---------------------------------------+ | 2022-11-22 | +---------------------------------------+ mysql&gt; select str_to_date('2022.2.12', '%Y.%m.%d'); +--------------------------------------+ | str_to_date('2022.2.12', '%Y.%m.%d') | +--------------------------------------+ | 2022-02-12 | +--------------------------------------+ ë‚ ì§œ ê°’ì„ ì €ì¥í•  ë•Œ ê¸°ë³¸ í˜•ì‹ì€ yyyy-MM-ddì´ë‹¤.. ë‚ ì§œ ë°ì´í„°ëŠ” ì•„ë˜ì˜ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì•¼ í•œë‹¤. DATE í˜•ì‹ : 'YYYY-MM-DD' DATETIME í˜•ì‹ : 'YYYY-MM-DD HH:MM:SS' insert into test1 (title, regdt) values('aaaa', '2022-11-22'); ì•„ë˜ ì²˜ëŸ¼ ì…ë ¥ ë¶ˆê°€ insert into test1 (title, regdt) values('bbbb', '11/22/2022'); ( X ) íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ì…ë ¥ëœ ë‚ ì§œë¥¼ date íƒ€ì…ì˜ ì»¬ëŸ¼ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ë©´ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. insert into test1 (title, regdt) values('bbbb', str_to_date('11/22/2022', '%m/%d/%Y')); " }, { "title": "MySQL ì‚¬ìš© ë°©ë²•", "url": "/posts/mysql-howtouse/", "categories": "ì½”ë”© ì§€ì‹, MySQL, ì„¤ì •", "tags": "MySQL, ì‚¬ìš©ë²•, DDL", "date": "2024-11-23 14:08:00 +0900", "snippet": "â–¶ ë°ì´í„°ë² ì´ìŠ¤ì™€ DBMS mysql-settings # MySQL ì„¤ì¹˜ ë° ì„¤ì • ## MySQL ì„¤ì¹˜ [windows OS] scoop íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¥¼ ì´ìš©í•˜ì—¬ mysql ì„¤ì¹˜ &gt; scoop install MySQL ì„œë¹„ìŠ¤ì— ë“±ë¡ mysqld --install \"ì„œë¹„ìŠ¤ëª…\" &gt; mysql...", "content": "â–¶ ë°ì´í„°ë² ì´ìŠ¤ì™€ DBMS mysql-settings # MySQL ì„¤ì¹˜ ë° ì„¤ì • ## MySQL ì„¤ì¹˜ [windows OS] scoop íŒ¨í‚¤ì§€ ê´€ë¦¬ìë¥¼ ì´ìš©í•˜ì—¬ mysql ì„¤ì¹˜ &gt; scoop install MySQL ì„œë¹„ìŠ¤ì— ë“±ë¡ mysqld --install \"ì„œë¹„ìŠ¤ëª…\" &gt; mysqld --install \"MySQL\" ì„œë¹„ìŠ¤ ì‹œì‘ net start ì„œë¹„ìŠ¤ëª… &gt; net start MySQL (windows) ì„œë¹„ìŠ¤ ì¢…ë£Œ net stop ì„œë¹„ìŠ¤ëª… &gt; net stop MySQL [mac] mysql ì„¤ì¹˜ &gt; brew install mysql mysql ì„¤ì¹˜ í›„ root ì•”í˜¸ ë³€ê²½ &gt; sudo mysql_secure_installation mysql ì‹¤í–‰ &gt; brew services start mysql &gt; brew services stop mysql ë˜ëŠ” &gt; mysql.server start &gt; mysql.server stop [linux] mysql ì„¤ì¹˜ &gt; sudo apt update &gt; sudo apt install mysql-server &gt; sudo systemctl status mysql &gt; mysql -V mysql ì„¤ì¹˜ í›„ root ì•”í˜¸ ë³€ê²½ &gt; sudo mysql_secure_installation mysql ì‹¤í–‰ &gt; service mysql start &gt; service mysql stop &gt; service mysql status ## mysql ì„œë²„ì— ì ‘ì†í•˜ê¸° ë¡œì»¬ MySQL ì„œë²„ì— ì ‘ì† &gt; mysql -u root -p &gt; Enter password: ì•”í˜¸ì…ë ¥ ì›ê²© MySQL ì„œë²„ì— ì ‘ì† &gt; mysql -h ì„œë²„ì£¼ì†Œ -u root -p &gt; Enter password: ì•”í˜¸ì…ë ¥ ## mysql root ì•”í˜¸ ë³€ê²½ &gt; alter user 'root'@'localhost' identified by '1111'; ## MySQL ì‚¬ìš©ì ì¶”ê°€ &gt; CREATE USER 'ì‚¬ìš©ìì•„ì´ë””'@'ì„œë²„ì£¼ì†Œ' IDENTIFIED BY 'ì•”í˜¸'; ë¡œì»¬ì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ë§Œë“¤ê¸°: &gt; CREATE USER 'study'@'localhost' IDENTIFIED BY '1111'; =&gt; ì´ ê²½ìš° stidu ì‚¬ìš©ìëŠ” ì˜¤ì§ ë¡œì»¬(ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” ì»´í“¨í„°)ì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•œë‹¤. =&gt; ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œ ì‹¤í–‰í•˜ëŠ” MySQL ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì›ê²©ì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ë§Œë“¤ê¸°: &gt; CREATE USER 'study'@'%' IDENTIFIED BY '1111'; =&gt; ì´ ê²½ìš° study ì‚¬ìš©ìëŠ” ì›ë ¥ì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤. ## MySQL ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ &gt; select user from ë°ì´í„°ë² ì´ìŠ¤ëª….í…Œì´ë¸”ëª…; &gt; select user from mysql.user; ## MySQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± &gt; CREATE DATABASE ë°ì´í„°ë² ì´ìŠ¤ëª… DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; &gt; CREATE DATABASE studydb DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; ## MySQL ì‚¬ìš©ìì—ê²Œ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš© ê¶Œí•œ ë¶€ì—¬ &gt; GRANT ALL ON ë°ì´í„°ë² ì´ìŠ¤ëª….* TO 'ì‚¬ìš©ìì•„ì´ë””'@'ì„œë²„ì£¼ì†Œ'; &gt; GRANT ALL ON studydb.* TO 'study'@'localhost'; ## ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ &gt; show databases; ## ì‚¬ìš©ì êµì²´ &gt; quit (í”„ë¡œê·¸ë¨ ì¢…ë£Œ í›„) &gt; mysql -u study -p (ë‹¤ì‹œ ì‹¤í–‰) ## ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ ì§€ì •í•˜ê¸° &gt; use ë°ì´í„°ë² ì´ìŠ¤ëª… &gt; use studydb; ## ë°ì´í„°ë² ì´ìŠ¤ì˜ ì „ì²´ í…Œì´ë¸” ëª©ë¡ ì¡°íšŒ &gt; show tables; â€» DBMS ë„ì… - ì†Œê°œ DBMS Â  : Â  Database ê´€ë¦¬ S/W RDBMS Â  (ê´€ê³„í˜• DBMS) Oracle, MS-SQL, DB2, MYSQL(ì˜¤í”ˆì†ŒìŠ¤), MariaDB, PostgreSQL, Tibero, Cubrid, Altibase MongoDB, Redis ë°ì´í„°ë² ì´ìŠ¤ Â  (DB : DataBase) ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„°ì˜ ì§‘í•©ì´ë‹¤. ê²€ìƒ‰, ê°±ì‹ ì´ ì‰½ë„ë¡ êµ¬ì¡°í™” ì‹¤ì‹œê°„ ì ‘ê·¼ ë™ì‹œ ê³µìœ  ë°ì´í„° ì¤‘ë³µ ìµœì†Œí™” ì¼ê´€ì„±, ë¬´ê²°ì„±, ë³´ì•ˆì„± ì¼ê´€ì„± Â  (ê·œì¹™ ì¤€ìˆ˜) ê·œì¹™ì´ë‚˜ ì œì•½ ì¡°ê±´ì„ ì¤€ìˆ˜ Â  â‡’ Â  ë°ì´í„° ì‹ ë¢°ì„± í™•ë³´ â€» DBMS ë„ì… - MySQL ì„¤ì¹˜ MySQL DBMS ì„¤ì¹˜ ë° ì„¤ì • MySQL ì„œë²„ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. (ë§Œì•½ í•  ìˆ˜ ìˆì—ˆë‹¤ë©´ ì™¸ë¶€ í•´ì»¤ë„ ê°€ëŠ¥í•˜ë‹ˆê¹Œ) â‡’ Â  Linux ì„œë²„ë¥¼ í†µí•´ MySQL ì„œë²„ë¡œ ì ‘ê·¼í•œë‹¤. (ì™¸ë¶€ ì ‘ê·¼ì€ Linuxê°€ ë°©í™”ë²½ìœ¼ë¡œ ì°¨ë‹¨í•œë‹¤) â‡’ Â  ê·¸ëŸ°ë° Linux ì„œë²„ì—ì„œëŠ” CLIë¡œ ì œì–´í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê°œë°œìë„ CLI ë°©ì‹ì„ ì•Œì•„ì•¼ í•œë‹¤. â€» DBMS ë„ì… - DBMS ì‚¬ìš©1ï¸âƒ£ ë¡œê·¸ì¸ (ì„œë²„ ì ‘ì†) ë¡œì»¬ MySQL ì„œë²„ì— ì ‘ì† ëª…ë ¹í”„ë¡¬í”„íŠ¸ mysql -u root -p C:\\Users\\BITCAMP&gt;mysql -u root -p Enter password: **** Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 16 Server version: 8.4.2 MySQL Community Server - GPL Copyright (c) 2000, 2024, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql : DBMS í´ë¼ì´ì–¸íŠ¸ -u : user ID -p : ì•”í˜¸ ì§ì ‘ ì…ë ¥ ì›ê²© MySQL ì„œë²„ì— ì ‘ì† mysql -h ì„œë²„ì£¼ì†Œ -u root -p mysql root ì•”í˜¸ ë³€ê²½ alter user 'root'@'localhost' identified by '1111'; ì„œë¹„ìŠ¤ ì‹œì‘ ë° ì¢…ë£Œ ëª…ë ¹í”„ë¡¬í”„íŠ¸ (ê´€ë¦¬ì ê¶Œí•œ ì‹¤í–‰) system32$ net stop MySQL84 system32$ net start MySQL84 or (ì„œë¹„ìŠ¤ ì°½ì—ì„œ start, stop) 2ï¸âƒ£ DBMS ì‚¬ìš©ì ë“±ë¡ ë˜‘ê°™ì€ ì•„ì´ë””ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ í˜¸ìŠ¤íŠ¸ Â  : Â  ì ‘ì† í—ˆìš© ì„œë²„ Â  (ë„ë©”ì¸, IPì£¼ì†Œ, % (All : ì™¸ë¶€ ëª¨ë“  ì„œë²„)) ë¡œì»¬ì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ë§Œë“¤ê¸° CREATE USER 'study'@'localhost' IDENTIFIED BY '1111'; ì´ ê²½ìš° study ì‚¬ìš©ìëŠ” ì˜¤ì§ ë¡œì»¬(ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” ì»´í“¨í„°)ì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•œë‹¤. ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œ ì‹¤í–‰í•˜ëŠ” MySQL ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë¡œê·¸ì¸ $ mysql -u study -p (ë¹„ë²ˆ 1111) ì›ê²©ì—ì„œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìë¥¼ ë§Œë“¤ê¸° CREATE USER 'study'@'%' IDENTIFIED BY '2222'; CREATE USER 'study'@'%' IDENTIFIED BY '1111'; ì´ ê²½ìš° study ì‚¬ìš©ìëŠ” ì›ê²©ì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•˜ë‹¤. ë¡œê·¸ì¸ $ mysql -h 192.168.0.7 -u study -p (ë¹„ë²ˆ 2222) ì‚¬ìš©ì êµì²´ &gt; quit (í”„ë¡œê·¸ë¨ ì¢…ë£Œ í›„) &gt; mysql -u study -p (ë‹¤ì‹œ ì‹¤í–‰) ì‚¬ìš©ì ì‚­ì œ $ mysql -u root -p (1111) $ select user, host from mysql.user; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +------------------+-----------+ | user | host | +------------------+-----------+ | study | % | | mysql.infoschema | localhost | | mysql.session | localhost | | mysql.sys | localhost | | root | localhost | | study | localhost | +------------------+-----------+ $ drop user 'study'@'localhost'; $ drop user 'study'@'%'; $ select user, host from mysql.user; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +------------------+-----------+ | user | host | +------------------+-----------+ | mysql.infoschema | localhost | | mysql.session | localhost | | mysql.sys | localhost | | root | localhost | +------------------+-----------+ 3ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±&gt; CREATE DATABASE studydb DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;&gt; CREATE DATABASE studydb DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; Collate Â  : Â  ë¬¸ìì—´ ì •ë ¬ ê·œì¹™ utf8_general_ci Â  : Â  UTF-8 ì¸ë° ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ &gt; drop database studydb; 4ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš© ê¶Œí•œ ì„¤ì •&gt; GRANT ALL ON studydb.* TO 'study'@'localhost';â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” Query OK, 0 rows affected (0.01 sec)5ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ ì¡°íšŒ root ì‚¬ìš©ìì˜ ë°ì´í„°ë² ì´ìŠ¤ $ mysql -u root -p (ë¹„ë²ˆ 1111) $ show databases; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +--------------------+ | Database | +--------------------+ | information_schema | | mysql | | performance_schema | | sakila | | studydb | | sys | | world | +--------------------+ study ì‚¬ìš©ìì˜ ë°ì´í„°ë² ì´ìŠ¤ $ mysql -u study -p (1111) $ show databases; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +--------------------+ | Database | +--------------------+ | information_schema | | performance_schema | | studydb | +--------------------+ 6ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš© ì„¤ì • ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ ì§€ì •í•˜ê¸° &gt; use studydb; (ì´ì œ ë¶€í„° ì“¸ê±°ì•¼) ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ í…Œì´ë¸” ìƒì„± ë“±ì„ í•  ìˆ˜ ì—†ë‹¤. 7ï¸âƒ£ í…Œì´ë¸” ëª©ë¡ ì¡°íšŒ ê¸°ë³¸ìœ¼ë¡œ ì§€ì •í•œ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸” &gt; show tables 8ï¸âƒ£ í…Œì´ë¸” ìƒì„¸ ì¡°íšŒ&gt; describe í…Œì´ë¸”ëª…&gt; desc í…Œì´ë¸”ëª… (ì‹¤ë¬´ì—ì„œ ì“°ëŠ” ê²ƒ)9ï¸âƒ£ ì‚¬ìš©ì, í˜¸ìŠ¤íŠ¸ ì¡°íšŒ ë¡œì»¬ ì‚¬ìš©ìì˜ mysql ë°ì´í„°ë² ì´ìŠ¤ì˜ user í…Œì´ë¸” â‡’ Â  í˜„ì¬ê¹Œì§€ì˜ ì‚¬ìš©ìë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. $ select user, host from user; â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” +------------------+-----------+ | user | host | +------------------+-----------+ | study | % | | mysql.infoschema | localhost | | mysql.session | localhost | | mysql.sys | localhost | | root | localhost | | study | localhost | +------------------+-----------+** í…Œì´ë¸”ì—ì„œ ì›í•˜ëŠ” ì»¬ëŸ¼ ì¡°íšŒ &gt; select user from ë°ì´í„°ë² ì´ìŠ¤ëª….í…Œì´ë¸”ëª…; &gt; select user, host from mysql.user; í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ëª… ìƒëµ ê°€ëŠ¥ " }, { "title": "MySQL ì„¤ì¹˜ ë° ì„¤ì •", "url": "/posts/mysql-install/", "categories": "ì½”ë”© ì§€ì‹, MySQL, ì„¤ì •", "tags": "MySQL, ì„¤ì¹˜ ë° ì„¤ì •", "date": "2024-11-23 08:08:00 +0900", "snippet": "MySQL ì„¤ì¹˜ ë°©ë²•MySQLì„ ì„¤ì¹˜í•˜ëŠ” ë°©ë²• MySQL ì‚¬ì´íŠ¸ : https://www.mysql.com/ ë©”ë‰´ë°”ì˜ Downloads í´ë¦­ Â  â‡’ Â  MySQL Community (GPL) Downloads í´ë¦­ MySQL Community Server 8.4.3 ë²„ì „ LTS Â  â‡’ Â  Wind...", "content": "MySQL ì„¤ì¹˜ ë°©ë²•MySQLì„ ì„¤ì¹˜í•˜ëŠ” ë°©ë²• MySQL ì‚¬ì´íŠ¸ : https://www.mysql.com/ ë©”ë‰´ë°”ì˜ Downloads í´ë¦­ Â  â‡’ Â  MySQL Community (GPL) Downloads í´ë¦­ MySQL Community Server 8.4.3 ë²„ì „ LTS Â  â‡’ Â  Windows (x86, 64-bit), MSI Installer ë‹¤ìš´ë¡œë“œ â€œNo thanks, just start my downloadâ€ í´ë¦­ Â  (ë¡œê·¸ì¸ í•„ìˆ˜ ì•„ë‹˜) ë‹¤ìš´ë¡œë“œ ë°›ì€ MSI Installer ì„¤ì¹˜ ì‹œì‘ Â  (Complete ë²„ì „ ì„¤ì¹˜) MySQL Configurator next â‡’ next â‡’ show advanced and logging options ì²´í¬ â‡’ next â‡’ ë¹„ë°€ë²ˆí˜¸ 1111 â‡’ next â‡’ next â‡’ next â‡’ next â‡’ next â‡’ Sample Databases(ë‘˜ ë‹¤ ì²´í¬í•˜ê¸° (Sakila, World)) â‡’ next â‡’ (ë‹¤ë¥¸ ë²„ì „ ìˆë‹¤ë©´ ì‚­ì œ) â‡’ execute í´ë¦­ â‡’ next â‡’ finish MySQL í™˜ê²½ ì„¤ì • ë° ì‹œì‘í•˜ê¸° (CLI ë°©ì‹) ëª…ë ¹ í”„ë¡¬í”„íŠ¸ $ mysql $ mysql â‡’ Â Â  (x) Â  ê²½ë¡œë¥¼ ì°¾ì§€ ëª»í•œë‹¤. ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ Â  â‡’ Â  í™˜ê²½ ë³€ìˆ˜ Â  â‡’ Â  ì‹œìŠ¤í…œ ë³€ìˆ˜ Â  â‡’ Â  path ìƒˆë¡œ ë§Œë“¤ê¸° Â  : Â  C:\\Program Files\\MySQL\\MySQL Server 8.4\\bin ì„¤ì¹˜ëœ MySQL í´ë” ë‚´ë¶€ì˜ bin í´ë” ìœ„ì¹˜ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ ì°½ ë‹«ê³  ë‹¤ì‹œ ì—´ê¸° í™˜ê²½ ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ë©´ ë‹¤ì‹œ ì—´ì–´ì•¼ ìˆ˜ì •ëœ í™˜ê²½ ë³€ìˆ˜ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ $ mysql ==&gt; ERROR 1045 (28000): Access denied for user 'ODBC'@'localhost' (using password: NO) ì´ë ‡ê²Œ ë‚˜ì˜¤ëŠ” ê²ƒì´ ì •ìƒì´ë‹¤. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ $ mysql -u root -p Â  Â  (-p Â  : Â  ë¹„ë°€ë²ˆí˜¸ ì§ì ‘ ì…ë ¥) $ mysql -u root -p Enter password: **** (ì„¤ì¹˜í•  ë•Œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸ : 1111) Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 15 Server version: 8.4.2 MySQL Community Server - GPL Copyright (c) 2000, 2024, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë¼ê³  í•œë‹¤. ì„¤ì¹˜í•  ë•Œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ì ‘ì†í•  ìˆ˜ ìˆë‹¤. ëª…ë ¹ í”„ë¡¬í”„íŠ¸ $ quit or $ exit $ quit ë‚˜ê°€ê¸° ëª…ë ¹ì–´ " }, { "title": "bitcamp-final í”„ë¡œì íŠ¸ ë°°í¬í•˜ê¸° 2", "url": "/posts/final-deploy-2/", "categories": "í”„ë¡œì íŠ¸, CICD, Docker", "tags": "Docker, NCP, Server", "date": "2024-11-20 15:08:00 +0900", "snippet": "(7) Docker ì—”ì§„ ì„¤ì¹˜ì„¤ì¹˜ ì¤€ë¹„ íŒŒì¼ ëª©ë¡ ì—…ë°ì´íŠ¸ $ sudo yum update [student@bitcamp-svr1 ~]$ sudo yum update [sudo] password for student: Loaded plugins: fastestmirror, langpacks ... ...", "content": "(7) Docker ì—”ì§„ ì„¤ì¹˜ì„¤ì¹˜ ì¤€ë¹„ íŒŒì¼ ëª©ë¡ ì—…ë°ì´íŠ¸ $ sudo yum update [student@bitcamp-svr1 ~]$ sudo yum update [sudo] password for student: Loaded plugins: fastestmirror, langpacks ... Updated: epel-release.noarch 0:7-14 Complete! apt get ê¸°ë³¸ì ìœ¼ë¡œ Debianê³¼ Ubuntu ê³„ì—´ì˜ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬ apt-get install &lt;íŒ¨í‚¤ì§€ëª…&gt; [student@bitcamp-svr1 ~]$ chmod 0755 /usr/local/bin/apt-get chmod: changing permissions of â€˜/usr/local/bin/apt-getâ€™: Operation not permitted [student@bitcamp-svr1 ~]$ sudo curl https://raw.githubusercontent.com/dvershinin/apt-get-centos/master/apt-get.sh -o /usr/local/bin/apt-get % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 1256 100 1256 0 0 1852 0 --:--:-- --:--:-- --:--:-- 1849 [student@bitcamp-svr1 ~]$ sudo chmod 0755 /usr/local/bin/apt-get ê¸°ì¡´ì— ì„¤ì¹˜ëœ Docker ì œê±° sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine [student@bitcamp-svr1 ~]$ sudo yum remove docker \\ &gt; docker-client \\ &gt; docker-client-latest \\ &gt; docker-common \\ &gt; docker-latest \\ &gt; docker-latest-logrotate \\ &gt; docker-logrotate \\ &gt; docker-engine [sudo] password for student: Loaded plugins: fastestmirror, langpacks No Match for argument: docker No Match for argument: docker-client No Match for argument: docker-client-latest No Match for argument: docker-common No Match for argument: docker-latest No Match for argument: docker-latest-logrotate No Match for argument: docker-logrotate No Match for argument: docker-engine No Packages marked for removal \\ ëŠ” ì˜†ìœ¼ë¡œ ë‚˜ì—´í•˜ì§€ ì•Šê³  ì¤„ë°”ê¿ˆí•˜ëŠ” ë°©ë²• Dockerì˜ ê³µì‹ ë¦¬í¬ì§€í† ë¦¬ ì¶”ê°€ set up the repo (docker) Docker ì„¤ì¹˜ íŒŒì¼ì„ ë°›ê¸° ìœ„í•œ ì €ì¥ì†Œ ë“±ë¡ DockerëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„êµ¬ CentOSì—ì„œ Dockerë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ Dockerì˜ ê³µì‹ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì‹œìŠ¤í…œì— ì¶”ê°€í•´ì•¼ í•œë‹¤. yum-utilsëŠ” YUM íŒ¨í‚¤ì§€ ê´€ë¦¬ìì˜ ì—¬ëŸ¬ ìœ ìš©í•œ ë„êµ¬ë“¤ì„ í¬í•¨í•œ íŒ¨í‚¤ì§€ë¡œ, YUM ë¦¬í¬ì§€í† ë¦¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì œê³µ Dockerì˜ ê³µì‹ ë¦¬í¬ì§€í† ë¦¬ë¥¼ CentOSì— ì¶”ê°€ [student@bitcamp-svr1 ~]$ sudo yum install -y yum-utils Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile * epel: repo.jing.rocks Package yum-utils-1.1.31-54.el7_8.noarch already installed and latest version Nothing to do [student@bitcamp-svr1 ~]$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo Loaded plugins: fastestmirror, langpacks adding repo from: https://download.docker.com/linux/centos/docker-ce.repo grabbing file https://download.docker.com/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo repo saved to /etc/yum.repos.d/docker-ce.repo Docker Engine ì„¤ì¹˜ $ sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin [student@bitcamp-svr1 ~]$ sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile * epel: repo.jing.rocks ... Complete! Docker engine ì‹œì‘ $ sudo systemctl start docker [student@bitcamp-svr1 ~]$ sudo systemctl start docker Docker ì„¤ì¹˜ í™•ì¸ $ sudo docker run hello-world [student@bitcamp-svr1 ~]$ sudo docker run hello-world Unable to find image 'hello-world:latest' locally latest: Pulling from library/hello-world c1ec31eb5944: Pull complete Digest: sha256:d211f485f2dd1dee407a80973c8f129f00d54604d2c90732e8e320e5038a0348 Status: Downloaded newer image for hello-world:latest Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ (8) Docker ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰ë„ì»¤ ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰ ìš°ë¶„íˆ¬ 14.04 ì»¨í…Œì´ë„ˆ ìƒì„± $ sudo docker run -i -t ubuntu:14.04 [student@bitcamp-svr1 ~]$ sudo docker run -i -t ubuntu:14.04 Unable to find image 'ubuntu:14.04' locally 14.04: Pulling from library/ubuntu 2e6e20c8e2e6: Pull complete 0551a797c01d: Pull complete 512123a864da: Pull complete Digest: sha256:64483f3496c1373bfd55348e88694d1c4d0c9b660dee6bfef5e12f43b9933b30 Status: Downloaded newer image for ubuntu:14.04 root@afe8ed187221:/# ì»¨í…Œì´ë„ˆì— ì ‘ì†í•œ ìƒíƒœì´ë‹¤. (root@afe8ed187221:/#) root@afe8ed187221:/# whoami root root@afe8ed187221:/# hostname afe8ed187221 root@afe8ed187221:/# ls bin dev home lib64 mnt proc run srv tmp var boot etc lib media opt root sbin sys usr ì»¨í…Œì´ë„ˆ ë‚˜ê°€ê¸° (# exit, or ctrl + D) â‡’ ë‹¤ì‹œ ë¦¬ëˆ…ìŠ¤ ì„œë²„ë¡œ ëŒì•„ì˜¨ë‹¤. â‡’ í—·ê°ˆë¦¬ë©´ ì•ˆëœë‹¤. ìš°ë¦¬ëŠ” í˜„ì¬ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ì ‘ì†í•œ ìƒíƒœì—ì„œ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•œ ê²ƒì´ë‹¤. â˜… ë‹¨, ì»¨í…Œì´ë„ˆë¥¼ ë‚˜ê°ˆ ë•Œ ì»¨í…Œì´ë„ˆë„ ì¢…ë£Œëœë‹¤. ë„ì»¤ ì´ë¯¸ì§€ ëª©ë¡ í™•ì¸í•˜ê¸° $ sudo docker images í˜„ì¬ Docker ì‹œìŠ¤í…œì— ë‹¤ìš´ë¡œë“œë˜ì–´ ìˆëŠ” ì´ë¯¸ì§€ ëª©ë¡ [student@bitcamp-svr1 ~]$ sudo docker images REPOSITORY TAG IMAGE ID CREATED SIZE hello-world latest d2c94e258dcb 18 months ago 13.3kB ubuntu 14.04 13b66b487594 3 years ago 197MB ë„ì»¤ ì´ë¯¸ì§€ ë‚´ë ¤ë°›ê¸° (centos:7) $ sudo docker pull centos:7 [student@bitcamp-svr1 ~]$ sudo docker pull centos:7 7: Pulling from library/centos 2d473b07cdd5: Pull complete Digest: sha256:be65f488b7764ad3638f236b7b515b3678369a5124c47b8d32916d6487418ea4 Status: Downloaded newer image for centos:7 docker.io/library/centos:7 [student@bitcamp-svr1 ~]$ sudo docker images REPOSITORY TAG IMAGE ID CREATED SIZE hello-world latest d2c94e258dcb 18 months ago 13.3kB centos 7 eeb6ee3f44bd 3 years ago 204MB ubuntu 14.04 13b66b487594 3 years ago 197MB ë„ì»¤ ì´ë¯¸ì§€ë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±í•˜ê¸° $ sudo docker create -i -t --name mycentos centos:7 [student@bitcamp-svr1 ~]$ sudo docker create -i -t --name mycentos centos:7 7d357dfeb0f6f7193ba11ea9e8306fe8bf9a159018182aefee82a1c76a323a96 (ì»¨í…Œì´ë„ˆì˜ ê³ ìœ  ID) ë„ì»¤ ì»¨í…Œì´ë„ˆ ëª©ë¡ ë³´ê¸° $ sudo docker ps $ sudo docker ps -a [student@bitcamp-svr1 ~]$ sudo docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 45 seconds ago Created mycentos f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 11 minutes ago Exited (1) 8 minutes ago laughing_haibt afe8ed187221 ubuntu:14.04 \"/bin/bash\" 19 minutes ago Exited (0) 12 minutes ago serene_shtern 49cc738cd62f hello-world \"/hello\" 23 minutes ago Exited (0) 23 minutes ago charming_shirley nameì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ 2ê°œ ë‹¨ì–´ë¡œ ë§Œë“ ë‹¤. $ sudo docker ps -a : ì „ì²´ ì»¨í…Œì´ë„ˆ ì¶œë ¥ $ sudo docker ps : í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ê²ƒë§Œ ë‚˜ì˜¨ë‹¤. CONTAINER ID : ì»¨í…Œì´ë„ˆì— ìë™ í• ë‹¹ë˜ëŠ” ê³ ìœ í•œ ID. $ sudo docker inspect ì»¨í…Œì´ë„ˆì´ë¦„ | grep Id : ì»¨í…Œì´ë„ˆ ID ì „ì²´ ë³´ê¸° IMAGE : ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì´ë¦„ COMMAND : ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë  ë•Œ ì‹¤í–‰ë  ëª…ë ¹ CREATED : ì»¨í…Œì´ë„ˆê°€ ìƒì„±ëœ í›„ íë¥¸ ì‹œê°„ STATUS : ì»¨í…Œì´ë„ˆ ìƒíƒœ ( Up(ì‹¤í–‰ì¤‘), Exited(ì¢…ë£Œ), Pause(ì¤‘ì§€) ) PORTS : ì»¨í…Œì´ë„ˆê°€ ê°œë°©í•œ í¬íŠ¸ì™€ í˜¸ìŠ¤íŠ¸ì— ì—°ê²°í•œ í¬íŠ¸ ì™¸ë¶€ì— ë…¸ì¶œí•˜ë„ë¡ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¶œë ¥ ë‚´ìš© ì—†ìŒ NAMES : ì»¨í…Œì´ë„ˆì˜ ê³ ìœ í•œ ì´ë¦„ --name ì˜µì…˜ìœ¼ë¡œ ì„¤ì •í•œ ì´ë¦„. ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ í˜•ìš©ì‚¬ì™€ ëª…ì‚¬ë¥¼ ì‚¬ìš©í•´ ë¬´ì‘ìœ„ ìƒì„± $ sudo docker rename ë¬´ì‘ìœ„ì´ë¦„ ìƒˆì´ë¦„ ë„ì»¤ ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸° $ sudo docker start mycentos $ sudo docker start í•´ì‹œì•„ì´ë””ì¼ë¶€ë¶„ [student@bitcamp-svr1 ~]$ sudo docker start mycentos mycentos [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 5 minutes ago Up 55 seconds mycentos f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 16 minutes ago Exited (1) 13 minutes ago laughing_haibt afe8ed187221 ubuntu:14.04 \"/bin/bash\" 23 minutes ago Exited (0) 16 minutes ago serene_shtern 49cc738cd62f hello-world \"/hello\" 28 minutes ago Exited (0) 28 minutes ago charming_shirley [student@bitcamp-svr1 ~]$ sudo docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 5 minutes ago Up About a minute mycentos ë„ì»¤ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ê¸° $ sudo docker attach mycentos [student@bitcamp-svr1 ~]$ sudo docker attach mycentos [root@7d357dfeb0f6 /]# [root@7d357dfeb0f6 /]# exit exit [student@bitcamp-svr1 ~]$ sudo docker attach mycentos You cannot attach to a stopped container, start it first [student@bitcamp-svr1 ~]$ sudo docker start mycentos mycentos [student@bitcamp-svr1 ~]$ sudo docker attach mycentos [root@7d357dfeb0f6 /]# [root@7d357dfeb0f6 /]# read escape sequence (ctrl + p, ctrl + q) [student@bitcamp-svr1 ~]$ sudo docker attach mycentos [root@7d357dfeb0f6 /]# exitë¡œ ë‚˜ê°€ë©´ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•œë‹¤. â‡’ ctrl + P â‡’ ctrl + Q ë¡œ ë‹¨ìˆœíˆ ì»¨í…Œì´ë„ˆ ì‰˜ë§Œ ë¹ ì ¸ë‚˜ê°„ë‹¤. (ì‹¤í–‰ ìœ ì§€) â˜… í•œë°©ì— ëª¨ë“  ê³¼ì •ì„ ëë‚´ëŠ” ë²• docker run -i -t â˜… ì´ë¯¸ì§€ ì—†ìœ¼ë©´ docker pull docker create -i -t docker start docker attach : -i -t ì˜µì…˜ì„ ì‚¬ìš©í–ˆì„ ë•Œ docker create ì´ë¯¸ì§€ ì—†ìœ¼ë©´ docker pull ë„ì»¤ ì»¨í…Œì´ë„ˆ rename $ sudo docker rename ë¬´ì‘ìœ„ì´ë¦„ ìƒˆì´ë¦„ [student@bitcamp-svr1 ~]$ sudo docker rename charming_shirley hello [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 30 minutes ago Up 22 minutes mycentos f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 41 minutes ago Exited (1) 38 minutes ago laughing_haibt afe8ed187221 ubuntu:14.04 \"/bin/bash\" 49 minutes ago Exited (0) 42 minutes ago serene_shtern 49cc738cd62f hello-world \"/hello\" 54 minutes ago Exited (0) About a minute ago hello ë„ì»¤ ì»¨í…Œì´ë„ˆ ì‚­ì œí•˜ê¸° $ sudo docker rm ì»¨í…Œì´ë„ˆì´ë¦„ [student@bitcamp-svr1 ~]$ sudo docker rm serene_shtern serene_shtern [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 31 minutes ago Up 23 minutes mycentos f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 42 minutes ago Exited (1) 39 minutes ago laughing_haibt 49cc738cd62f hello-world \"/hello\" 54 minutes ago Exited (0) 2 minutes ago hello ì‹¤í–‰ ì¤‘ì¸ ê²ƒì€ ë©ˆì¶”ê³  ì‚­ì œí•´ì•¼ í•œë‹¤. $ sudo docker stop ì»¨í…Œì´ë„ˆì´ë¦„ [student@bitcamp-svr1 ~]$ sudo docker stop mycentos mycentos [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7d357dfeb0f6 centos:7 \"/bin/bash\" 32 minutes ago Exited (137) 2 seconds ago mycentos f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 43 minutes ago Exited (1) 40 minutes ago laughing_haibt 49cc738cd62f hello-world \"/hello\" 55 minutes ago Exited (0) 3 minutes ago hello [student@bitcamp-svr1 ~]$ sudo docker rm mycentos mycentos [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 43 minutes ago Exited (1) 40 minutes ago laughing_haibt 49cc738cd62f hello-world \"/hello\" 55 minutes ago Exited (0) 3 minutes ago hello ì‹¤í–‰ ì¤‘ì¸ ê²ƒë„ ê°•ì œ ì‚­ì œí•˜ê¸° $ sudo docker rm -f ì»¨í…Œì´ë„ˆëª… [student@bitcamp-svr1 ~]$ sudo docker rm -f mycentos2 mycentos2 [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES f1079aa5ffc1 ubuntu:14.04 \"/bin/bash\" 45 minutes ago Exited (1) 42 minutes ago laughing_haibt 49cc738cd62f hello-world \"/hello\" 57 minutes ago Exited (0) 5 minutes ago hello ì •ì§€ëœ ëª¨ë“  ì»¨í…Œì´ë„ˆ ì‚­ì œ $ sudo docker container prune [student@bitcamp-svr1 ~]$ sudo docker container prune WARNING! This will remove all stopped containers. Are you sure you want to continue? [y/N] y Deleted Containers: f1079aa5ffc19014f4da63d1d1df4677bece49f3e6b6650d05f3fb6fbad0d0fd 49cc738cd62f5a140a2244eb2fc2666bdaf4e0e7f820bd40106e644fd6748077 Total reclaimed space: 24B [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES (8-1) ì™¸ë¶€ì—ì„œ ì»¨í…Œì´ë„ˆ ì ‘ì†í•˜ê¸° í˜„ì¬ëŠ” ë„ì»¤ê°€ ì„¤ì¹˜ëœ í˜¸ìŠ¤íŠ¸ë§Œ ì ‘ì† ê°€ëŠ¥í•œë° ì™¸ë¶€ì—ì„œë„ ì ‘ì†í•  ìˆ˜ ìˆê²Œ ì„¤ì •ubuntu ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³  ì‹œì‘ $ sudo docker run -i -t --name network_test ubuntu:14.04 [student@bitcamp-svr1 ~]$ sudo docker run -i -t --name network_test ubuntu:14.04 root@4fa012018bab:/# root@4fa012018bab:/# ifconfig eth0 Link encap:Ethernet HWaddr 02:42:ac:11:00:02 inet addr:172.17.0.2 Bcast:172.17.255.255 Mask:255.255.0.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:1 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:0 (0.0 B) TX bytes:42 (42.0 B) lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr: ::1/128 Scope:Host UP LOOPBACK RUNNING MTU:65536 Metric:1 RX packets:1 errors:0 dropped:0 overruns:0 frame:0 TX packets:1 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:28 (28.0 B) TX bytes:28 (28.0 B) # ifconfig : í˜„ì¬ ì´ ì»¨í…Œì´ë„ˆì˜ IP address ë‚˜ì˜¨ë‹¤. ì»¨í…Œì´ë„ˆì— ì•„íŒŒì¹˜ ì„¤ì¹˜í•˜ê¸° # apt install apache2 root@4fa012018bab:/# apt install apache2 Reading package lists... Done Building dependency tree Reading state information... Done The following extra packages will be installed: ..... ì•„íŒŒì¹˜ ì‹¤í–‰ # service apache2 start root@4fa012018bab:/# service apache2 status * apache2 is not running root@4fa012018bab:/# service apache2 start * Starting web server apache2 í…ŒìŠ¤íŠ¸ root@4fa012018bab:/# apt install curl Reading package lists... Done Building dependency tree Reading state information... Done The following extra packages will be installed: libcurl3 The following NEW packages will be installed: curl libcurl3 0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded. Need to get 295 kB of archives. After this operation, 871 kB of additional disk space will be used. Do you want to continue? [Y/n] y ... ... root@4fa012018bab:/# curl http://www.naver.com &lt;html&gt; &lt;head&gt;&lt;title&gt;302 Found&lt;/title&gt;&lt;/head&gt; &lt;body&gt; &lt;center&gt;&lt;h1&gt;302 Found&lt;/h1&gt;&lt;/center&gt; &lt;hr&gt;&lt;center&gt; NWS &lt;/center&gt; &lt;/body&gt; &lt;/html&gt; curl CLIìš© HTTP í´ë¼ì´ì–¸íŠ¸ë¡œ, HTTP/HTTPS ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆëŠ” ë„êµ¬ # curl localhost / $ curl 172.17.0.2 root@4fa012018bab:/# curl localhost &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;!-- Modified from the Debian original for Ubuntu Last updated: 2014-03-19 See: https://launchpad.net/bugs/1288690 --&gt; &lt;head&gt; .... ë¦¬ëˆ…ìŠ¤ì—ì„œ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ DOCKERì— ë‹¹ì—°íˆ ì ‘ì† ê°€ëŠ¥ ì™¸ë¶€ì—ì„œ ì»¨í…Œì´ë„ˆ ì ‘ì†í•˜ê¸° ë¦¬ëˆ…ìŠ¤ ì„œë²„ ê³µì¸ IP (NCP) [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4fa012018bab ubuntu:14.04 \"/bin/bash\" 19 minutes ago Up 19 minutes network_test [student@bitcamp-svr1 ~]$ curl 172.17.0.2 ë¦¬ëˆ…ìŠ¤ ì„œë²„ì—ì„œ í˜„ì¬ ì»¨í…Œì´ë„ˆì— ì ‘ì†ì´ ë˜ëŠ”ë° ì™¸ë¶€ì—ì„œëŠ” ì•ˆ ëœë‹¤. â‡’ í¬íŠ¸ í¬ì›Œë”©ì´ í•„ìš”í•˜ë‹¤. (8-2) í¬íŠ¸ í¬ì›Œë”©í¬íŠ¸ í¬ì›Œë”© ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ ë•Œ ì˜µì…˜ì„ ì§€ì •í•´ì•¼ í•œë‹¤. $ sudo docker run -i -t --name ì»¨í…Œì´ë„ˆì´ë¦„ -p 80:80 ubuntu:14.04 â‡’ ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— ì ‘ì†í•˜ë©´ ì»¨í…Œì´ë„ˆì— ì „ë‹¬í•˜ë„ë¡ [student@bitcamp-svr1 ~]$ sudo docker run -i -t --name network_test2 -p 80:80 ubuntu:14.04 [sudo] password for student: root@7bb74ebaa03b:/# # apt install apache2 # service apache2 start ctrl P, ctrl q [student@bitcamp-svr1 ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 7bb74ebaa03b ubuntu:14.04 \"/bin/bash\" About a minute ago Up About a minute 0.0.0.0:80-&gt;80/tcp network_test2 4fa012018bab ubuntu:14.04 \"/bin/bash\" 26 minutes ago Up 26 minutes network_test â‡’ hostì— 80 í¬íŠ¸ë¡œ ì˜¤ë©´ ì»¨í…Œì´ë„ˆì˜ 80ë²ˆ í¬íŠ¸ë¡œ ì „ë‹¬í•˜ë¼. ì¸í„°ë ‰ì…˜(-i ì˜µì…˜)ì„ í•˜ì§€ ì•Šìœ¼ë©´ ì‹œì‘í•˜ì ë§ˆì exited ëœë‹¤. ë‹¤ì‹œ ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  101.79.10.151 ì—´ê¸° ì´ë²ˆì—” 8888 í¬íŠ¸ë¥¼ 80í¬íŠ¸ë¡œ ì—°ê²°í•˜ê¸° (ìœ„ì˜ ê³¼ì • ë°˜ë³µ) ë¸Œë¼ìš°ì €ì—ì„œ http://101.79.10.151:8888/ $ curl ip.meë¡œ ì„œë²„ IP ì£¼ì†Œë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤. index.html ì§ì ‘ ìˆ˜ì •í•˜ê¸° # cd var/www/html # sudo vi index.html root@b39f2c13ef55:/# cd var/www/html root@b39f2c13ef55:/var/www/html# sudo nano index.html sudo: nano: command not found (nano editorê°€ ì—†ìŒ) root@b39f2c13ef55:/var/www/html# sudo vi index.html (ìˆ˜ì • ì‘ì—… í•˜ê¸° esc + a) 8888 í¬íŠ¸ë¡œ ë“¤ì–´ì˜¨ ì‚¬ì´íŠ¸ë¥¼ ìˆ˜ì •í•œ ê²ƒ ë„ì»¤ê°€ ë°”ì¸ë”©ëœ í¬íŠ¸ë²ˆí˜¸ í™•ì¸í•˜ê¸° $ sudo docker port ì»¨í…Œì´ë„ˆì´ë¦„ [student@bitcamp-svr1 ~]$ sudo docker port network_test (ë°”ì¸ë”©ë„ë‹ˆ í¬íŠ¸ë²ˆí˜¸ê°€ ì—†ìœ¼ë¯€ë¡œ) [student@bitcamp-svr1 ~]$ sudo docker port network_test2 80/tcp -&gt; 0.0.0.0:80 [student@bitcamp-svr1 ~]$ sudo docker port network_test3 80/tcp -&gt; 0.0.0.0:8888 (ì»¨í…Œì´ë„ˆ) (í˜¸ìŠ¤íŠ¸) ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ê¸° $ sudo docker exec -i -t ì»¨í…Œì´ë„ˆëª… /bin/bash [student@bitcamp-svr1 ~]$ sudo docker exec -i -t mycentos /bin/bash root@ea73d30ab8ea:/# attachì™€ ê²°ê³¼ëŠ” ë™ì¼í•˜ë‹¤. Detached ëª¨ë“œë¡œ ì»¨í…Œì´ë„ˆì˜ ë‚´ë¶€ ì…¸ì„ ì‚¬ìš©í•˜ê¸° $ sudo docker exec ì»¨í…Œì´ë„ˆëª… ëª…ë ¹ì–´ ì ‘ì†ì„ í•˜ì§€ ì•Šê³  ì»¨í…Œì´ë„ˆì— ëª…ë ¹ ë„£ê¸° â‡’ ì»¨í…Œì´ë„ˆëŠ” ê²°ê³¼ë¥¼ host osì— ë¦¬í„´í•œë‹¤. [student@bitcamp-svr1 ~]$ sudo docker exec mycentos ls bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var [student@bitcamp-svr1 ~]$ sudo docker exec mycentos ls -al total 4 drwxr-xr-x 1 root root 6 Nov 7 05:22 . drwxr-xr-x 1 root root 6 Nov 7 05:22 .. -rwxr-xr-x 1 root root 0 Nov 7 05:22 .dockerenv drwxr-xr-x 2 root root 4096 Dec 17 2019 bin drwxr-xr-x 2 root root 6 Apr 10 2014 boot drwxr-xr-x 5 root root 360 Nov 7 05:22 dev drwxr-xr-x 1 root root 66 Nov 7 05:22 etc drwxr-xr-x 2 root root 6 Apr 10 2014 home drwxr-xr-x 12 root root 208 Dec 17 2019 lib drwxr-xr-x 2 root root 34 Dec 17 2019 lib64 drwxr-xr-x 2 root root 6 Dec 17 2019 media drwxr-xr-x 2 root root 6 Apr 10 2014 mnt drwxr-xr-x 2 root root 6 Dec 17 2019 opt dr-xr-xr-x 141 root root 0 Nov 7 05:22 proc drwx------ 2 root root 37 Dec 17 2019 root drwxr-xr-x 1 root root 21 Mar 25 2021 run drwxr-xr-x 1 root root 44 Mar 25 2021 sbin drwxr-xr-x 2 root root 6 Dec 17 2019 srv dr-xr-xr-x 13 root root 0 Nov 7 05:22 sys drwxrwxrwt 2 root root 6 Dec 17 2019 tmp drwxr-xr-x 1 root root 18 Dec 17 2019 usr drwxr-xr-x 1 root root 17 Dec 17 2019 var (9) bitcamp-final ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆ ìƒì„± ì“¸ëª¨ì—†ëŠ” ê²ƒ ì œê±° [student@bitcamp-svr-final ~]$ sudo docker container prune WARNING! This will remove all stopped containers. Are you sure you want to continue? [y/N] y Deleted Containers: cb7242e92e05b1b870af538ed311932dc3c2f0d4455300ae674f1df8d5d013ad 1252c24fd0a43f4829ebbf4ea40de8df96be9234c1d8970f332e7b5274b379aa 14a8c9099f593449cdb93c8682633ce1e76894337fe31ca017581d70c363202a a4f3d6a4d499d51e636f171e900b34671a16dd2a6dc4912e88688816ef1c7b14 Total reclaimed space: 69B [student@bitcamp-svr-final ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ubuntu ìµœì‹  ë²„ì „ ì´ë¯¸ì§€ë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±** Ubuntu 22.04 ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹¤í–‰ $ sudo docker run -p 8080:8080 -it --name bitcamp-final ubuntu [student@bitcamp-svr-final ~]$ sudo docker run -p 8080:8080 -it --name bitcamp-final ubuntu Unable to find image 'ubuntu:latest' locally latest: Pulling from library/ubuntu ff65ddf9395b: Pull complete Digest: sha256:99c35190e22d294cdace2783ac55effc69d32896daaa265f0bbedbcde4fbe3e5 Status: Downloaded newer image for ubuntu:latest root@506a7a2a9ecb:/# [student@bitcamp-svr-final ~]$ sudo docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 506a7a2a9ecb bitcamp-final:first \"/bin/bash\" 2 days ago Up 2 seconds 0.0.0.0:8080-&gt;8080/tcp bitcamp-final -i -t = -it ë‹¤ì‹œ ì„œë²„ë¡œ ë‚˜ê°€ì„œ ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸ ì¬ì ‘ì† í›„ # apt update $ sudo docker exec -it bitcamp-final /bin/bash ì»¨í…Œì´ë„ˆì—ì„œ # apt update [student@bitcamp-svr-final ~]$ sudo docker exec -it bitcamp-final /bin/bash root@506a7a2a9ecb:/# apt update Get:1 http://archive.ubuntu.com/ubuntu noble InRelease [256 kB] Get:2 http://security.ubuntu.com/ubuntu noble-security InRelease [126 kB] Get:3 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Packages [15.3 kB] Get:4 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Packages [720 kB] Get:5 http://archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB] Get:6 http://archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB] Get:7 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [537 kB] Get:8 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages [574 kB] Get:9 http://archive.ubuntu.com/ubuntu noble/multiverse amd64 Packages [331 kB] Get:10 http://archive.ubuntu.com/ubuntu noble/restricted amd64 Packages [117 kB] Get:11 http://archive.ubuntu.com/ubuntu noble/main amd64 Packages [1808 kB] Get:12 http://archive.ubuntu.com/ubuntu noble/universe amd64 Packages [19.3 MB] Get:13 http://archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [922 kB] Get:14 http://archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [542 kB] Get:15 http://archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Packages [18.4 kB] Get:16 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [792 kB] Get:17 http://archive.ubuntu.com/ubuntu noble-backports/universe amd64 Packages [11.8 kB] Fetched 26.3 MB in 7s (3805 kB/s) Reading package lists... Done Building dependency tree... Done Reading state information... Done 3 packages can be upgraded. Run 'apt list --upgradable' to see them. ê¸°íƒ€ í”„ë¡œê·¸ë¨ ì¶”ê°€ ë° ì„¤ì • ifconfig ë“± ë„¤íŠ¸ì›Œí‚¹ ê´€ë ¨ í”„ë¡œê·¸ë¨ ì¶”ê°€ # apt update # apt install net-tools nano ì—ë””í„° ì„¤ì¹˜ # apt install nano JDK ì„¤ì¹˜ # apt install openjdk-21-jdk -y JAVA_HOME í™˜ê²½ ë³€ìˆ˜ ì„¤ì • root@506a7a2a9ecb:/# ls -al /usr/lib/jvm total 8 drwxr-xr-x 4 root root 126 Nov 7 16:36 . drwxr-xr-x 1 root root 4096 Nov 7 16:36 .. -rw-r--r-- 1 root root 1840 Jul 23 10:34 .java-1.21.0-openjdk-amd64.jinfo lrwxrwxrwx 1 root root 21 Jul 23 10:34 java-1.21.0-openjdk-amd64 -&gt; java-21-openjdk-amd64 drwxr-xr-x 9 root root 119 Nov 7 16:36 java-21-openjdk-amd64 drwxr-xr-x 2 root root 21 Nov 7 16:36 openjdk-21 root@506a7a2a9ecb:/# echo 'export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64' | tee -a /etc/bash.bashrc export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64 root@506a7a2a9ecb:/# cat /etc/bash.bashrc (í™•ì¸í•˜ëŠ” ê²ƒ) # System-wide .bashrc file for interactive bash(1) shells. # To enable the settings / commands in this file for login shells as well, # this file has to be sourced in /etc/profile. # If not running interactively, don't do anything [ -z \"$PS1\" ] &amp;&amp; return # check the window size after each command and, if necessary, # update the values of LINES and COLUMNS. shopt -s checkwinsize # set variable identifying the chroot you work in (used in the prompt below) if [ -z \"${debian_chroot:-}\" ] &amp;&amp; [ -r /etc/debian_chroot ]; then debian_chroot=$(cat /etc/debian_chroot) fi # set a fancy prompt (non-color, overwrite the one in /etc/profile) # but only if not SUDOing and have SUDO_PS1 set; then assume smart user. if ! [ -n \"${SUDO_USER}\" -a -n \"${SUDO_PS1}\" ]; then PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:\\w\\$ ' fi # Commented out, don't overwrite xterm -T \"title\" -n \"icontitle\" by default. # If this is an xterm set the title to user@host:dir #case \"$TERM\" in #xterm*|rxvt*) # PROMPT_COMMAND='echo -ne \"\\033]0;${USER}@${HOSTNAME}: ${PWD}\\007\"' # ;; #*) # ;; #esac # enable bash completion in interactive shells #if ! shopt -oq posix; then # if [ -f /usr/share/bash-completion/bash_completion ]; then # . /usr/share/bash-completion/bash_completion # elif [ -f /etc/bash_completion ]; then # . /etc/bash_completion # fi #fi # sudo hint if [ ! -e \"$HOME/.sudo_as_admin_successful\" ] &amp;&amp; [ ! -e \"$HOME/.hushlogin\" ] ; then case \" $(groups) \" in *\\ admin\\ *|*\\ sudo\\ *) if [ -x /usr/bin/sudo ]; then cat &lt;&lt;-EOF To run a command as administrator (user \"root\"), use \"sudo &lt;command&gt;\". See \"man sudo_root\" for details. EOF fi esac fi # if the command-not-found package is installed, use it if [ -x /usr/lib/command-not-found -o -x /usr/share/command-not-found/command-not-found ]; then function command_not_found_handle { # check because c-n-f could've been removed in the meantime if [ -x /usr/lib/command-not-found ]; then /usr/lib/command-not-found -- \"$1\" return $? elif [ -x /usr/share/command-not-found/command-not-found ]; then /usr/share/command-not-found/command-not-found -- \"$1\" return $? else printf \"%s: command not found\\n\" \"$1\" &gt;&amp;2 return 127 fi } fi export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64 ì´ë ‡ê²Œ ë§¨ ë§ˆì§€ë§‰ì— ë“¤ì–´ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64 í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì ìš© í›„ í™•ì¸ root@506a7a2a9ecb:/# source /etc/bash.bashrc root@506a7a2a9ecb:/# echo $JAVA_HOME /usr/lib/jvm/java-21-openjdk-amd64 git ì„¤ì¹˜ # apt install git -y # apt install git -y root@506a7a2a9ecb:/# git --version git version 2.43.0 wget ì„¤ì¹˜ # apt install wget -y unzip ì„¤ì¹˜ # apt install unzip -y bitcamp-final ì €ì¥ì†Œ ë³µì œ í›„ ë¹Œë“œ ë° ì‹¤í–‰ bitcamp-fianl git ì €ì¥ì†Œ ê°€ì ¸ì˜¤ê¸° # git clone â€¦ root@506a7a2a9ecb:/# cd root@506a7a2a9ecb:/# pwd /root root@506a7a2a9ecb:/# mkdir git root@506a7a2a9ecb:/# cd git root@506a7a2a9ecb:/#:~/git# git clone https://github.com/backnback/bitcamp-final Cloning into 'bitcamp-final'... remote: Enumerating objects: 98, done. remote: Counting objects: 100% (98/98), done. remote: Compressing objects: 100% (71/71), done. remote: Total 98 (delta 15), reused 95 (delta 15), pack-reused 0 (from 0) Receiving objects: 100% (98/98), 77.82 KiB | 2.51 MiB/s, done. Resolving deltas: 100% (15/15), done. ë¹Œë“œ í›„ ì‹¤í–‰í•˜ê¸° root@506a7a2a9ecb:~/git/bitcamp-final# ./gradlew build bash: ./gradlew: Permission denied root@506a7a2a9ecb:~/git/bitcamp-final# chmod 755 ./gradlew root@506a7a2a9ecb:~/git/bitcamp-final# ./gradlew build Downloading https://services.gradle.org/distributions/gradle-8.10.2-bin.zip .... root@506a7a2a9ecb:~/git/bitcamp-final# java -jar ./app/build/libs/bitcamp-final.jar ì‹¤í–‰ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤. â‡’ final.properties ê³¼ email.properties ì¶”ê°€ í•„ìš” final.properties ê³¼ email.properties ì¶”ê°€ í›„ ì¬ì‹¤í–‰ root@506a7a2a9ecb:~/git/bitcamp-final# cd root@506a7a2a9ecb:~# mkdir config root@506a7a2a9ecb:~# cd config root@506a7a2a9ecb:~/config# nano final.properties root@506a7a2a9ecb:~/config# nano email.properties root@506a7a2a9ecb:~/config# cd root@506a7a2a9ecb:~# cd git/bitcamp-final root@506a7a2a9ecb:~/git/bitcamp-final# java -jar ./app/build/libs/bitcamp-final.jar (10) ì»¨í…Œì´ë„ˆë¡œ ì´ë¯¸ì§€ ìƒì„±ì»¨í…Œì´ë„ˆë¥¼ ê·¸ëŒ€ë¡œ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ê¸° $ sudo docker commit ì˜µì…˜ ì»¨í…Œì´ë„ˆëª… REPOSITORY:TAG $ sudo docker commit -a \"alicek106\" -m \"my first commit\" commit_test commit_test:first -a author : ì´ë¯¸ì§€ ì‘ì„±ìì— ëŒ€í•œ ì •ë³´ë¥¼ ì´ë¯¸ì§€ì— í¬í•¨ì‹œí‚¨ë‹¤. -m ì»¤ë°‹ë©”ì‹œì§€ : ì´ë¯¸ì§€ì— í¬í•¨ë  ë¶€ê°€ ì„¤ëª…ì„ ì„¤ì •í•œë‹¤. root@506a7a2a9ecb:~/git/bitcamp-final# cd root@506a7a2a9ecb:~# exit exit [student@bitcamp-svr-final ~]$ sudo docker commit -a \"backnback\" -m \"my first commit\" bitcamp-final bitcamp-final:first sha256:73.... [student@bitcamp-svr-final ~]$ sudo docker image ls REPOSITORY TAG IMAGE ID CREATED SIZE bitcamp-final first 73..... 15 seconds ago 1...GB wordpress latest 4c9b15c9a8ae 3 weeks ago 697MB ubuntu latest 59ab366372d5 3 weeks ago 78.1MB mysql 5.7 5107333e08a8 11 months ago 501MB hello-world latest d2c94e258dcb 18 months ago 13.3kB centos 7 eeb6ee3f44bd 3 years ago 204MB ubuntu 14.04 13b66b487594 3 years ago 197MB alicek106/volume_test latest 342a67bc9486 8 years ago 197MB ë§Œë“  ì´ë¯¸ì§€ë¡œ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê¸° $ sudo docker run -i -t --name commit_test2 commit_test:first ì»¨í…Œì´ë„ˆ ë³€ê²½ : # echo test_second! &gt;&gt; second [student@bitcamp-svr-final ~]$ sudo docker stop bitcamp-final bitcamp-final [student@bitcamp-svr-final ~]$ sudo docker run -i -t --name bitcamp-fianl2 -p 8081:8080 bitcamp-final:first ctrl + P â‡’ ctrl + Q ë¥¼ í•˜ë©´ ì¢…ë£Œ ì•ˆí•˜ê³  ì„œë²„ë¡œ ê°ˆ ìˆ˜ ìˆë‹¤. ì„œë²„ë¥¼ ì—¬ëŸ¬ ê°œ ë„ìš¸ ìˆ˜ ìˆë‹¤. " }, { "title": "bitcamp-final í”„ë¡œì íŠ¸ ë°°í¬í•˜ê¸° 1", "url": "/posts/final-deploy-1/", "categories": "í”„ë¡œì íŠ¸, CICD, Docker", "tags": "Docker, NCP, Server", "date": "2024-11-20 15:08:00 +0900", "snippet": "(1) ë°°í¬ íŒŒì¼ ìƒì„± ë° ì‹¤í–‰ í™•ì¸build.gradle ë³€ê²½ ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤í–‰ jar íŒŒì¼ì„ ë§Œë“¤ ë•Œ íŒŒì¼ëª… ì„¤ì • jar íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê²Œ ì„¤ì • [build.gradle] plugins { id 'java' id 'org.springframework.boot' version '2.7.18' id...", "content": "(1) ë°°í¬ íŒŒì¼ ìƒì„± ë° ì‹¤í–‰ í™•ì¸build.gradle ë³€ê²½ ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤í–‰ jar íŒŒì¼ì„ ë§Œë“¤ ë•Œ íŒŒì¼ëª… ì„¤ì • jar íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê²Œ ì„¤ì • [build.gradle] plugins { id 'java' id 'org.springframework.boot' version '2.7.18' id 'io.spring.dependency-management' version '1.1.6' } ... // ìŠ¤í”„ë§ë¶€íŠ¸ ì‹¤í–‰ jar íŒŒì¼ì„ ë§Œë“¤ ë•Œ íŒŒì¼ëª… ì„¤ì • bootJar { archiveFileName = \"${rootProject.name}.jar\" } // jar íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šê²Œ ì„¤ì • tasks.named(\"jar\") { enabled = false } ... Gradle ëª…ë ¹ì–´ $ gradle help --task bootJar íŠ¹ì • íƒœìŠ¤í¬(bootJar)ì— ëŒ€í•œ ë„ì›€ë§ ì¶œë ¥ $ gradle build --console=plain í”„ë¡œì íŠ¸ ë¹Œë“œ C:\\Users\\river\\git\\bitcamp-final\\app\\build\\libsì— bitcamp-final.jar ìƒê¸´ë‹¤. (settings.gradleì˜ rootProject.nameì„ ì„¤ì •í•œëŒ€ë¡œ) --console=plain : ì¶œë ¥ í˜•ì‹ = í‰ë¬¸ ì„¤ì • (ê¹”ë”í•˜ê²Œ ë¡œê·¸ í™•ì¸) river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ gradle build --console=plain &gt; Task :app:compileJava UP-TO-DATE &gt; Task :app:processResources UP-TO-DATE &gt; Task :app:classes UP-TO-DATE &gt; Task :app:bootJarMainClassName UP-TO-DATE &gt; Task :app:bootJar UP-TO-DATE &gt; Task :app:jar SKIPPED &gt; Task :app:assemble UP-TO-DATE &gt; Task :app:compileTestJava UP-TO-DATE &gt; Task :app:processTestResources UP-TO-DATE &gt; Task :app:testClasses UP-TO-DATE &gt; Task :app:test UP-TO-DATE &gt; Task :app:check UP-TO-DATE &gt; Task :app:build UP-TO-DATE BUILD SUCCESSFUL in 1s 7 actionable tasks: 7 up-to-date Jar íŒŒì¼ ì‹¤í–‰í•˜ê¸° $ java -jar bitcamp-final.jar river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ cd app/build/libs river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final/app/build/libs (backnback) $ ls bitcamp-final.jar river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final/app/build/libs (backnback) $ java -jar bitcamp-final.jar ë§Œì•½ .env íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ~/git/bitcamp-final/app/build/libsì—ì„œ JAR íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤ë©´ .env íŒŒì¼ì„ í˜„ì¬ ìœ„ì¹˜ì—ì„œ ì°¾ì•„ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. .env íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ” Root ë””ë ‰í† ë¦¬ì—ì„œ JAR íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤. java -jar ./app/build/libs/bitcamp-final.jar ë‹¨, JAR íŒŒì¼ë¡œ ì‹¤í–‰ ì‹œ ì •ì  íŒŒì¼ì„ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ â‡’ Â  ì¦‰, ê¸°ë³¸ ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ application.propertiesì— ì•„ë˜ ì½”ë“œê°€ ìˆë‹¤ë©´ ì£¼ì„ ì²˜ë¦¬ spring.web.resources.static-locations=file:src/main/resources/static ì •ì  ë¦¬ì†ŒìŠ¤(static resources)ì˜ ìœ„ì¹˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì • ì£¼ì„ ì²˜ë¦¬ ì‹œ, Spring BootëŠ” ê¸°ë³¸ì ìœ¼ë¡œ /static, /public, /resources, /META-INF/resources ë””ë ‰í† ë¦¬ì—ì„œ ì •ì  ë¦¬ì†ŒìŠ¤ë¥¼ ê²€ìƒ‰ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì— ë”°ë¼ í•´ë‹¹ íŒŒì¼ ê²½ë¡œê°€ ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. (2) ìŠ¤í”„ë§ë¶€íŠ¸ ì„¤ì • íŒŒì¼ì„ ê°œë°œê³¼ ìš´ì˜ìœ¼ë¡œ ë¶„ë¦¬ê°œë°œ ëª¨ë“œì™€ ìš´ì˜ ëª¨ë“œë¥¼ ë¶„ë¦¬ application-prod.properties application-dev.propertiesì‹¤í–‰ ì˜µì…˜ JVM ì•„ê·œë¨¼íŠ¸ Â  : Â  -Dspring.profiles.active=dev ì˜ˆ) $ java -Dspring.profiles.active=dev -jar bitcamp-final.jar ì˜ˆ) Gradle : í™˜ê²½ë³€ìˆ˜ë¥¼ í†µí•´ ì„¤ì • $ export SPRING_PROFILES_ACTIVE=dev $ gradle bootRun ì˜ˆ) IntelliJ : í™˜ê²½ë³€ìˆ˜ë¥¼ í†µí•´ ì„¤ì •í•œë‹¤. bootRun Â  â‡’ Â  êµ¬ì„± Â  â‡’ Â  í¸ì§‘ : spring.profiles.active=dev í”„ë¡œê·¸ë¨ ì•„ê·œë¨¼íŠ¸ Â  : Â  --spring.profiles.active=dev ì˜ˆ) $ java -jar bitcamp-final.jar --spring.profiles.active=prod ì˜ˆ) $ gradle bootRun --args='--spring.profiles.active=dev' intelliJ ì—ì„œ application.properties ì´ë¦„ ì§€ì •í•´ì£¼ê¸° bootRunì˜ êµ¬ì„± í¸ì§‘ Â  â‡’ Â  ì‹¤í–‰ í•­ëª© Â  â‡’ Â  ì‹¤í–‰ ì°½ : bootRun --args='--spring.profiles.active=devâ€™ JVM ì•„ê·œë¨¼íŠ¸ë¡œ ì‹¤í–‰í•˜ê¸° dev ëª¨ë“œ ì‹¤í–‰ ì˜ˆì‹œ river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final/app/build/libs (backnback) $ cd ~/git/bitcamp-final river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ cd app/build/libs river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final/app/build/libs (backnback) $ java -Dspring.profiles.active=dev -jar bitcamp-final.jar í”„ë¡œê·¸ë¨ ì•„ê·œë¨¼íŠ¸ë¡œ ì‹¤í–‰í•˜ê¸° dev ëª¨ë“œ ì‹¤í–‰ ì˜ˆì‹œ river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final/app/build/libs (backnback) $ java -jar bitcamp-final.jar --spring.profiles.active=dev Gradle bootRun ì‹¤í–‰ ë°©ë²• ë£¨íŠ¸ í”„ë¡œì íŠ¸ë¡œ ì´ë™ í›„ river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ gradle bootRun --args='spring.profiles.active=dev' (3) NCP ë¦¬ëˆ…ìŠ¤ ì„œë²„ ìƒì„±ACG ì„¤ì • console Â  â‡’ Â  server Â  â‡’ Â  ACG Â  â‡’ Â  ìƒì„± Â  â‡’ Â  bitcamp-vpc-web-acg Â  (bitcamp-vpc ì„ íƒ) Inbound ì„¤ì • TCP Â  : Â  ì ‘ê·¼ ì†ŒìŠ¤ (0.0.0.0/0) í—ˆìš© í¬íŠ¸ (1-65535) UDP Â  : Â  ì ‘ê·¼ ì†ŒìŠ¤ (0.0.0.0/0) í—ˆìš© í¬íŠ¸ (1-65535) ICMP Â  : Â  ì ‘ê·¼ ì†ŒìŠ¤ (0.0.0.0/0) Outbound ì„¤ì • TCP Â  : Â  ëª©ì ì§€ (0.0.0.0/0) í—ˆìš© í¬íŠ¸ (1-65535) UDP Â  : Â  ëª©ì ì§€ (0.0.0.0/0) í—ˆìš© í¬íŠ¸ (1-65535) ICMP Â  : Â  ëª©ì ì§€ (0.0.0.0/0) ë¦¬ëˆ…ìŠ¤ ì„œë²„ ìƒì„± console Â  â‡’ Â  server Â  â‡’ Â  ìƒì„± (ê¸°ì¡´ ì½˜ì†” í™”ë©´) Â  â‡’ Â  CentOS-7.8-64, High CPU bitcamp-vpc, bitcamp-vpc-web-subnet 10.0.1.0/24 High CPU(vCPU 2ê°œ, 4GB, 50GB, g2), ì‹œê°„ ìš”ê¸ˆì œ ì„œë²„ ì´ë¦„ Â  : Â  bitcamp-svr-final network interfaceì˜ ip ì…ë ¥ Â  : Â  10.0.1.51 Â  â‡’ Â  ìƒˆë¡œìš´ ê³µì¸ IP í• ë‹¹ ë¬¼ë¦¬ ë°°ì¹˜ ê·¸ë£¹ ë¯¸ì‚¬ìš© / ë°˜ë‚© ë³´í˜¸ í•´ì œ ì¸ì¦í‚¤ ì´ìš© ìƒˆë¡œìš´ ì¸ì¦í‚¤ ìƒì„± Â Â  (ì´ë¦„ ì˜ˆì‹œ : bitcamp0524-95) ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ ì„¤ì • (ACG) bitcamp-vpc-web-acg ì„œë²„ ìƒì„± SSH ( telnet(ì›ê²© ì ‘ì†) + ë³´ì•ˆ ) ncpì—ì„œ ë§Œë“  ì„œë²„ì˜ ê³µì¸ IPë¥¼ ë³µì‚¬í•˜ì—¬ ì ‘ì† ì„œë²„ ê´€ë¦¬ ë° ì„¤ì • ë³€ê²½ Â  â‡’ Â  ì„œë²„ ì°½ì—ì„œ ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í´ë¦­ â‡’ ìš°ë¦¬ ì¸ì¦í‚¤ë¥¼ ì£¼ë©´ì„œ ë¹„ë°€ë²ˆí˜¸ í™•ì¸í•˜ê¸° Â  â‡’ Â  ë‹¤ì‹œ git bashì—ì„œ ë¹„ë°€ë²ˆí˜¸ ë„£ê¸° river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ ssh root@211.188.48.5 The authenticity of host '211.188.48.5 (211.188.48.5)' can't be established. ED25519 key fingerprint is SHA256:bmFD/+yEZhyPRF/BE85yj9e2/Fd1vFpKP6B9kqjSZHo. This key is not known by any other names. Are you sure you want to continue connecting (yes/no/[fingerprint])? Please type 'yes', 'no' or the fingerprint: yes Warning: Permanently added '211.188.48.5' (ED25519) to the list of known hosts. root@211.188.48.5's password: [root@bitcamp-svr-final ~]# ê´€ë¦¬ì ëª¨ë“œëŠ” #ìœ¼ë¡œ ì‹œì‘í•œë‹¤. Â Â  (ì¼ë°˜ ì‚¬ìš©ì : $) (3-1) ì¼ë°˜ ì‚¬ìš©ì ìƒì„±student ìœ ì € ìƒì„± # useradd student [root@bitcamp-svr-final ~]# useradd student [root@bitcamp-svr-final ~]# cd .. [root@bitcamp-svr-final ~]# ls bin dev home lib media opt root sbin sys usr boot etc home1 lib64 mnt proc run srv tmp var [root@bitcamp-svr-final /]# cd home [root@bitcamp-svr-final home]# ls student [root@bitcamp-svr-final home]# cd student [root@bitcamp-svr-final student]# ls [root@bitcamp-svr-final student]# ls -al total 12 drwx------ 2 student student 62 Nov 5 14:34 . drwxr-xr-x. 3 root root 21 Nov 5 14:34 .. -rw-r--r-- 1 student student 18 Apr 1 2020 .bash_logout -rw-r--r-- 1 student student 193 Apr 1 2020 .bash_profile -rw-r--r-- 1 student student 231 Apr 1 2020 .bashrc [root@bitcamp-svr-final student]# Unix Shellì—ì„œ sh(bourne shell)ì™€ bash(bourne again shell)ì˜ ì°¨ì´ bashëŠ” shì˜ ìƒìœ„ í˜¸í™˜ìœ¼ë¡œ, ë” í˜„ëŒ€ì ì´ê³  ìŠ¤í¬ë¦½íŒ…ì— ìœ ìš©í•œ ê¸°ëŠ¥ì„ ë§ì´ ì œê³µí•œë‹¤ [root@bitcamp-svr-final **student]# nano** ë‚˜ê°€ê¸° Â  : Â  ctrl + x nano Â  : Â  í…ìŠ¤íŠ¸ íŒŒì¼ì„ í¸ì§‘í•  ë•Œ ì‚¬ìš©. cat Â  : Â  í…ìŠ¤íŠ¸ íŒŒì¼ì˜ ë‚´ìš©ì„ ì¶œë ¥í•˜ê±°ë‚˜ ì—¬ëŸ¬ íŒŒì¼ì„ ë³‘í•©í•  ë•Œ ì‚¬ìš© [root@bitcamp-svr-final student]# cat .bash_profile # .bash_profile # Get the aliases and functions if [ -f ~/.bashrc ]; then . ~/.bashrc fi # User specific environment and startup programs PATH=$PATH:$HOME/.local/bin:$HOME/bin export PATH [root@bitcamp-svr-final student]# cat .bashrc # .bashrc # Source global definitions if [ -f /etc/bashrc ]; then . /etc/bashrc fi # Uncomment the following line if you don't like systemctl's auto-paging feature: # export SYSTEMD_PAGER= # User specific aliases and functions ë³´í†µ .bashrcëŠ” ì†ëŒ€ì§€ ì•ŠëŠ”ë‹¤. ëª…ë ¹ì–´ # cd Â  â‡’ Â  í˜„ì¬ ë¡œê·¸ì¸í•œ ë””ë ‰í† ë¦¬ë¡œ ëŒì•„ê°€ê¸° # whoami Â  â‡’ Â  ë‚´ê°€ ëˆ„êµ¬ì•¼? root # pwd Â  â‡’ Â  /root # exit Â  â‡’ Â  ì•„ì˜ˆ ë‚˜ê°€ê¸° student ìœ ì € ë¹„ë°€ë²ˆí˜¸ ìƒì„± # passwd student [root@bitcamp-svr-final ~]# passwd student Changing password for user student. New password: Retype new password: passwd: all authentication tokens updated successfully. ì„œë²„ì— studentë¡œ ì ‘ì†í•˜ê¸° ssh student@IP river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ ssh student@211.188.48.5 student@211.188.48.5's password: [student@bitcamp-svr-final ~]$ ê°€ëŠ¥í•œ ì¼ë°˜ ì‚¬ìš©ìë¡œ ì ‘ì†í•´ì„œ ì‚¬ìš©í•˜ì !! (3-2) Root SSH ì ‘ì† ì œí•œí•˜ê¸°root ì‚¬ìš©ì ë¡œê·¸ì¸ ë¶ˆê°€í•˜ê²Œ ì„¤ì • (Root SSH ì ‘ì† ì œí•œí•˜ê¸°) # nano /etc/ssh/sshd_config river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ ssh root@211.188.48.5 root@211.188.48.5's password: [root@bitcamp-svr-final ~]# cat /etc/ssh/sshd_config # $OpenBSD: sshd_config,v 1.100 2016/08/15 12:32:04 naddy Exp $ # This is the sshd server system-wide configuration file. See # sshd_config(5) for more information. # This sshd was compiled with PATH=/usr/local/bin:/usr/bin ... # Authentication: #LoginGraceTime 2m PermitRootLogin yes (ì´ê²ƒì„ ì°¾ëŠ”ë‹¤) #StrictModes yes #MaxAuthTries 6 #MaxSessions 10 #PubkeyAuthentication yes # The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2 # but this is overridden so installations will only check .ssh/authorized_keys AuthorizedKeysFile .ssh/authorized_keys #AuthorizedPrincipalsFile none ... PermitRootLogin yes ë¥¼ ì°¾ëŠ”ë‹¤. PermitRootLogin yes Â Â  â‡’ Â Â  PermitRootLogin no ë¡œ ìˆ˜ì • [root@bitcamp-svr1 ~]# nano /etc/ssh/sshd_config CTRL + O (ì €ì¥) Â Â  â‡’ Â Â  CTRL + X (ë‚˜ê°€ê¸°) ë³€ê²½ ì‚¬í•­ ì ìš©í•˜ê¸° [root@bitcamp-svr-final ~]# systemctl restart sshd.service â‡’ Â  ì´ì œ ì§ì ‘ rootë¡œ ë¡œê·¸ì¸ í•  ìˆ˜ ì—†ë‹¤. root ê¶Œí•œ ìš”êµ¬ ê·¸ëŸ¬ë‚˜ ì¼ë°˜ ì‚¬ìš©ìë¡œ ì‚¬ìš©í•  ë•Œ root ê¶Œí•œì´ í•„ìš”í•œ ê²½ìš°ê°€ ìˆë‹¤. river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ ssh student@211.188.48.5 student@211.188.48.5's password: [student@bitcamp-svr-final ~]$ yum update Loaded plugins: fastestmirror, langpacks You need to be root to perform this command. You need to be root to perform this command. â‡’ Â  root ê¶Œí•œìœ¼ë¡œ ìˆ˜í–‰í•˜ë¼ê³  í•œë‹¤. (3-3) visudoë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ë°˜ ì‚¬ìš©ìì—ê²Œ sudo ëª…ë ¹ì–´ ê¶Œí•œ ì£¼ê¸°rootë¡œ ë¡œê·¸ì¸ í•˜ì§€ ì•Šê³  root ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ë²• sudo Â  : Â  super user do yum Â  : Â  pakage manager $ sudo yum update Â  : Â  yum ì„œë²„ì˜ ìµœì‹  í”„ë¡œê·¸ë¨ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° river@BOOK-VKBCE9E5R0 MINGW64 ~/git/bitcamp-final (backnback) $ ssh student@211.188.48.5 student@211.188.48.5's password: [student@bitcamp-svr-final ~]$ sudo yum update We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility. [sudo] password for student: student is not in the sudoers file. This incident will be reported. visudo ì‚¬ìš©í•˜ê¸° (ì €ì¥í•  ë•Œ ë¬¸ë²• ì²´í¬í•´ì£¼ëŠ” ê¸°ëŠ¥) ë£¨íŠ¸(Root)ë¡œ ì „í™˜ Â  ($ su) # visudo Â Â  (/etc/sudoerc íŒŒì¼ í¸ì§‘) esc ëˆ„ë¥´ê³  aë¥¼ ëˆ„ë¥´ë©´ ì—”í„°ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ë§¨ ë§ˆì§€ë§‰ ì¤„ì— í•œ ì¤„ ë„ìš°ê³  student ALL=(ALL:ALL) ALL ì €ì¥í•  ë•Œ esc ëˆ„ë¥´ê³  : ì´ê±° ì…ë ¥í•˜ê³  wq ì…ë ¥ $ exitë¡œ studentë¡œ ë‹¤ì‹œ ëŒì•„ê°€ê¸° [student@bitcamp-svr-final ~]$ sudo yum update We trust you have received the usual lecture from the local System Administrator. It usually boils down to these three things: #1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility. [sudo] password for student: student is not in the sudoers file. This incident will be reported. [student@bitcamp-svr-final ~]$ su Password:ã…“ [root@bitcamp-svr-final student]# visudo [root@bitcamp-svr-final student]# exit exit [student@bitcamp-svr-final ~] ë‹¤ì‹œ $ sudo yum update ì‹¤í–‰ [student@bitcamp-svr-final ~]$ sudo yum update [sudo] password for student: Loaded plugins: fastestmirror, langpacks Determining fastest mirrors .... .... (ì—…ë°ì´íŠ¸ ì‹¤í–‰ ì¤‘) .... Complete! ì»¤ë„ì€ ì—…ë°ì´íŠ¸ í•˜ë©´ ì•ˆëœë‹¤. (3-4) JDKë¥¼ ì„¤ì¹˜ í•˜ê¸°ì„¤ì¹˜ í™•ì¸í•˜ê¸° $ java -version [student@bitcamp-svr-final ~]$ java -version -bash: java: command not found [student@bitcamp-svr-final ~]$ sudo yum install java-21-openjdk [sudo] password for student: Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile No package java-21-openjdk available. Error: Nothing to do ì„¤ì¹˜ê°€ ì•ˆë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì„¤ì¹˜ ê°€ëŠ¥ ë¦¬ìŠ¤íŠ¸ë¶€í„° í™•ì¸í•˜ê¸° $ sudo yum list java*jdk-devel [student@bitcamp-svr-final ~]$ sudo yum list java*jdk-devel Loaded plugins: fastestmirror, langpacks Determining fastest mirrors Available Packages java-1.6.0-openjdk-devel.x86_64 1:1.6.0.41-1.13.13.1.el7_3 base java-1.7.0-openjdk-devel.x86_64 1:1.7.0.261-2.6.22.2.el7_8 base java-1.8.0-openjdk-devel.i686 1:1.8.0.412.b08-1.el7_9 update java-1.8.0-openjdk-devel.x86_64 1:1.8.0.412.b08-1.el7_9 update java-11-openjdk-devel.i686 1:11.0.23.0.9-2.el7_9 update java-11-openjdk-devel.x86_64 1:11.0.23.0.9-2.el7_9 update jdk-21ì´ ì—†ìŒ Zulu OpenJDKë¡œ JDK ì„¤ì¹˜ $ sudo yum install -y https://cdn.azul.com/zulu/bin/zulu-repo-1.0.0-1.noarch.rpm â‡’ Azulì˜ Zulu JDK íŒ¨í‚¤ì§€ë¥¼ ì‰½ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ” **í™˜ê²½ ì„¤ì •** ```haskell [student@bitcamp-svr-final ~]$ sudo yum install -y https://cdn.azul.com/zulu/bin/zulu-repo-1.0.0-1.noarch.rpm Loaded plugins: fastestmirror, langpacks zulu-repo-1.0.0-1.noarch.rpm | 3.0 kB 00:00 Examining /var/tmp/yum-root-6gw8Yd/zulu-repo-1.0.0-1.noarch.rpm: zulu-repo-1.0.0-1.noarch Marking /var/tmp/yum-root-6gw8Yd/zulu-repo-1.0.0-1.noarch.rpm to be installed Resolving Dependencies --&gt; Running transaction check ---&gt; Package zulu-repo.noarch 0:1.0.0-1 will be installed --&gt; Finished Dependency Resolution Dependencies Resolved ================================================================================ Package Arch Version Repository Size ================================================================================ Installing: zulu-repo noarch 1.0.0-1 /zulu-repo-1.0.0-1.noarch 0.0 Transaction Summary ================================================================================ Install 1 Package Installed size: 0 Downloading packages: Running transaction check Running transaction test Transaction test succeeded Running transaction Installing : zulu-repo-1.0.0-1.noarch 1/1 Verifying : zulu-repo-1.0.0-1.noarch 1/1 Installed: zulu-repo.noarch 0:1.0.0-1 Complete! ``` $ sudo yum install zulu21-jdk Â Â  (-y ëª…ë ¹ì–´ë¡œ ìë™ yes ì²˜ë¦¬ ê°€ëŠ¥) [student@bitcamp-svr-final ~]$ sudo yum install -y zulu21-jdk Loaded plugins: fastestmirror, langpacks Loading mirror speeds from cached hostfile * epel: repo.jing.rocks zulu-openjdk | 2.9 kB 00:00 zulu-openjdk/primary_db | 906 kB 00:00 Resolving Dependencies --&gt; .... --&gt; Finished Dependency Resolution Dependencies Resolved ... Installing:... Install 1 Package (+9 Dependent packages) Total download size: 132 M Installed size: 293 M Is this ok [y/d/N]: y Downloading packages: (1/10): .... Running transaction check Running transaction test Transaction test succeeded Running transaction Installing : ..... Installed: zulu21-jdk.x86_64 0:21.0.5-3 Dependency Installed: .... Complete! JDK ì„¤ì¹˜ í™•ì¸ $ which javac Â  : Â  javac ì‹¤í–‰ íŒŒì¼ì˜ ê²½ë¡œ ì¶œë ¥ [student@bitcamp-svr-final ~]$ javac -version javac 21.0.5 [student@bitcamp-svr-final ~]$ which javac /usr/bin/javac [student@bitcamp-svr-final ~]$ ls -al /usr/bin/javac lrwxrwxrwx 1 root root 23 Nov 5 15:43 /usr/bin/javac -&gt; /etc/alternatives/javac [student@bitcamp-svr-final ~]$ echo $JAVA_HOME JAVA_HOMEì´ ì„¤ì • ì•ˆë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. (3-5) JAVA_HOME í™˜ê²½ ë³€ìˆ˜ ì„¤ì •JAVA_HOME ì„¤ì •í•˜ê¸° JAVA_HOME [student@bitcamp-svr-final ~]$ cd /usr/lib [student@bitcamp-svr-final lib]$ ls binfmt.d games locale python2.7 tmpfiles.d cpp gcc modprobe.d rpm tuned crda grub modules sendmail udev debug jvm modules-load.d sendmail.postfix yum-plugins dracut kbd NetworkManager sse2 firewalld kdump os-release sysctl.d firmware kernel polkit-1 systemd [student@bitcamp-svr-final lib]$ cd jvm [student@bitcamp-svr-final jvm]$ ls java-21-zulu-openjdk java-21-zulu-openjdk-ca jre zulu21 zulu21-ca [student@bitcamp-svr-final jvm]$ ls -al total 4 drwxr-xr-x 3 root root 107 Nov 5 15:43 . dr-xr-xr-x. 30 root root 4096 Nov 5 15:42 .. lrwxrwxrwx 1 root root 23 Nov 5 15:43 java-21-zulu-openjdk -&gt; java-21-zulu-openjdk-ca drwxr-xr-x 9 root root 163 Oct 16 19:18 java-21-zulu-openjdk-ca lrwxrwxrwx 1 root root 21 Nov 5 15:43 jre -&gt; /etc/alternatives/jre lrwxrwxrwx 1 root root 9 Nov 5 15:43 zulu21 -&gt; zulu21-ca lrwxrwxrwx 1 root root 36 Nov 5 15:43 zulu21-ca -&gt; /usr/lib/jvm/java-21-zulu-openjdk-ca [student@bitcamp-svr-final jvm]$ cd java-21-zulu-openjdk [student@bitcamp-svr-final java-21-zulu-openjdk]$ pwd /usr/lib/jvm/java-21-zulu-openjdk ì¶œë ¥ëœ ê²°ê³¼(/usr/lib/jvm/java-21-zulu-openjdk)ë¥¼ JAVA_HOMEìœ¼ë¡œ ì¡ëŠ”ë‹¤. $ nano ~/.bash_profile ë£¨íŠ¸ ê²½ë¡œë¡œ ì´ë™ í›„ nano .bash_profile export JAVA_HOME=/usr/lib/jvm/java-21-zulu-openjdk [student@bitcamp-svr-final java-21-zulu-openjdk]$ cd [student@bitcamp-svr-final ~]$ nano .bash_profile ctrl + o (ì €ì¥) Â  â‡’ Â  enter Â  â‡’ Â  ctrl + x (ë‚˜ê°€ê¸°) .bash_profileë¥¼ ë°”ê¾¸ë©´ ë‚˜ê°”ë‹¤ê°€ ë“¤ì–´ì˜¤ê±°ë‚˜ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì…ë ¥ í•´ì•¼ í•œë‹¤. [student@bitcamp-svr-final ~]$ source .bash_profile í™˜ê²½ë³€ìˆ˜ í™•ì¸ $ echo $JAVA_HOME [student@bitcamp-svr-final ~]$ echo $JAVA_HOME /usr/lib/jvm/java-21-zulu-openjdk [student@bitcamp-svr-final ~]$ javac -version javac 21.0.5 [student@bitcamp-svr-final ~]$ java -version openjdk version \"21.0.5\" 2024-10-15 LTS OpenJDK Runtime Environment Zulu21.38+21-CA (build 21.0.5+11-LTS) OpenJDK 64-Bit Server VM Zulu21.38+21-CA (build 21.0.5+11-LTS, mixed mode, sharing) (3-6) ë¦¬ëˆ…ìŠ¤ ì„œë²„ì— í”„ë¡œì íŠ¸ í´ë”ë¥¼ ê°€ì ¸ì˜¤ê¸° (GIT CLONE)í”„ë¡œì íŠ¸ ê°€ì ¸ì˜¤ê¸° ì‚¬ìš©ì í™ˆí´ë”ì—ì„œ [student@bitcamp-svr-final ~]$ mkdir git [student@bitcamp-svr-final ~]$ cd git [student@bitcamp-svr-final git]$ git clone https://github.com/backnback/bitcamp-final Cloning into 'bitcamp-final'... remote: Enumerating objects: 98, done. remote: Counting objects: 100% (98/98), done. remote: Compressing objects: 100% (71/71), done. remote: Total 98 (delta 15), reused 95 (delta 15), pack-reused 0 (from 0) Unpacking objects: 100% (98/98), done. gradleì€ ë”°ë¡œ ì„¤ì¹˜í•  í•„ìš” ì—†ë‹¤. $ ./gradlew build [student@bitcamp-svr-final git]$ cd bitcamp-final [student@bitcamp-svr-final bitcamp-final]$ ./gradlew build -bash: ./gradlew: Permission denied [student@bitcamp-svr-final bitcamp-final]$ chmod +x gradlew [student@bitcamp-svr-final bitcamp-final]$ ./gradlew build Downloading https://services.gradle.org/distributions/gradle-8.10.2-bin.zip .............10%.............20%.............30%.............40%.............50%.............60%.............70%.............80%.............90%.............100% Welcome to Gradle 8.10.2! Here are the highlights of this release: - Support for Java 23 - Faster configuration cache - Better configuration cache reports For more details see https://docs.gradle.org/8.10.2/release-notes.html Starting a Gradle Daemon (subsequent builds will be faster) BUILD SUCCESSFUL in 1m 25s 5 actionable tasks: 5 executed permission deniedê°€ ëœ¨ëŠ” ê²½ìš° ê¶Œí•œì„ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤. (chmod) build í›„ JAR íŒŒì¼ ì‹¤í–‰ ì‹œ ì‹¤í–‰ ì•ˆëœë‹¤. â‡’ ncp.properties íŒŒì¼ì´ ì„œë²„ì— ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤. ìš°ë¦¬ì˜ ê²½ìš°ëŠ” final.propertiesì™€ email.properties (4) NCP ë³´ì•ˆ íŒŒì¼ ìƒì„±ì„œë²„ì— NCP ë³´ì•ˆ íŒŒì¼ ë§Œë“¤ê¸° ì‚¬ìš©ì í™ˆí´ë”ì—ì„œ $ mkdir config $ cd config $ nano final.properties (ë¡œì»¬ íŒŒì¼ì˜ ë‚´ìš© ë³µì‚¬ í›„ ë¶™ì—¬ë„£ê¸°) [student@bitcamp-svr-final bitcamp-final]$ cd [student@bitcamp-svr-final ~]$ mkdir config [student@bitcamp-svr-final ~]$ cd config [student@bitcamp-svr-final config]$ nano final.properties ctrl + o (ì €ì¥) Â  â‡’ Â  enter Â  â‡’ Â  ctrl + x (ë‚˜ê°€ê¸°) email.propertiesë„ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬ [student@bitcamp-svr-final config]$ nano email.properties ctrl + o (ì €ì¥) Â  â‡’ Â  enter Â  â‡’ Â  ctrl + x (ë‚˜ê°€ê¸°) (5) ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°ì¹˜ ë° ì‹¤í–‰ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°ì¹˜ ë° ì‹¤í–‰ Git ì €ì¥ì†Œë¥¼ ê°€ì ¸ì™€ì„œ build í›„ JAR íŒŒì¼ ì‹¤í–‰ ~$ mkdir git ~$ cd git ~/git$ git clone https://github.com/backnbakc/bitcamp-final ~/git$ cd bitcamp-final ~/git/bitcamp-myapp$ ./gradlew build ~/git/bitcamp-myapp$ java -jar ./app/build/libs/bitcamp-final.jar í˜„ì¬ëŠ” DBì— ì ‘ì† í¬íŠ¸ê°€ í—ˆìš©ë˜ì§€ ì•Šì•„ì„œ dbì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•œë‹¤. (6) MySQL ACLì— ì ‘ì† ì„œë²„ì˜ IP ë“±ë¡NCP ì½˜ì†”ì—ì„œ DB í—ˆìš© ì¶”ê°€í•˜ê¸° ì„œë²„ Â  â‡’ Â  acg Â  â‡’ Â  mysql Â  â‡’ Â  inbound ê·œì¹™ ìˆ˜ì • (TCP : 211.188.48.5/32 , í—ˆìš© í¬íŠ¸ : 1-65535) " } ]
